import{d as ZO,t as XO,c as v,g as QO,_ as JO,E as ew,h as ke,r as Zr,o as io,a as Kf,b as je,n as zn,e as Oe,w as Re,F as Zf,f as qv,i as Ze,j as Gv,p as tw,k as rw,l as Yv}from"./index-36b9dbfd.js";var Vh="http://www.w3.org/1999/xhtml";const Kv={svg:"http://www.w3.org/2000/svg",xhtml:Vh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ec(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Kv.hasOwnProperty(r)?{space:Kv[r],local:e}:e}function nw(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===Vh&&r.documentElement.namespaceURI===Vh?r.createElement(e):r.createElementNS(n,e)}}function iw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tm(e){var r=Ec(e);return(r.local?iw:nw)(r)}function ow(){}function kd(e){return e==null?ow:function(){return this.querySelector(e)}}function aw(e){typeof e!="function"&&(e=kd(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],u=a.length,s=i[o]=new Array(u),l,c,f=0;f<u;++f)(l=a[f])&&(c=e.call(l,l.__data__,f,a))&&("__data__"in l&&(c.__data__=l.__data__),s[f]=c);return new st(i,this._parents)}function uw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function sw(){return[]}function Pm(e){return e==null?sw:function(){return this.querySelectorAll(e)}}function cw(e){return function(){return uw(e.apply(this,arguments))}}function lw(e){typeof e=="function"?e=cw(e):e=Pm(e);for(var r=this._groups,n=r.length,i=[],o=[],a=0;a<n;++a)for(var u=r[a],s=u.length,l,c=0;c<s;++c)(l=u[c])&&(i.push(e.call(l,l.__data__,c,u)),o.push(l));return new st(i,o)}function Cm(e){return function(){return this.matches(e)}}function Im(e){return function(r){return r.matches(e)}}var fw=Array.prototype.find;function hw(e){return function(){return fw.call(this.children,e)}}function dw(){return this.firstElementChild}function vw(e){return this.select(e==null?dw:hw(typeof e=="function"?e:Im(e)))}var _w=Array.prototype.filter;function pw(){return Array.from(this.children)}function yw(e){return function(){return _w.call(this.children,e)}}function mw(e){return this.selectAll(e==null?pw:yw(typeof e=="function"?e:Im(e)))}function bw(e){typeof e!="function"&&(e=Cm(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],u=a.length,s=i[o]=[],l,c=0;c<u;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new st(i,this._parents)}function Am(e){return new Array(e.length)}function gw(){return new st(this._enter||this._groups.map(Am),this._parents)}function Qs(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Qs.prototype={constructor:Qs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ow(e){return function(){return e}}function ww(e,r,n,i,o,a){for(var u=0,s,l=r.length,c=a.length;u<c;++u)(s=r[u])?(s.__data__=a[u],i[u]=s):n[u]=new Qs(e,a[u]);for(;u<l;++u)(s=r[u])&&(o[u]=s)}function Ew(e,r,n,i,o,a,u){var s,l,c=new Map,f=r.length,h=a.length,d=new Array(f),p;for(s=0;s<f;++s)(l=r[s])&&(d[s]=p=u.call(l,l.__data__,s,r)+"",c.has(p)?o[s]=l:c.set(p,l));for(s=0;s<h;++s)p=u.call(e,a[s],s,a)+"",(l=c.get(p))?(i[s]=l,l.__data__=a[s],c.delete(p)):n[s]=new Qs(e,a[s]);for(s=0;s<f;++s)(l=r[s])&&c.get(d[s])===l&&(o[s]=l)}function Sw(e){return e.__data__}function Tw(e,r){if(!arguments.length)return Array.from(this,Sw);var n=r?Ew:ww,i=this._parents,o=this._groups;typeof e!="function"&&(e=Ow(e));for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=Pw(e.call(f,f&&f.__data__,c,i)),m=p.length,O=s[c]=new Array(m),T=u[c]=new Array(m),b=l[c]=new Array(d);n(f,h,O,T,b,p,r);for(var P=0,C=0,E,w;P<m;++P)if(E=O[P]){for(P>=C&&(C=P+1);!(w=T[C])&&++C<m;);E._next=w||null}}return u=new st(u,i),u._enter=s,u._exit=l,u}function Pw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cw(){return new st(this._exit||this._groups.map(Am),this._parents)}function Iw(e,r,n){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function Aw(e){for(var r=e.selection?e.selection():e,n=this._groups,i=r._groups,o=n.length,a=i.length,u=Math.min(o,a),s=new Array(o),l=0;l<u;++l)for(var c=n[l],f=i[l],h=c.length,d=s[l]=new Array(h),p,m=0;m<h;++m)(p=c[m]||f[m])&&(d[m]=p);for(;l<o;++l)s[l]=n[l];return new st(s,this._parents)}function Rw(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var i=e[r],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function jw(e){e||(e=Mw);function r(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],s=u.length,l=o[a]=new Array(s),c,f=0;f<s;++f)(c=u[f])&&(l[f]=c);l.sort(r)}return new st(o,this._parents).order()}function Mw(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Nw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kw(){return Array.from(this)}function xw(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function $w(){let e=0;for(const r of this)++e;return e}function Dw(){return!this.node()}function Lw(e){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,u=o.length,s;a<u;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function Uw(e){return function(){this.removeAttribute(e)}}function Fw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bw(e,r){return function(){this.setAttribute(e,r)}}function zw(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Ww(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Vw(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Hw(e,r){var n=Ec(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?Fw:Uw:typeof r=="function"?n.local?Vw:Ww:n.local?zw:Bw)(n,r))}function Rm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qw(e){return function(){this.style.removeProperty(e)}}function Gw(e,r,n){return function(){this.style.setProperty(e,r,n)}}function Yw(e,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Kw(e,r,n){return arguments.length>1?this.each((r==null?qw:typeof r=="function"?Yw:Gw)(e,r,n??"")):ai(this.node(),e)}function ai(e,r){return e.style.getPropertyValue(r)||Rm(e).getComputedStyle(e,null).getPropertyValue(r)}function Zw(e){return function(){delete this[e]}}function Xw(e,r){return function(){this[e]=r}}function Qw(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jw(e,r){return arguments.length>1?this.each((r==null?Zw:typeof r=="function"?Qw:Xw)(e,r)):this.node()[e]}function jm(e){return e.trim().split(/^|\s+/)}function xd(e){return e.classList||new Mm(e)}function Mm(e){this._node=e,this._names=jm(e.getAttribute("class")||"")}Mm.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nm(e,r){for(var n=xd(e),i=-1,o=r.length;++i<o;)n.add(r[i])}function km(e,r){for(var n=xd(e),i=-1,o=r.length;++i<o;)n.remove(r[i])}function eE(e){return function(){Nm(this,e)}}function tE(e){return function(){km(this,e)}}function rE(e,r){return function(){(r.apply(this,arguments)?Nm:km)(this,e)}}function nE(e,r){var n=jm(e+"");if(arguments.length<2){for(var i=xd(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof r=="function"?rE:r?eE:tE)(n,r))}function iE(){this.textContent=""}function oE(e){return function(){this.textContent=e}}function aE(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function uE(e){return arguments.length?this.each(e==null?iE:(typeof e=="function"?aE:oE)(e)):this.node().textContent}function sE(){this.innerHTML=""}function cE(e){return function(){this.innerHTML=e}}function lE(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function fE(e){return arguments.length?this.each(e==null?sE:(typeof e=="function"?lE:cE)(e)):this.node().innerHTML}function hE(){this.nextSibling&&this.parentNode.appendChild(this)}function dE(){return this.each(hE)}function vE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _E(){return this.each(vE)}function pE(e){var r=typeof e=="function"?e:Tm(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function yE(){return null}function mE(e,r){var n=typeof e=="function"?e:Tm(e),i=r==null?yE:typeof r=="function"?r:kd(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function bE(){var e=this.parentNode;e&&e.removeChild(this)}function gE(){return this.each(bE)}function OE(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function wE(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function EE(e){return this.select(e?wE:OE)}function SE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function TE(e){return function(r){e.call(this,r,this.__data__)}}function PE(e){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function CE(e){return function(){var r=this.__on;if(r){for(var n=0,i=-1,o=r.length,a;n<o;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++i]=a;++i?r.length=i:delete this.__on}}}function IE(e,r,n){return function(){var i=this.__on,o,a=TE(r);if(i){for(var u=0,s=i.length;u<s;++u)if((o=i[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=r;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:r,listener:a,options:n},i?i.push(o):this.__on=[o]}}function AE(e,r,n){var i=PE(e+""),o,a=i.length,u;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,f;l<c;++l)for(o=0,f=s[l];o<a;++o)if((u=i[o]).type===f.type&&u.name===f.name)return f.value}return}for(s=r?IE:CE,o=0;o<a;++o)this.each(s(i[o],r,n));return this}function xm(e,r,n){var i=Rm(e),o=i.CustomEvent;typeof o=="function"?o=new o(r,n):(o=i.document.createEvent("Event"),n?(o.initEvent(r,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function RE(e,r){return function(){return xm(this,e,r)}}function jE(e,r){return function(){return xm(this,e,r.apply(this,arguments))}}function ME(e,r){return this.each((typeof r=="function"?jE:RE)(e,r))}function*NE(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var $m=[null];function st(e,r){this._groups=e,this._parents=r}function ta(){return new st([[document.documentElement]],$m)}function kE(){return this}st.prototype=ta.prototype={constructor:st,select:aw,selectAll:lw,selectChild:vw,selectChildren:mw,filter:bw,data:Tw,enter:gw,exit:Cw,join:Iw,merge:Aw,selection:kE,order:Rw,sort:jw,call:Nw,nodes:kw,node:xw,size:$w,empty:Dw,each:Lw,attr:Hw,style:Kw,property:Jw,classed:nE,text:uE,html:fE,raise:dE,lower:_E,append:pE,insert:mE,remove:gE,clone:EE,datum:SE,on:AE,dispatch:ME,[Symbol.iterator]:NE};function Tt(e){return typeof e=="string"?new st([[document.querySelector(e)]],[document.documentElement]):new st([[e]],$m)}function xE(e){let r;for(;r=e.sourceEvent;)e=r;return e}function rr(e,r){if(e=xE(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}var $E={value:()=>{}};function ra(){for(var e=0,r=arguments.length,n={},i;e<r;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Vs(n)}function Vs(e){this._=e}function DE(e,r){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Vs.prototype=ra.prototype={constructor:Vs,on:function(e,r){var n=this._,i=DE(e+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(e=i[a]).type)&&(o=LE(n[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<u;)if(o=(e=i[a]).type)n[o]=Zv(n[o],e.name,r);else if(r==null)for(o in n)n[o]=Zv(n[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new Vs(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(r,n)}};function LE(e,r){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===r)return o.value}function Zv(e,r,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===r){e[i]=$E,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:r,value:n}),e}const UE={passive:!1},Vo={capture:!0,passive:!1};function Xf(e){e.stopImmediatePropagation()}function Qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Dm(e){var r=e.document.documentElement,n=Tt(e).on("dragstart.drag",Qn,Vo);"onselectstart"in r?n.on("selectstart.drag",Qn,Vo):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Lm(e,r){var n=e.document.documentElement,i=Tt(e).on("dragstart.drag",null);r&&(i.on("click.drag",Qn,Vo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ms=e=>()=>e;function Hh(e,{sourceEvent:r,subject:n,target:i,identifier:o,active:a,x:u,y:s,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}Hh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function FE(e){return!e.ctrlKey&&!e.button}function BE(){return this.parentNode}function zE(e,r){return r??{x:e.x,y:e.y}}function WE(){return navigator.maxTouchPoints||"ontouchstart"in this}function VE(){var e=FE,r=BE,n=zE,i=WE,o={},a=ra("start","drag","end"),u=0,s,l,c,f,h=0;function d(E){E.on("mousedown.drag",p).filter(i).on("touchstart.drag",T).on("touchmove.drag",b,UE).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(E,w){if(!(f||!e.call(this,E,w))){var A=C(this,r.call(this,E,w),E,w,"mouse");A&&(Tt(E.view).on("mousemove.drag",m,Vo).on("mouseup.drag",O,Vo),Dm(E.view),Xf(E),c=!1,s=E.clientX,l=E.clientY,A("start",E))}}function m(E){if(Qn(E),!c){var w=E.clientX-s,A=E.clientY-l;c=w*w+A*A>h}o.mouse("drag",E)}function O(E){Tt(E.view).on("mousemove.drag mouseup.drag",null),Lm(E.view,c),Qn(E),o.mouse("end",E)}function T(E,w){if(e.call(this,E,w)){var A=E.changedTouches,j=r.call(this,E,w),N=A.length,z,B;for(z=0;z<N;++z)(B=C(this,j,E,w,A[z].identifier,A[z]))&&(Xf(E),B("start",E,A[z]))}}function b(E){var w=E.changedTouches,A=w.length,j,N;for(j=0;j<A;++j)(N=o[w[j].identifier])&&(Qn(E),N("drag",E,w[j]))}function P(E){var w=E.changedTouches,A=w.length,j,N;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),j=0;j<A;++j)(N=o[w[j].identifier])&&(Xf(E),N("end",E,w[j]))}function C(E,w,A,j,N,z){var B=a.copy(),G=rr(z||A,w),H,X,R;if((R=n.call(E,new Hh("beforestart",{sourceEvent:A,target:d,identifier:N,active:u,x:G[0],y:G[1],dx:0,dy:0,dispatch:B}),j))!=null)return H=R.x-G[0]||0,X=R.y-G[1]||0,function $(k,F,U){var Y=G,Z;switch(k){case"start":o[N]=$,Z=u++;break;case"end":delete o[N],--u;case"drag":G=rr(U||F,w),Z=u;break}B.call(k,E,new Hh(k,{sourceEvent:F,subject:R,target:d,identifier:N,active:Z,x:G[0]+H,y:G[1]+X,dx:G[0]-Y[0],dy:G[1]-Y[1],dispatch:B}),j)}}return d.filter=function(E){return arguments.length?(e=typeof E=="function"?E:ms(!!E),d):e},d.container=function(E){return arguments.length?(r=typeof E=="function"?E:ms(E),d):r},d.subject=function(E){return arguments.length?(n=typeof E=="function"?E:ms(E),d):n},d.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:ms(!!E),d):i},d.on=function(){var E=a.on.apply(a,arguments);return E===a?d:E},d.clickDistance=function(E){return arguments.length?(h=(E=+E)*E,d):Math.sqrt(h)},d}function $d(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function Um(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function na(){}var Ho=.7,Js=1/Ho,Jn="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HE=/^#([0-9a-f]{3,8})$/,qE=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),GE=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),YE=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${qo}\\)$`),KE=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${qo}\\)$`),ZE=new RegExp(`^hsl\\(${qo},${Bt},${Bt}\\)$`),XE=new RegExp(`^hsla\\(${qo},${Bt},${Bt},${qo}\\)$`),Xv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$d(na,Go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qv,formatHex:Qv,formatHex8:QE,formatHsl:JE,formatRgb:Jv,toString:Jv});function Qv(){return this.rgb().formatHex()}function QE(){return this.rgb().formatHex8()}function JE(){return Fm(this).formatHsl()}function Jv(){return this.rgb().formatRgb()}function Go(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=HE.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?e_(r):n===3?new rt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?bs(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?bs(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=qE.exec(e))?new rt(r[1],r[2],r[3],1):(r=GE.exec(e))?new rt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=YE.exec(e))?bs(r[1],r[2],r[3],r[4]):(r=KE.exec(e))?bs(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ZE.exec(e))?n_(r[1],r[2]/100,r[3]/100,1):(r=XE.exec(e))?n_(r[1],r[2]/100,r[3]/100,r[4]):Xv.hasOwnProperty(e)?e_(Xv[e]):e==="transparent"?new rt(NaN,NaN,NaN,0):null}function e_(e){return new rt(e>>16&255,e>>8&255,e&255,1)}function bs(e,r,n,i){return i<=0&&(e=r=n=NaN),new rt(e,r,n,i)}function eS(e){return e instanceof na||(e=Go(e)),e?(e=e.rgb(),new rt(e.r,e.g,e.b,e.opacity)):new rt}function qh(e,r,n,i){return arguments.length===1?eS(e):new rt(e,r,n,i??1)}function rt(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}$d(rt,qh,Um(na,{brighter(e){return e=e==null?Js:Math.pow(Js,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ho:Math.pow(Ho,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rt(dn(this.r),dn(this.g),dn(this.b),ec(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t_,formatHex:t_,formatHex8:tS,formatRgb:r_,toString:r_}));function t_(){return`#${ln(this.r)}${ln(this.g)}${ln(this.b)}`}function tS(){return`#${ln(this.r)}${ln(this.g)}${ln(this.b)}${ln((isNaN(this.opacity)?1:this.opacity)*255)}`}function r_(){const e=ec(this.opacity);return`${e===1?"rgb(":"rgba("}${dn(this.r)}, ${dn(this.g)}, ${dn(this.b)}${e===1?")":`, ${e})`}`}function ec(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ln(e){return e=dn(e),(e<16?"0":"")+e.toString(16)}function n_(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Pt(e,r,n,i)}function Fm(e){if(e instanceof Pt)return new Pt(e.h,e.s,e.l,e.opacity);if(e instanceof na||(e=Go(e)),!e)return new Pt;if(e instanceof Pt)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(r,n,i),a=Math.max(r,n,i),u=NaN,s=a-o,l=(a+o)/2;return s?(r===a?u=(n-i)/s+(n<i)*6:n===a?u=(i-r)/s+2:u=(r-n)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new Pt(u,s,l,e.opacity)}function rS(e,r,n,i){return arguments.length===1?Fm(e):new Pt(e,r,n,i??1)}function Pt(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}$d(Pt,rS,Um(na,{brighter(e){return e=e==null?Js:Math.pow(Js,e),new Pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ho:Math.pow(Ho,e),new Pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,o=2*n-i;return new rt(Qf(e>=240?e-240:e+120,o,i),Qf(e,o,i),Qf(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Pt(i_(this.h),gs(this.s),gs(this.l),ec(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ec(this.opacity);return`${e===1?"hsl(":"hsla("}${i_(this.h)}, ${gs(this.s)*100}%, ${gs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i_(e){return e=(e||0)%360,e<0?e+360:e}function gs(e){return Math.max(0,Math.min(1,e||0))}function Qf(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const Bm=e=>()=>e;function nS(e,r){return function(n){return e+n*r}}function iS(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function oS(e){return(e=+e)==1?zm:function(r,n){return n-r?iS(r,n,e):Bm(isNaN(r)?n:r)}}function zm(e,r){var n=r-e;return n?nS(e,n):Bm(isNaN(e)?r:e)}const o_=function e(r){var n=oS(r);function i(o,a){var u=n((o=qh(o)).r,(a=qh(a)).r),s=n(o.g,a.g),l=n(o.b,a.b),c=zm(o.opacity,a.opacity);return function(f){return o.r=u(f),o.g=s(f),o.b=l(f),o.opacity=c(f),o+""}}return i.gamma=e,i}(1);function Sr(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}var Gh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jf=new RegExp(Gh.source,"g");function aS(e){return function(){return e}}function uS(e){return function(r){return e(r)+""}}function sS(e,r){var n=Gh.lastIndex=Jf.lastIndex=0,i,o,a,u=-1,s=[],l=[];for(e=e+"",r=r+"";(i=Gh.exec(e))&&(o=Jf.exec(r));)(a=o.index)>n&&(a=r.slice(n,a),s[u]?s[u]+=a:s[++u]=a),(i=i[0])===(o=o[0])?s[u]?s[u]+=o:s[++u]=o:(s[++u]=null,l.push({i:u,x:Sr(i,o)})),n=Jf.lastIndex;return n<r.length&&(a=r.slice(n),s[u]?s[u]+=a:s[++u]=a),s.length<2?l[0]?uS(l[0].x):aS(r):(r=l.length,function(c){for(var f=0,h;f<r;++f)s[(h=l[f]).i]=h.x(c);return s.join("")})}var a_=180/Math.PI,Yh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wm(e,r,n,i,o,a){var u,s,l;return(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u),(l=e*n+r*i)&&(n-=e*l,i-=r*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<r*n&&(e=-e,r=-r,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(r,e)*a_,skewX:Math.atan(l)*a_,scaleX:u,scaleY:s}}var Os;function cS(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Yh:Wm(r.a,r.b,r.c,r.d,r.e,r.f)}function lS(e){return e==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",e),!(e=Os.transform.baseVal.consolidate()))?Yh:(e=e.matrix,Wm(e.a,e.b,e.c,e.d,e.e,e.f))}function Vm(e,r,n,i){function o(c){return c.length?c.pop()+" ":""}function a(c,f,h,d,p,m){if(c!==h||f!==d){var O=p.push("translate(",null,r,null,n);m.push({i:O-4,x:Sr(c,h)},{i:O-2,x:Sr(f,d)})}else(h||d)&&p.push("translate("+h+r+d+n)}function u(c,f,h,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:h.push(o(h)+"rotate(",null,i)-2,x:Sr(c,f)})):f&&h.push(o(h)+"rotate("+f+i)}function s(c,f,h,d){c!==f?d.push({i:h.push(o(h)+"skewX(",null,i)-2,x:Sr(c,f)}):f&&h.push(o(h)+"skewX("+f+i)}function l(c,f,h,d,p,m){if(c!==h||f!==d){var O=p.push(o(p)+"scale(",null,",",null,")");m.push({i:O-4,x:Sr(c,h)},{i:O-2,x:Sr(f,d)})}else(h!==1||d!==1)&&p.push(o(p)+"scale("+h+","+d+")")}return function(c,f){var h=[],d=[];return c=e(c),f=e(f),a(c.translateX,c.translateY,f.translateX,f.translateY,h,d),u(c.rotate,f.rotate,h,d),s(c.skewX,f.skewX,h,d),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,h,d),c=f=null,function(p){for(var m=-1,O=d.length,T;++m<O;)h[(T=d[m]).i]=T.x(p);return h.join("")}}}var fS=Vm(cS,"px, ","px)","deg)"),hS=Vm(lS,", ",")",")"),dS=1e-12;function u_(e){return((e=Math.exp(e))+1/e)/2}function vS(e){return((e=Math.exp(e))-1/e)/2}function _S(e){return((e=Math.exp(2*e))-1)/(e+1)}const pS=function e(r,n,i){function o(a,u){var s=a[0],l=a[1],c=a[2],f=u[0],h=u[1],d=u[2],p=f-s,m=h-l,O=p*p+m*m,T,b;if(O<dS)b=Math.log(d/c)/r,T=function(j){return[s+j*p,l+j*m,c*Math.exp(r*j*b)]};else{var P=Math.sqrt(O),C=(d*d-c*c+i*O)/(2*c*n*P),E=(d*d-c*c-i*O)/(2*d*n*P),w=Math.log(Math.sqrt(C*C+1)-C),A=Math.log(Math.sqrt(E*E+1)-E);b=(A-w)/r,T=function(j){var N=j*b,z=u_(w),B=c/(n*P)*(z*_S(r*N+w)-vS(w));return[s+B*p,l+B*m,c*z/u_(r*N+w)]}}return T.duration=b*1e3*r/Math.SQRT2,T}return o.rho=function(a){var u=Math.max(.001,+a),s=u*u,l=s*s;return e(u,s,l)},o}(Math.SQRT2,2,4);var ui=0,Co=0,oo=0,Hm=1e3,tc,Io,rc=0,pn=0,Sc=0,Yo=typeof performance=="object"&&performance.now?performance:Date,qm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dd(){return pn||(qm(yS),pn=Yo.now()+Sc)}function yS(){pn=0}function nc(){this._call=this._time=this._next=null}nc.prototype=Ld.prototype={constructor:nc,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Dd():+n)+(r==null?0:+r),!this._next&&Io!==this&&(Io?Io._next=this:tc=this,Io=this),this._call=e,this._time=n,Kh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kh())}};function Ld(e,r,n){var i=new nc;return i.restart(e,r,n),i}function mS(){Dd(),++ui;for(var e=tc,r;e;)(r=pn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--ui}function s_(){pn=(rc=Yo.now())+Sc,ui=Co=0;try{mS()}finally{ui=0,gS(),pn=0}}function bS(){var e=Yo.now(),r=e-rc;r>Hm&&(Sc-=r,rc=e)}function gS(){for(var e,r=tc,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:tc=n);Io=e,Kh(i)}function Kh(e){if(!ui){Co&&(Co=clearTimeout(Co));var r=e-pn;r>24?(e<1/0&&(Co=setTimeout(s_,e-Yo.now()-Sc)),oo&&(oo=clearInterval(oo))):(oo||(rc=Yo.now(),oo=setInterval(bS,Hm)),ui=1,qm(s_))}}function c_(e,r,n){var i=new nc;return r=r==null?0:+r,i.restart(o=>{i.stop(),e(o+r)},r,n),i}var OS=ra("start","end","cancel","interrupt"),wS=[],Gm=0,l_=1,Zh=2,Hs=3,f_=4,Xh=5,qs=6;function Tc(e,r,n,i,o,a){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;ES(e,n,{name:r,index:i,group:o,on:OS,tween:wS,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Gm})}function Ud(e,r){var n=Rt(e,r);if(n.state>Gm)throw new Error("too late; already scheduled");return n}function Wt(e,r){var n=Rt(e,r);if(n.state>Hs)throw new Error("too late; already running");return n}function Rt(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function ES(e,r,n){var i=e.__transition,o;i[r]=n,n.timer=Ld(a,0,n.time);function a(c){n.state=l_,n.timer.restart(u,n.delay,n.time),n.delay<=c&&u(c-n.delay)}function u(c){var f,h,d,p;if(n.state!==l_)return l();for(f in i)if(p=i[f],p.name===n.name){if(p.state===Hs)return c_(u);p.state===f_?(p.state=qs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[f]):+f<r&&(p.state=qs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[f])}if(c_(function(){n.state===Hs&&(n.state=f_,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Zh,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zh){for(n.state=Hs,o=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function s(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Xh,1),h=-1,d=o.length;++h<d;)o[h].call(e,f);n.state===Xh&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=qs,n.timer.stop(),delete i[r];for(var c in i)return;delete e.__transition}}function Gs(e,r){var n=e.__transition,i,o,a=!0,u;if(n){r=r==null?null:r+"";for(u in n){if((i=n[u]).name!==r){a=!1;continue}o=i.state>Zh&&i.state<Xh,i.state=qs,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[u]}a&&delete e.__transition}}function SS(e){return this.each(function(){Gs(this,e)})}function TS(e,r){var n,i;return function(){var o=Wt(this,e),a=o.tween;if(a!==n){i=n=a;for(var u=0,s=i.length;u<s;++u)if(i[u].name===r){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function PS(e,r,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=Wt(this,e),u=a.tween;if(u!==i){o=(i=u).slice();for(var s={name:r,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===r){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function CS(e,r){var n=this._id;if(e+="",arguments.length<2){for(var i=Rt(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===e)return u.value;return null}return this.each((r==null?TS:PS)(n,e,r))}function Fd(e,r,n){var i=e._id;return e.each(function(){var o=Wt(this,i);(o.value||(o.value={}))[r]=n.apply(this,arguments)}),function(o){return Rt(o,i).value[r]}}function Ym(e,r){var n;return(typeof r=="number"?Sr:r instanceof Go?o_:(n=Go(r))?(r=n,o_):sS)(e,r)}function IS(e){return function(){this.removeAttribute(e)}}function AS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RS(e,r,n){var i,o=n+"",a;return function(){var u=this.getAttribute(e);return u===o?null:u===i?a:a=r(i=u,n)}}function jS(e,r,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===i?a:a=r(i=u,n)}}function MS(e,r,n){var i,o,a;return function(){var u,s=n(this),l;return s==null?void this.removeAttribute(e):(u=this.getAttribute(e),l=s+"",u===l?null:u===i&&l===o?a:(o=l,a=r(i=u,s)))}}function NS(e,r,n){var i,o,a;return function(){var u,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),l=s+"",u===l?null:u===i&&l===o?a:(o=l,a=r(i=u,s)))}}function kS(e,r){var n=Ec(e),i=n==="transform"?hS:Ym;return this.attrTween(e,typeof r=="function"?(n.local?NS:MS)(n,i,Fd(this,"attr."+e,r)):r==null?(n.local?AS:IS)(n):(n.local?jS:RS)(n,i,r))}function xS(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function $S(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function DS(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&$S(e,a)),n}return o._value=r,o}function LS(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&xS(e,a)),n}return o._value=r,o}function US(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=Ec(e);return this.tween(n,(i.local?DS:LS)(i,r))}function FS(e,r){return function(){Ud(this,e).delay=+r.apply(this,arguments)}}function BS(e,r){return r=+r,function(){Ud(this,e).delay=r}}function zS(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?FS:BS)(r,e)):Rt(this.node(),r).delay}function WS(e,r){return function(){Wt(this,e).duration=+r.apply(this,arguments)}}function VS(e,r){return r=+r,function(){Wt(this,e).duration=r}}function HS(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?WS:VS)(r,e)):Rt(this.node(),r).duration}function qS(e,r){if(typeof r!="function")throw new Error;return function(){Wt(this,e).ease=r}}function GS(e){var r=this._id;return arguments.length?this.each(qS(r,e)):Rt(this.node(),r).ease}function YS(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;Wt(this,e).ease=n}}function KS(e){if(typeof e!="function")throw new Error;return this.each(YS(this._id,e))}function ZS(e){typeof e!="function"&&(e=Cm(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],u=a.length,s=i[o]=[],l,c=0;c<u;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new dr(i,this._parents,this._name,this._id)}function XS(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var l=r[s],c=n[s],f=l.length,h=u[s]=new Array(f),d,p=0;p<f;++p)(d=l[p]||c[p])&&(h[p]=d);for(;s<i;++s)u[s]=r[s];return new dr(u,this._parents,this._name,this._id)}function QS(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function JS(e,r,n){var i,o,a=QS(r)?Ud:Wt;return function(){var u=a(this,e),s=u.on;s!==i&&(o=(i=s).copy()).on(r,n),u.on=o}}function eT(e,r){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(JS(n,e,r))}function tT(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function rT(){return this.on("end.remove",tT(this._id))}function nT(e){var r=this._name,n=this._id;typeof e!="function"&&(e=kd(e));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var s=i[u],l=s.length,c=a[u]=new Array(l),f,h,d=0;d<l;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),c[d]=h,Tc(c[d],r,n,d,c,Rt(f,n)));return new dr(a,this._parents,r,n)}function iT(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Pm(e));for(var i=this._groups,o=i.length,a=[],u=[],s=0;s<o;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)if(f=l[h]){for(var d=e.call(f,f.__data__,h,l),p,m=Rt(f,n),O=0,T=d.length;O<T;++O)(p=d[O])&&Tc(p,r,n,O,d,m);a.push(d),u.push(f)}return new dr(a,u,r,n)}var oT=ta.prototype.constructor;function aT(){return new oT(this._groups,this._parents)}function uT(e,r){var n,i,o;return function(){var a=ai(this,e),u=(this.style.removeProperty(e),ai(this,e));return a===u?null:a===n&&u===i?o:o=r(n=a,i=u)}}function Km(e){return function(){this.style.removeProperty(e)}}function sT(e,r,n){var i,o=n+"",a;return function(){var u=ai(this,e);return u===o?null:u===i?a:a=r(i=u,n)}}function cT(e,r,n){var i,o,a;return function(){var u=ai(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ai(this,e))),u===l?null:u===i&&l===o?a:(o=l,a=r(i=u,s))}}function lT(e,r){var n,i,o,a="style."+r,u="end."+a,s;return function(){var l=Wt(this,e),c=l.on,f=l.value[a]==null?s||(s=Km(r)):void 0;(c!==n||o!==f)&&(i=(n=c).copy()).on(u,o=f),l.on=i}}function fT(e,r,n){var i=(e+="")=="transform"?fS:Ym;return r==null?this.styleTween(e,uT(e,i)).on("end.style."+e,Km(e)):typeof r=="function"?this.styleTween(e,cT(e,i,Fd(this,"style."+e,r))).each(lT(this._id,e)):this.styleTween(e,sT(e,i,r),n).on("end.style."+e,null)}function hT(e,r,n){return function(i){this.style.setProperty(e,r.call(this,i),n)}}function dT(e,r,n){var i,o;function a(){var u=r.apply(this,arguments);return u!==o&&(i=(o=u)&&hT(e,u,n)),i}return a._value=r,a}function vT(e,r,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,dT(e,r,n??""))}function _T(e){return function(){this.textContent=e}}function pT(e){return function(){var r=e(this);this.textContent=r??""}}function yT(e){return this.tween("text",typeof e=="function"?pT(Fd(this,"text",e)):_T(e==null?"":e+""))}function mT(e){return function(r){this.textContent=e.call(this,r)}}function bT(e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&mT(o)),r}return i._value=e,i}function gT(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,bT(e))}function OT(){for(var e=this._name,r=this._id,n=Zm(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],s=u.length,l,c=0;c<s;++c)if(l=u[c]){var f=Rt(l,r);Tc(l,e,n,c,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new dr(i,this._parents,e,n)}function wT(){var e,r,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var s={value:u},l={value:function(){--o===0&&a()}};n.each(function(){var c=Wt(this,i),f=c.on;f!==e&&(r=(e=f).copy(),r._.cancel.push(s),r._.interrupt.push(s),r._.end.push(l)),c.on=r}),o===0&&a()})}var ET=0;function dr(e,r,n,i){this._groups=e,this._parents=r,this._name=n,this._id=i}function Zm(){return++ET}var Qt=ta.prototype;dr.prototype={constructor:dr,select:nT,selectAll:iT,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:ZS,merge:XS,selection:aT,transition:OT,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:eT,attr:kS,attrTween:US,style:fT,styleTween:vT,text:yT,textTween:gT,remove:rT,tween:CS,delay:zS,duration:HS,ease:GS,easeVarying:KS,end:wT,[Symbol.iterator]:Qt[Symbol.iterator]};function ST(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var TT={time:null,delay:0,duration:250,ease:ST};function PT(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function CT(e){var r,n;e instanceof dr?(r=e._id,e=e._name):(r=Zm(),(n=TT).time=Dd(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],s=u.length,l,c=0;c<s;++c)(l=u[c])&&Tc(l,e,r,c,u,n||PT(l,r));return new dr(i,this._parents,e,r)}ta.prototype.interrupt=SS;ta.prototype.transition=CT;const ws=e=>()=>e;function IT(e,{sourceEvent:r,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ar(e,r,n){this.k=e,this.x=r,this.y=n}ar.prototype={constructor:ar,scale:function(e){return e===1?this:new ar(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new ar(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bd=new ar(1,0,0);Lt.prototype=ar.prototype;function Lt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Bd;return e.__zoom}function eh(e){e.stopImmediatePropagation()}function ao(e){e.preventDefault(),e.stopImmediatePropagation()}function AT(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function RT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function h_(){return this.__zoom||Bd}function jT(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function MT(){return navigator.maxTouchPoints||"ontouchstart"in this}function NT(e,r,n){var i=e.invertX(r[0][0])-n[0][0],o=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],u=e.invertY(r[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function kT(){var e=AT,r=RT,n=NT,i=jT,o=MT,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],s=250,l=pS,c=ra("start","zoom","end"),f,h,d,p=500,m=150,O=0,T=10;function b(R){R.property("__zoom",h_).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",G).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(R,$,k,F){var U=R.selection?R.selection():R;U.property("__zoom",h_),R!==U?w(R,$,k,F):U.interrupt().each(function(){A(this,arguments).event(F).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(R,$,k,F){b.scaleTo(R,function(){var U=this.__zoom.k,Y=typeof $=="function"?$.apply(this,arguments):$;return U*Y},k,F)},b.scaleTo=function(R,$,k,F){b.transform(R,function(){var U=r.apply(this,arguments),Y=this.__zoom,Z=k==null?E(U):typeof k=="function"?k.apply(this,arguments):k,ee=Y.invert(Z),W=typeof $=="function"?$.apply(this,arguments):$;return n(C(P(Y,W),Z,ee),U,u)},k,F)},b.translateBy=function(R,$,k,F){b.transform(R,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof k=="function"?k.apply(this,arguments):k),r.apply(this,arguments),u)},null,F)},b.translateTo=function(R,$,k,F,U){b.transform(R,function(){var Y=r.apply(this,arguments),Z=this.__zoom,ee=F==null?E(Y):typeof F=="function"?F.apply(this,arguments):F;return n(Bd.translate(ee[0],ee[1]).scale(Z.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof k=="function"?-k.apply(this,arguments):-k),Y,u)},F,U)};function P(R,$){return $=Math.max(a[0],Math.min(a[1],$)),$===R.k?R:new ar($,R.x,R.y)}function C(R,$,k){var F=$[0]-k[0]*R.k,U=$[1]-k[1]*R.k;return F===R.x&&U===R.y?R:new ar(R.k,F,U)}function E(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function w(R,$,k,F){R.on("start.zoom",function(){A(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(F).end()}).tween("zoom",function(){var U=this,Y=arguments,Z=A(U,Y).event(F),ee=r.apply(U,Y),W=k==null?E(ee):typeof k=="function"?k.apply(U,Y):k,ae=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),M=U.__zoom,L=typeof $=="function"?$.apply(U,Y):$,q=l(M.invert(W).concat(ae/M.k),L.invert(W).concat(ae/L.k));return function(Q){if(Q===1)Q=L;else{var ne=q(Q),Se=ae/ne[2];Q=new ar(Se,W[0]-ne[0]*Se,W[1]-ne[1]*Se)}Z.zoom(null,Q)}})}function A(R,$,k){return!k&&R.__zooming||new j(R,$)}function j(R,$){this.that=R,this.args=$,this.active=0,this.sourceEvent=null,this.extent=r.apply(R,$),this.taps=0}j.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,$){return this.mouse&&R!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var $=Tt(this.that).datum();c.call(R,this.that,new IT(R,{sourceEvent:this.sourceEvent,target:b,type:R,transform:this.that.__zoom,dispatch:c}),$)}};function N(R,...$){if(!e.apply(this,arguments))return;var k=A(this,$).event(R),F=this.__zoom,U=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,i.apply(this,arguments)))),Y=rr(R);if(k.wheel)(k.mouse[0][0]!==Y[0]||k.mouse[0][1]!==Y[1])&&(k.mouse[1]=F.invert(k.mouse[0]=Y)),clearTimeout(k.wheel);else{if(F.k===U)return;k.mouse=[Y,F.invert(Y)],Gs(this),k.start()}ao(R),k.wheel=setTimeout(Z,m),k.zoom("mouse",n(C(P(F,U),k.mouse[0],k.mouse[1]),k.extent,u));function Z(){k.wheel=null,k.end()}}function z(R,...$){if(d||!e.apply(this,arguments))return;var k=R.currentTarget,F=A(this,$,!0).event(R),U=Tt(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ae,!0),Y=rr(R,k),Z=R.clientX,ee=R.clientY;Dm(R.view),eh(R),F.mouse=[Y,this.__zoom.invert(Y)],Gs(this),F.start();function W(M){if(ao(M),!F.moved){var L=M.clientX-Z,q=M.clientY-ee;F.moved=L*L+q*q>O}F.event(M).zoom("mouse",n(C(F.that.__zoom,F.mouse[0]=rr(M,k),F.mouse[1]),F.extent,u))}function ae(M){U.on("mousemove.zoom mouseup.zoom",null),Lm(M.view,F.moved),ao(M),F.event(M).end()}}function B(R,...$){if(e.apply(this,arguments)){var k=this.__zoom,F=rr(R.changedTouches?R.changedTouches[0]:R,this),U=k.invert(F),Y=k.k*(R.shiftKey?.5:2),Z=n(C(P(k,Y),F,U),r.apply(this,$),u);ao(R),s>0?Tt(this).transition().duration(s).call(w,Z,F,R):Tt(this).call(b.transform,Z,F,R)}}function G(R,...$){if(e.apply(this,arguments)){var k=R.touches,F=k.length,U=A(this,$,R.changedTouches.length===F).event(R),Y,Z,ee,W;for(eh(R),Z=0;Z<F;++Z)ee=k[Z],W=rr(ee,this),W=[W,this.__zoom.invert(W),ee.identifier],U.touch0?!U.touch1&&U.touch0[2]!==W[2]&&(U.touch1=W,U.taps=0):(U.touch0=W,Y=!0,U.taps=1+!!f);f&&(f=clearTimeout(f)),Y&&(U.taps<2&&(h=W[0],f=setTimeout(function(){f=null},p)),Gs(this),U.start())}}function H(R,...$){if(this.__zooming){var k=A(this,$).event(R),F=R.changedTouches,U=F.length,Y,Z,ee,W;for(ao(R),Y=0;Y<U;++Y)Z=F[Y],ee=rr(Z,this),k.touch0&&k.touch0[2]===Z.identifier?k.touch0[0]=ee:k.touch1&&k.touch1[2]===Z.identifier&&(k.touch1[0]=ee);if(Z=k.that.__zoom,k.touch1){var ae=k.touch0[0],M=k.touch0[1],L=k.touch1[0],q=k.touch1[1],Q=(Q=L[0]-ae[0])*Q+(Q=L[1]-ae[1])*Q,ne=(ne=q[0]-M[0])*ne+(ne=q[1]-M[1])*ne;Z=P(Z,Math.sqrt(Q/ne)),ee=[(ae[0]+L[0])/2,(ae[1]+L[1])/2],W=[(M[0]+q[0])/2,(M[1]+q[1])/2]}else if(k.touch0)ee=k.touch0[0],W=k.touch0[1];else return;k.zoom("touch",n(C(Z,ee,W),k.extent,u))}}function X(R,...$){if(this.__zooming){var k=A(this,$).event(R),F=R.changedTouches,U=F.length,Y,Z;for(eh(R),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),Y=0;Y<U;++Y)Z=F[Y],k.touch0&&k.touch0[2]===Z.identifier?delete k.touch0:k.touch1&&k.touch1[2]===Z.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(Z=rr(Z,this),Math.hypot(h[0]-Z[0],h[1]-Z[1])<T)){var ee=Tt(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return b.wheelDelta=function(R){return arguments.length?(i=typeof R=="function"?R:ws(+R),b):i},b.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ws(!!R),b):e},b.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:ws(!!R),b):o},b.extent=function(R){return arguments.length?(r=typeof R=="function"?R:ws([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),b):r},b.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],b):[a[0],a[1]]},b.translateExtent=function(R){return arguments.length?(u[0][0]=+R[0][0],u[1][0]=+R[1][0],u[0][1]=+R[0][1],u[1][1]=+R[1][1],b):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},b.constrain=function(R){return arguments.length?(n=R,b):n},b.duration=function(R){return arguments.length?(s=+R,b):s},b.interpolate=function(R){return arguments.length?(l=R,b):l},b.on=function(){var R=c.on.apply(c,arguments);return R===c?b:R},b.clickDistance=function(R){return arguments.length?(O=(R=+R)*R,b):Math.sqrt(O)},b.tapDistance=function(R){return arguments.length?(T=+R,b):T},b}class d_ extends Map{constructor(r,n=DT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[i,o]of r)this.set(i,o)}get(r){return super.get(v_(this,r))}has(r){return super.has(v_(this,r))}set(r,n){return super.set(xT(this,r),n)}delete(r){return super.delete($T(this,r))}}function v_({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):n}function xT({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function $T({_intern:e,_key:r},n){const i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function DT(e){return e!==null&&typeof e=="object"?e.valueOf():e}function __(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function p_(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}var ei=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var r=1.70158;return e===1?1:e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return e===0?0:--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}}),Bounce:Object.freeze({In:function(e){return 1-ei.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?ei.Bounce.In(e*2)*.5:ei.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(r){return Math.pow(r,e)},Out:function(r){return 1-Math.pow(1-r,e)},InOut:function(r){return r<.5?Math.pow(r*2,e)/2:(1-Math.pow(2-r*2,e))/2+.5}}}}),Ao;typeof self>"u"&&typeof process<"u"&&process.hrtime?Ao=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Ao=self.performance.now.bind(self.performance):Date.now!==void 0?Ao=Date.now:Ao=function(){return new Date().getTime()};var Zn=Ao,Xm=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(r){this._tweens[r.getId()]=r,this._tweensAddedDuringUpdate[r.getId()]=r},e.prototype.remove=function(r){delete this._tweens[r.getId()],delete this._tweensAddedDuringUpdate[r.getId()]},e.prototype.update=function(r,n){r===void 0&&(r=Zn()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],u=!n;a&&a.update(r,u)===!1&&!n&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),fn={Linear:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=fn.Utils.Linear;return r<0?a(e[0],e[1],i):r>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,r){for(var n=0,i=e.length-1,o=Math.pow,a=fn.Utils.Bernstein,u=0;u<=i;u++)n+=o(1-r,i-u)*o(r,u)*e[u]*a(i,u);return n},CatmullRom:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=fn.Utils.CatmullRom;return e[0]===e[n]?(r<0&&(o=Math.floor(i=n*(1+r))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):r<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,r,n){return(r-e)*n+e},Bernstein:function(e,r){var n=fn.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(){var e=[1];return function(r){var n=1;if(e[r])return e[r];for(var i=r;i>1;i--)n*=i;return e[r]=n,n}}(),CatmullRom:function(e,r,n,i,o){var a=(n-e)*.5,u=(i-r)*.5,s=o*o,l=o*s;return(2*r-2*n+a+u)*l+(-3*r+3*n-2*a-u)*s+a*o+r}}},zd=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Qh=new Xm,LT=function(){function e(r,n){n===void 0&&(n=Qh),this._object=r,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ei.Linear.None,this._interpolationFunction=fn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=zd.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(r,n){return this._valuesEnd=Object.create(r),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(r){return r===void 0&&(r=1e3),this._duration=r,this},e.prototype.start=function(r,n){if(r===void 0&&(r=Zn()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r,this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n),this},e.prototype.startFromCurrentValues=function(r){return this.start(r,!0)},e.prototype._setupProperties=function(r,n,i,o,a){for(var u in i){var s=r[u],l=Array.isArray(s),c=l?"array":typeof s,f=!l&&Array.isArray(i[u]);if(!(c==="undefined"||c==="function")){if(f){var h=i[u];if(h.length===0)continue;h=h.map(this._handleRelativeValue.bind(this,s)),n[u]===void 0&&(i[u]=[s].concat(h))}if((c==="object"||l)&&s&&!f){n[u]=l?[]:{};for(var d in s)n[u][d]=s[d];o[u]=l?[]:{},this._setupProperties(s,n[u],i[u],o[u],a)}else(typeof n[u]>"u"||a)&&(n[u]=s),l||(n[u]*=1),f?o[u]=i[u].slice().reverse():o[u]=n[u]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(r){return r===void 0&&(r=Zn()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this._group&&this._group.remove(this),this)},e.prototype.resume=function(r){return r===void 0&&(r=Zn()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return r===void 0&&(r=Qh),this._group=r,this},e.prototype.delay=function(r){return r===void 0&&(r=0),this._delayTime=r,this},e.prototype.repeat=function(r){return r===void 0&&(r=0),this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return r===void 0&&(r=!1),this._yoyo=r,this},e.prototype.easing=function(r){return r===void 0&&(r=ei.Linear.None),this._easingFunction=r,this},e.prototype.interpolation=function(r){return r===void 0&&(r=fn.Linear),this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onEveryStart=function(r){return this._onEveryStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){if(r===void 0&&(r=Zn()),n===void 0&&(n=!0),this._isPaused)return!0;var i,o,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(r>a)return!1;n&&this.start(r,!0)}if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),o=(r-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var u=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=r+this._repeatDelayTime:this._startTime=r+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,i,o){for(var a in i)if(n[a]!==void 0){var u=n[a]||0,s=i[a],l=Array.isArray(r[a]),c=Array.isArray(s),f=!l&&c;f?r[a]=this._interpolationFunction(s,o):typeof s=="object"&&s?this._updateProperties(r[a],u,s,o):(s=this._handleRelativeValue(u,s),typeof s=="number"&&(r[a]=u+(s-u)*o))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],i=this._valuesEnd[r];typeof i=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e}(),UT="19.0.0",FT=zd.nextId,zt=Qh,BT=zt.getAll.bind(zt),zT=zt.removeAll.bind(zt),WT=zt.add.bind(zt),VT=zt.remove.bind(zt),HT=zt.update.bind(zt),uo={Easing:ei,Group:Xm,Interpolation:fn,now:Zn,Sequence:zd,nextId:FT,Tween:LT,VERSION:UT,getAll:BT,removeAll:zT,add:WT,remove:VT,update:HT};function qT(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==r);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}function GT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function y_(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eP(i.key),i)}}function YT(e,r,n){return r&&y_(e.prototype,r),n&&y_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KT(e,r){return ZT(e)||qT(e,r)||XT(e,r)||QT()}function ZT(e){if(Array.isArray(e))return e}function XT(e,r){if(e){if(typeof e=="string")return m_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(e,r)}}function m_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function QT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function eP(e){var r=JT(e,"string");return typeof r=="symbol"?r:String(r)}var tP=YT(function e(r,n){var i=n.default,o=i===void 0?null:i,a=n.triggerUpdate,u=a===void 0?!0:a,s=n.onChange,l=s===void 0?function(c,f){}:s;GT(this,e),this.name=r,this.defaultVal=o,this.triggerUpdate=u,this.onChange=l});function Qm(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,i=e.props,o=i===void 0?{}:i,a=e.methods,u=a===void 0?{}:a,s=e.aliases,l=s===void 0?{}:s,c=e.init,f=c===void 0?function(){}:c,h=e.update,d=h===void 0?function(){}:h,p=Object.keys(o).map(function(m){return new tP(m,o[m])});return function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=Object.assign({},n instanceof Function?n(m):n,{initialised:!1}),T={};function b(E){return P(E,m),C(),b}var P=function(w,A){f.call(b,w,O,A),O.initialised=!0},C=ZO(function(){O.initialised&&(d.call(b,O,T),T={})},1);return p.forEach(function(E){b[E.name]=w(E);function w(A){var j=A.name,N=A.triggerUpdate,z=N===void 0?!1:N,B=A.onChange,G=B===void 0?function(R,$){}:B,H=A.defaultVal,X=H===void 0?null:H;return function(R){var $=O[j];if(!arguments.length)return $;var k=R===void 0?X:R;return O[j]=k,G.call(b,k,O,$),!T.hasOwnProperty(j)&&(T[j]=$),z&&C(),b}}}),Object.keys(u).forEach(function(E){b[E]=function(){for(var w,A=arguments.length,j=new Array(A),N=0;N<A;N++)j[N]=arguments[N];return(w=u[E]).call.apply(w,[b,O].concat(j))}}),Object.entries(l).forEach(function(E){var w=KT(E,2),A=w[0],j=w[1];return b[A]=b[j]}),b.resetProps=function(){return p.forEach(function(E){b[E.name](E.defaultVal)}),b},b.resetProps(),O._rerender=C,b}}var we=function(e){return e instanceof Function?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}};function ic(e){return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ic(e)}var rP=/^\s+/,nP=/\s+$/;function te(e,r){if(e=e||"",r=r||{},e instanceof te)return e;if(!(this instanceof te))return new te(e,r);var n=iP(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}te.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),n,i,o,a,u,s;return n=r.r/255,i=r.g/255,o=r.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*u+.0722*s},setAlpha:function(r){return this._a=Jm(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=g_(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=g_(this._r,this._g,this._b),n=Math.round(r.h*360),i=Math.round(r.s*100),o=Math.round(r.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+o+"%)":"hsva("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var r=b_(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=b_(this._r,this._g,this._b),n=Math.round(r.h*360),i=Math.round(r.s*100),o=Math.round(r.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+o+"%)":"hsla("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(r){return O_(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return sP(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Pe(this._r,255)*100)+"%",g:Math.round(Pe(this._g,255)*100)+"%",b:Math.round(Pe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Pe(this._r,255)*100)+"%, "+Math.round(Pe(this._g,255)*100)+"%, "+Math.round(Pe(this._b,255)*100)+"%)":"rgba("+Math.round(Pe(this._r,255)*100)+"%, "+Math.round(Pe(this._g,255)*100)+"%, "+Math.round(Pe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:gP[O_(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var n="#"+w_(this._r,this._g,this._b,this._a),i=n,o=this._gradientType?"GradientType = 1, ":"";if(r){var a=te(r);i="#"+w_(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+i+")"},toString:function(r){var n=!!r;r=r||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!n&&o&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return a?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(i=this.toRgbString()),r==="prgb"&&(i=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(i=this.toHexString()),r==="hex3"&&(i=this.toHexString(!0)),r==="hex4"&&(i=this.toHex8String(!0)),r==="hex8"&&(i=this.toHex8String()),r==="name"&&(i=this.toName()),r==="hsl"&&(i=this.toHslString()),r==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return te(this.toString())},_applyModification:function(r,n){var i=r.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(hP,arguments)},brighten:function(){return this._applyModification(dP,arguments)},darken:function(){return this._applyModification(vP,arguments)},desaturate:function(){return this._applyModification(cP,arguments)},saturate:function(){return this._applyModification(lP,arguments)},greyscale:function(){return this._applyModification(fP,arguments)},spin:function(){return this._applyModification(_P,arguments)},_applyCombination:function(r,n){return r.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(mP,arguments)},complement:function(){return this._applyCombination(pP,arguments)},monochromatic:function(){return this._applyCombination(bP,arguments)},splitcomplement:function(){return this._applyCombination(yP,arguments)},triad:function(){return this._applyCombination(E_,[3])},tetrad:function(){return this._applyCombination(E_,[4])}};te.fromRatio=function(e,r){if(ic(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=Ro(e[i]));e=n}return te(e,r)};function iP(e){var r={r:0,g:0,b:0},n=1,i=null,o=null,a=null,u=!1,s=!1;return typeof e=="string"&&(e=SP(e)),ic(e)=="object"&&(Jt(e.r)&&Jt(e.g)&&Jt(e.b)?(r=oP(e.r,e.g,e.b),u=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Jt(e.h)&&Jt(e.s)&&Jt(e.v)?(i=Ro(e.s),o=Ro(e.v),r=uP(e.h,i,o),u=!0,s="hsv"):Jt(e.h)&&Jt(e.s)&&Jt(e.l)&&(i=Ro(e.s),a=Ro(e.l),r=aP(e.h,i,a),u=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Jm(n),{ok:u,format:e.format||s,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function oP(e,r,n){return{r:Pe(e,255)*255,g:Pe(r,255)*255,b:Pe(n,255)*255}}function b_(e,r,n){e=Pe(e,255),r=Pe(r,255),n=Pe(n,255);var i=Math.max(e,r,n),o=Math.min(e,r,n),a,u,s=(i+o)/2;if(i==o)a=u=0;else{var l=i-o;switch(u=s>.5?l/(2-i-o):l/(i+o),i){case e:a=(r-n)/l+(r<n?6:0);break;case r:a=(n-e)/l+2;break;case n:a=(e-r)/l+4;break}a/=6}return{h:a,s:u,l:s}}function aP(e,r,n){var i,o,a;e=Pe(e,360),r=Pe(r,100),n=Pe(n,100);function u(c,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(f-c)*6*h:h<1/2?f:h<2/3?c+(f-c)*(2/3-h)*6:c}if(r===0)i=o=a=n;else{var s=n<.5?n*(1+r):n+r-n*r,l=2*n-s;i=u(l,s,e+1/3),o=u(l,s,e),a=u(l,s,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function g_(e,r,n){e=Pe(e,255),r=Pe(r,255),n=Pe(n,255);var i=Math.max(e,r,n),o=Math.min(e,r,n),a,u,s=i,l=i-o;if(u=i===0?0:l/i,i==o)a=0;else{switch(i){case e:a=(r-n)/l+(r<n?6:0);break;case r:a=(n-e)/l+2;break;case n:a=(e-r)/l+4;break}a/=6}return{h:a,s:u,v:s}}function uP(e,r,n){e=Pe(e,360)*6,r=Pe(r,100),n=Pe(n,100);var i=Math.floor(e),o=e-i,a=n*(1-r),u=n*(1-o*r),s=n*(1-(1-o)*r),l=i%6,c=[n,u,a,a,s,n][l],f=[s,n,n,u,a,a][l],h=[a,a,s,n,n,u][l];return{r:c*255,g:f*255,b:h*255}}function O_(e,r,n,i){var o=[Ct(Math.round(e).toString(16)),Ct(Math.round(r).toString(16)),Ct(Math.round(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function sP(e,r,n,i,o){var a=[Ct(Math.round(e).toString(16)),Ct(Math.round(r).toString(16)),Ct(Math.round(n).toString(16)),Ct(eb(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function w_(e,r,n,i){var o=[Ct(eb(i)),Ct(Math.round(e).toString(16)),Ct(Math.round(r).toString(16)),Ct(Math.round(n).toString(16))];return o.join("")}te.equals=function(e,r){return!e||!r?!1:te(e).toRgbString()==te(r).toRgbString()};te.random=function(){return te.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function cP(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.s-=r/100,n.s=Pc(n.s),te(n)}function lP(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.s+=r/100,n.s=Pc(n.s),te(n)}function fP(e){return te(e).desaturate(100)}function hP(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.l+=r/100,n.l=Pc(n.l),te(n)}function dP(e,r){r=r===0?0:r||10;var n=te(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),te(n)}function vP(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.l-=r/100,n.l=Pc(n.l),te(n)}function _P(e,r){var n=te(e).toHsl(),i=(n.h+r)%360;return n.h=i<0?360+i:i,te(n)}function pP(e){var r=te(e).toHsl();return r.h=(r.h+180)%360,te(r)}function E_(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var n=te(e).toHsl(),i=[te(e)],o=360/r,a=1;a<r;a++)i.push(te({h:(n.h+a*o)%360,s:n.s,l:n.l}));return i}function yP(e){var r=te(e).toHsl(),n=r.h;return[te(e),te({h:(n+72)%360,s:r.s,l:r.l}),te({h:(n+216)%360,s:r.s,l:r.l})]}function mP(e,r,n){r=r||6,n=n||30;var i=te(e).toHsl(),o=360/n,a=[te(e)];for(i.h=(i.h-(o*r>>1)+720)%360;--r;)i.h=(i.h+o)%360,a.push(te(i));return a}function bP(e,r){r=r||6;for(var n=te(e).toHsv(),i=n.h,o=n.s,a=n.v,u=[],s=1/r;r--;)u.push(te({h:i,s:o,v:a})),a=(a+s)%1;return u}te.mix=function(e,r,n){n=n===0?0:n||50;var i=te(e).toRgb(),o=te(r).toRgb(),a=n/100,u={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return te(u)};te.readability=function(e,r){var n=te(e),i=te(r);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};te.isReadable=function(e,r,n){var i=te.readability(e,r),o,a;switch(a=!1,o=TP(n),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};te.mostReadable=function(e,r,n){var i=null,o=0,a,u,s,l;n=n||{},u=n.includeFallbackColors,s=n.level,l=n.size;for(var c=0;c<r.length;c++)a=te.readability(e,r[c]),a>o&&(o=a,i=te(r[c]));return te.isReadable(e,i,{level:s,size:l})||!u?i:(n.includeFallbackColors=!1,te.mostReadable(e,["#fff","#000"],n))};var Jh=te.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gP=te.hexNames=OP(Jh);function OP(e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);return r}function Jm(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Pe(e,r){wP(e)&&(e="100%");var n=EP(e);return e=Math.min(r,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function Pc(e){return Math.min(1,Math.max(0,e))}function at(e){return parseInt(e,16)}function wP(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function EP(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ct(e){return e.length==1?"0"+e:""+e}function Ro(e){return e<=1&&(e=e*100+"%"),e}function eb(e){return Math.round(parseFloat(e)*255).toString(16)}function S_(e){return at(e)/255}var gt=function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",n="(?:"+r+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Jt(e){return!!gt.CSS_UNIT.exec(e)}function SP(e){e=e.replace(rP,"").replace(nP,"").toLowerCase();var r=!1;if(Jh[e])e=Jh[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=gt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=gt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=gt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=gt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=gt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=gt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=gt.hex8.exec(e))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),a:S_(n[4]),format:r?"name":"hex8"}:(n=gt.hex6.exec(e))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),format:r?"name":"hex"}:(n=gt.hex4.exec(e))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),a:S_(n[4]+""+n[4]),format:r?"name":"hex8"}:(n=gt.hex3.exec(e))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),format:r?"name":"hex"}:!1}function TP(e){var r,n;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:r,size:n}}function PP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function T_(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kP(i.key),i)}}function CP(e,r,n){return r&&T_(e.prototype,r),n&&T_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IP(e){return AP(e)||RP(e)||jP(e)||MP()}function AP(e){if(Array.isArray(e))return ed(e)}function RP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jP(e,r){if(e){if(typeof e=="string")return ed(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,r)}}function ed(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function MP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NP(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kP(e){var r=NP(e,"string");return typeof r=="symbol"?r:String(r)}var xP=123,$P=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},tb=function(r,n,i){return(r<<16)+(n<<8)+i},DP=function(r){var n=te(r).toRgb(),i=n.r,o=n.g,a=n.b;return tb(i,o,a)},P_=function(r,n){return r*xP%Math.pow(2,n)},LP=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;PP(this,e),this.csBits=r,this.registry=["__reserved for background__"]}return CP(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=P_(i,this.csBits),a=$P(i+(o<<24-this.csBits));return this.registry.push(n),a}},{key:"lookup",value:function(n){var i=typeof n=="string"?DP(n):tb.apply(void 0,IP(n));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,a=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return P_(o,this.csBits)!==a||o>=this.registry.length?null:this.registry[o]}}]),e}();function UP(e,r,n){var i,o=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var u,s=i.length,l,c=0,f=0,h=0;for(u=0;u<s;++u)l=i[u],c+=l.x||0,f+=l.y||0,h+=l.z||0;for(c=(c/s-e)*o,f=(f/s-r)*o,h=(h/s-n)*o,u=0;u<s;++u)l=i[u],c&&(l.x-=c),f&&(l.y-=f),h&&(l.z-=h)}return a.initialize=function(u){i=u},a.x=function(u){return arguments.length?(e=+u,a):e},a.y=function(u){return arguments.length?(r=+u,a):r},a.z=function(u){return arguments.length?(n=+u,a):n},a.strength=function(u){return arguments.length?(o=+u,a):o},a}function FP(e){const r=+this._x.call(null,e);return rb(this.cover(r),r,e)}function rb(e,r,n){if(isNaN(r))return e;var i,o=e._root,a={data:n},u=e._x0,s=e._x1,l,c,f,h,d;if(!o)return e._root=a,e;for(;o.length;)if((f=r>=(l=(u+s)/2))?u=l:s=l,i=o,!(o=o[h=+f]))return i[h]=a,e;if(c=+e._x.call(null,o.data),r===c)return a.next=o,i?i[h]=a:e._root=a,e;do i=i?i[h]=new Array(2):e._root=new Array(2),(f=r>=(l=(u+s)/2))?u=l:s=l;while((h=+f)==(d=+(c>=l)));return i[d]=o,i[h]=a,e}function BP(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r);let i=1/0,o=-1/0;for(let a=0,u;a<r;++a)isNaN(u=+this._x.call(null,e[a]))||(n[a]=u,u<i&&(i=u),u>o&&(o=u));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<r;++a)rb(this,n[a],e[a]);return this}function zP(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var i=n-r||1,o=this._root,a,u;r>e||e>=n;)switch(u=+(e<r),a=new Array(2),a[u]=o,o=a,i*=2,u){case 0:n=r+i;break;case 1:r=n-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._x1=n,this}function WP(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function VP(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function cr(e,r,n){this.node=e,this.x0=r,this.x1=n}function HP(e,r){var n,i=this._x0,o,a,u=this._x1,s=[],l=this._root,c,f;for(l&&s.push(new cr(l,i,u)),r==null?r=1/0:(i=e-r,u=e+r);c=s.pop();)if(!(!(l=c.node)||(o=c.x0)>u||(a=c.x1)<i))if(l.length){var h=(o+a)/2;s.push(new cr(l[1],h,a),new cr(l[0],o,h)),(f=+(e>=h))&&(c=s[s.length-1],s[s.length-1]=s[s.length-1-f],s[s.length-1-f]=c)}else{var d=Math.abs(e-+this._x.call(null,l.data));d<r&&(r=d,i=e-d,u=e+d,n=l.data)}return n}function qP(e){if(isNaN(l=+this._x.call(null,e)))return this;var r,n=this._root,i,o,a,u=this._x0,s=this._x1,l,c,f,h,d;if(!n)return this;if(n.length)for(;;){if((f=l>=(c=(u+s)/2))?u=c:s=c,r=n,!(n=n[h=+f]))return this;if(!n.length)break;r[h+1&1]&&(i=r,d=h)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[h]=a:delete r[h],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(i?i[d]=n:this._root=n),this):(this._root=a,this)}function GP(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function YP(){return this._root}function KP(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function ZP(e){var r=[],n,i=this._root,o,a,u;for(i&&r.push(new cr(i,this._x0,this._x1));n=r.pop();)if(!e(i=n.node,a=n.x0,u=n.x1)&&i.length){var s=(a+u)/2;(o=i[1])&&r.push(new cr(o,s,u)),(o=i[0])&&r.push(new cr(o,a,s))}return this}function XP(e){var r=[],n=[],i;for(this._root&&r.push(new cr(this._root,this._x0,this._x1));i=r.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.x1,l=(u+s)/2;(a=o[0])&&r.push(new cr(a,u,l)),(a=o[1])&&r.push(new cr(a,l,s))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.x1);return this}function QP(e){return e[0]}function JP(e){return arguments.length?(this._x=e,this):this._x}function nb(e,r){var n=new Wd(r??QP,NaN,NaN);return e==null?n:n.addAll(e)}function Wd(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function C_(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var it=nb.prototype=Wd.prototype;it.copy=function(){var e=new Wd(this._x,this._x0,this._x1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=C_(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var o=0;o<2;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(2)}):r.target[o]=C_(i));return e};it.add=FP;it.addAll=BP;it.cover=zP;it.data=WP;it.extent=VP;it.find=HP;it.remove=qP;it.removeAll=GP;it.root=YP;it.size=KP;it.visit=ZP;it.visitAfter=XP;it.x=JP;function eC(e){const r=+this._x.call(null,e),n=+this._y.call(null,e);return ib(this.cover(r,n),r,n,e)}function ib(e,r,n,i){if(isNaN(r)||isNaN(n))return e;var o,a=e._root,u={data:i},s=e._x0,l=e._y0,c=e._x1,f=e._y1,h,d,p,m,O,T,b,P;if(!a)return e._root=u,e;for(;a.length;)if((O=r>=(h=(s+c)/2))?s=h:c=h,(T=n>=(d=(l+f)/2))?l=d:f=d,o=a,!(a=a[b=T<<1|O]))return o[b]=u,e;if(p=+e._x.call(null,a.data),m=+e._y.call(null,a.data),r===p&&n===m)return u.next=a,o?o[b]=u:e._root=u,e;do o=o?o[b]=new Array(4):e._root=new Array(4),(O=r>=(h=(s+c)/2))?s=h:c=h,(T=n>=(d=(l+f)/2))?l=d:f=d;while((b=T<<1|O)===(P=(m>=d)<<1|p>=h));return o[P]=a,o[b]=u,e}function tC(e){var r,n,i=e.length,o,a,u=new Array(i),s=new Array(i),l=1/0,c=1/0,f=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(u[n]=o,s[n]=a,o<l&&(l=o),o>f&&(f=o),a<c&&(c=a),a>h&&(h=a));if(l>f||c>h)return this;for(this.cover(l,c).cover(f,h),n=0;n<i;++n)ib(this,u[n],s[n],e[n]);return this}function rC(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,a=(i=Math.floor(r))+1;else{for(var u=o-n||1,s=this._root,l,c;n>e||e>=o||i>r||r>=a;)switch(c=(r<i)<<1|e<n,l=new Array(4),l[c]=s,s=l,u*=2,c){case 0:o=n+u,a=i+u;break;case 1:n=o-u,a=i+u;break;case 2:o=n+u,i=a-u;break;case 3:n=o-u,i=a-u;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=i,this._x1=o,this._y1=a,this}function nC(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function iC(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xe(e,r,n,i,o){this.node=e,this.x0=r,this.y0=n,this.x1=i,this.y1=o}function oC(e,r,n){var i,o=this._x0,a=this._y0,u,s,l,c,f=this._x1,h=this._y1,d=[],p=this._root,m,O;for(p&&d.push(new Xe(p,o,a,f,h)),n==null?n=1/0:(o=e-n,a=r-n,f=e+n,h=r+n,n*=n);m=d.pop();)if(!(!(p=m.node)||(u=m.x0)>f||(s=m.y0)>h||(l=m.x1)<o||(c=m.y1)<a))if(p.length){var T=(u+l)/2,b=(s+c)/2;d.push(new Xe(p[3],T,b,l,c),new Xe(p[2],u,b,T,c),new Xe(p[1],T,s,l,b),new Xe(p[0],u,s,T,b)),(O=(r>=b)<<1|e>=T)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-O],d[d.length-1-O]=m)}else{var P=e-+this._x.call(null,p.data),C=r-+this._y.call(null,p.data),E=P*P+C*C;if(E<n){var w=Math.sqrt(n=E);o=e-w,a=r-w,f=e+w,h=r+w,i=p.data}}return i}function aC(e){if(isNaN(f=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var r,n=this._root,i,o,a,u=this._x0,s=this._y0,l=this._x1,c=this._y1,f,h,d,p,m,O,T,b;if(!n)return this;if(n.length)for(;;){if((m=f>=(d=(u+l)/2))?u=d:l=d,(O=h>=(p=(s+c)/2))?s=p:c=p,r=n,!(n=n[T=O<<1|m]))return this;if(!n.length)break;(r[T+1&3]||r[T+2&3]||r[T+3&3])&&(i=r,b=T)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[T]=a:delete r[T],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[b]=n:this._root=n),this):(this._root=a,this)}function uC(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function sC(){return this._root}function cC(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function lC(e){var r=[],n,i=this._root,o,a,u,s,l;for(i&&r.push(new Xe(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(i=n.node,a=n.x0,u=n.y0,s=n.x1,l=n.y1)&&i.length){var c=(a+s)/2,f=(u+l)/2;(o=i[3])&&r.push(new Xe(o,c,f,s,l)),(o=i[2])&&r.push(new Xe(o,a,f,c,l)),(o=i[1])&&r.push(new Xe(o,c,u,s,f)),(o=i[0])&&r.push(new Xe(o,a,u,c,f))}return this}function fC(e){var r=[],n=[],i;for(this._root&&r.push(new Xe(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.y0,l=i.x1,c=i.y1,f=(u+l)/2,h=(s+c)/2;(a=o[0])&&r.push(new Xe(a,u,s,f,h)),(a=o[1])&&r.push(new Xe(a,f,s,l,h)),(a=o[2])&&r.push(new Xe(a,u,h,f,c)),(a=o[3])&&r.push(new Xe(a,f,h,l,c))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function hC(e){return e[0]}function dC(e){return arguments.length?(this._x=e,this):this._x}function vC(e){return e[1]}function _C(e){return arguments.length?(this._y=e,this):this._y}function ob(e,r,n){var i=new Vd(r??hC,n??vC,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Vd(e,r,n,i,o,a){this._x=e,this._y=r,this._x0=n,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function I_(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Qe=ob.prototype=Vd.prototype;Qe.copy=function(){var e=new Vd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=I_(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var o=0;o<4;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(4)}):r.target[o]=I_(i));return e};Qe.add=eC;Qe.addAll=tC;Qe.cover=rC;Qe.data=nC;Qe.extent=iC;Qe.find=oC;Qe.remove=aC;Qe.removeAll=uC;Qe.root=sC;Qe.size=cC;Qe.visit=lC;Qe.visitAfter=fC;Qe.x=dC;Qe.y=_C;function pC(e){const r=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return ab(this.cover(r,n,i),r,n,i,e)}function ab(e,r,n,i,o){if(isNaN(r)||isNaN(n)||isNaN(i))return e;var a,u=e._root,s={data:o},l=e._x0,c=e._y0,f=e._z0,h=e._x1,d=e._y1,p=e._z1,m,O,T,b,P,C,E,w,A,j,N;if(!u)return e._root=s,e;for(;u.length;)if((E=r>=(m=(l+h)/2))?l=m:h=m,(w=n>=(O=(c+d)/2))?c=O:d=O,(A=i>=(T=(f+p)/2))?f=T:p=T,a=u,!(u=u[j=A<<2|w<<1|E]))return a[j]=s,e;if(b=+e._x.call(null,u.data),P=+e._y.call(null,u.data),C=+e._z.call(null,u.data),r===b&&n===P&&i===C)return s.next=u,a?a[j]=s:e._root=s,e;do a=a?a[j]=new Array(8):e._root=new Array(8),(E=r>=(m=(l+h)/2))?l=m:h=m,(w=n>=(O=(c+d)/2))?c=O:d=O,(A=i>=(T=(f+p)/2))?f=T:p=T;while((j=A<<2|w<<1|E)===(N=(C>=T)<<2|(P>=O)<<1|b>=m));return a[N]=u,a[j]=s,e}function yC(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r),i=new Float64Array(r),o=new Float64Array(r);let a=1/0,u=1/0,s=1/0,l=-1/0,c=-1/0,f=-1/0;for(let h=0,d,p,m,O;h<r;++h)isNaN(p=+this._x.call(null,d=e[h]))||isNaN(m=+this._y.call(null,d))||isNaN(O=+this._z.call(null,d))||(n[h]=p,i[h]=m,o[h]=O,p<a&&(a=p),p>l&&(l=p),m<u&&(u=m),m>c&&(c=m),O<s&&(s=O),O>f&&(f=O));if(a>l||u>c||s>f)return this;this.cover(a,u,s).cover(l,c,f);for(let h=0;h<r;++h)ab(this,n[h],i[h],o[h],e[h]);return this}function mC(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var i=this._x0,o=this._y0,a=this._z0,u=this._x1,s=this._y1,l=this._z1;if(isNaN(i))u=(i=Math.floor(e))+1,s=(o=Math.floor(r))+1,l=(a=Math.floor(n))+1;else{for(var c=u-i||1,f=this._root,h,d;i>e||e>=u||o>r||r>=s||a>n||n>=l;)switch(d=(n<a)<<2|(r<o)<<1|e<i,h=new Array(8),h[d]=f,f=h,c*=2,d){case 0:u=i+c,s=o+c,l=a+c;break;case 1:i=u-c,s=o+c,l=a+c;break;case 2:u=i+c,o=s-c,l=a+c;break;case 3:i=u-c,o=s-c,l=a+c;break;case 4:u=i+c,s=o+c,a=l-c;break;case 5:i=u-c,s=o+c,a=l-c;break;case 6:u=i+c,o=s-c,a=l-c;break;case 7:i=u-c,o=s-c,a=l-c;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=l,this}function bC(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function gC(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ye(e,r,n,i,o,a,u){this.node=e,this.x0=r,this.y0=n,this.z0=i,this.x1=o,this.y1=a,this.z1=u}function OC(e,r,n,i){var o,a=this._x0,u=this._y0,s=this._z0,l,c,f,h,d,p,m=this._x1,O=this._y1,T=this._z1,b=[],P=this._root,C,E;for(P&&b.push(new ye(P,a,u,s,m,O,T)),i==null?i=1/0:(a=e-i,u=r-i,s=n-i,m=e+i,O=r+i,T=n+i,i*=i);C=b.pop();)if(!(!(P=C.node)||(l=C.x0)>m||(c=C.y0)>O||(f=C.z0)>T||(h=C.x1)<a||(d=C.y1)<u||(p=C.z1)<s))if(P.length){var w=(l+h)/2,A=(c+d)/2,j=(f+p)/2;b.push(new ye(P[7],w,A,j,h,d,p),new ye(P[6],l,A,j,w,d,p),new ye(P[5],w,c,j,h,A,p),new ye(P[4],l,c,j,w,A,p),new ye(P[3],w,A,f,h,d,j),new ye(P[2],l,A,f,w,d,j),new ye(P[1],w,c,f,h,A,j),new ye(P[0],l,c,f,w,A,j)),(E=(n>=j)<<2|(r>=A)<<1|e>=w)&&(C=b[b.length-1],b[b.length-1]=b[b.length-1-E],b[b.length-1-E]=C)}else{var N=e-+this._x.call(null,P.data),z=r-+this._y.call(null,P.data),B=n-+this._z.call(null,P.data),G=N*N+z*z+B*B;if(G<i){var H=Math.sqrt(i=G);a=e-H,u=r-H,s=n-H,m=e+H,O=r+H,T=n+H,o=P.data}}return o}function wC(e){if(isNaN(d=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(m=+this._z.call(null,e)))return this;var r,n=this._root,i,o,a,u=this._x0,s=this._y0,l=this._z0,c=this._x1,f=this._y1,h=this._z1,d,p,m,O,T,b,P,C,E,w,A;if(!n)return this;if(n.length)for(;;){if((P=d>=(O=(u+c)/2))?u=O:c=O,(C=p>=(T=(s+f)/2))?s=T:f=T,(E=m>=(b=(l+h)/2))?l=b:h=b,r=n,!(n=n[w=E<<2|C<<1|P]))return this;if(!n.length)break;(r[w+1&7]||r[w+2&7]||r[w+3&7]||r[w+4&7]||r[w+5&7]||r[w+6&7]||r[w+7&7])&&(i=r,A=w)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[w]=a:delete r[w],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[A]=n:this._root=n),this):(this._root=a,this)}function EC(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function SC(){return this._root}function TC(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function PC(e){var r=[],n,i=this._root,o,a,u,s,l,c,f;for(i&&r.push(new ye(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(i=n.node,a=n.x0,u=n.y0,s=n.z0,l=n.x1,c=n.y1,f=n.z1)&&i.length){var h=(a+l)/2,d=(u+c)/2,p=(s+f)/2;(o=i[7])&&r.push(new ye(o,h,d,p,l,c,f)),(o=i[6])&&r.push(new ye(o,a,d,p,h,c,f)),(o=i[5])&&r.push(new ye(o,h,u,p,l,d,f)),(o=i[4])&&r.push(new ye(o,a,u,p,h,d,f)),(o=i[3])&&r.push(new ye(o,h,d,s,l,c,p)),(o=i[2])&&r.push(new ye(o,a,d,s,h,c,p)),(o=i[1])&&r.push(new ye(o,h,u,s,l,d,p)),(o=i[0])&&r.push(new ye(o,a,u,s,h,d,p))}return this}function CC(e){var r=[],n=[],i;for(this._root&&r.push(new ye(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=r.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.y0,l=i.z0,c=i.x1,f=i.y1,h=i.z1,d=(u+c)/2,p=(s+f)/2,m=(l+h)/2;(a=o[0])&&r.push(new ye(a,u,s,l,d,p,m)),(a=o[1])&&r.push(new ye(a,d,s,l,c,p,m)),(a=o[2])&&r.push(new ye(a,u,p,l,d,f,m)),(a=o[3])&&r.push(new ye(a,d,p,l,c,f,m)),(a=o[4])&&r.push(new ye(a,u,s,m,d,p,h)),(a=o[5])&&r.push(new ye(a,d,s,m,c,p,h)),(a=o[6])&&r.push(new ye(a,u,p,m,d,f,h)),(a=o[7])&&r.push(new ye(a,d,p,m,c,f,h))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function IC(e){return e[0]}function AC(e){return arguments.length?(this._x=e,this):this._x}function RC(e){return e[1]}function jC(e){return arguments.length?(this._y=e,this):this._y}function MC(e){return e[2]}function NC(e){return arguments.length?(this._z=e,this):this._z}function ub(e,r,n,i){var o=new Hd(r??IC,n??RC,i??MC,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function Hd(e,r,n,i,o,a,u,s,l){this._x=e,this._y=r,this._z=n,this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=l,this._root=void 0}function A_(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Ke=ub.prototype=Hd.prototype;Ke.copy=function(){var e=new Hd(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=A_(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var o=0;o<8;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(8)}):r.target[o]=A_(i));return e};Ke.add=pC;Ke.addAll=yC;Ke.cover=mC;Ke.data=bC;Ke.extent=gC;Ke.find=OC;Ke.remove=wC;Ke.removeAll=EC;Ke.root=SC;Ke.size=TC;Ke.visit=PC;Ke.visitAfter=CC;Ke.x=AC;Ke.y=jC;Ke.z=NC;function ur(e){return function(){return e}}function ir(e){return(e()-.5)*1e-6}function kC(e){return e.index}function R_(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function xC(e){var r=kC,n=d,i,o=ur(30),a,u,s,l,c,f,h=1;e==null&&(e=[]);function d(b){return 1/Math.min(l[b.source.index],l[b.target.index])}function p(b){for(var P=0,C=e.length;P<h;++P)for(var E=0,w,A,j,N=0,z=0,B=0,G,H;E<C;++E)w=e[E],A=w.source,j=w.target,N=j.x+j.vx-A.x-A.vx||ir(f),s>1&&(z=j.y+j.vy-A.y-A.vy||ir(f)),s>2&&(B=j.z+j.vz-A.z-A.vz||ir(f)),G=Math.sqrt(N*N+z*z+B*B),G=(G-a[E])/G*b*i[E],N*=G,z*=G,B*=G,j.vx-=N*(H=c[E]),s>1&&(j.vy-=z*H),s>2&&(j.vz-=B*H),A.vx+=N*(H=1-H),s>1&&(A.vy+=z*H),s>2&&(A.vz+=B*H)}function m(){if(u){var b,P=u.length,C=e.length,E=new Map(u.map((A,j)=>[r(A,j,u),A])),w;for(b=0,l=new Array(P);b<C;++b)w=e[b],w.index=b,typeof w.source!="object"&&(w.source=R_(E,w.source)),typeof w.target!="object"&&(w.target=R_(E,w.target)),l[w.source.index]=(l[w.source.index]||0)+1,l[w.target.index]=(l[w.target.index]||0)+1;for(b=0,c=new Array(C);b<C;++b)w=e[b],c[b]=l[w.source.index]/(l[w.source.index]+l[w.target.index]);i=new Array(C),O(),a=new Array(C),T()}}function O(){if(u)for(var b=0,P=e.length;b<P;++b)i[b]=+n(e[b],b,e)}function T(){if(u)for(var b=0,P=e.length;b<P;++b)a[b]=+o(e[b],b,e)}return p.initialize=function(b,...P){u=b,f=P.find(C=>typeof C=="function")||Math.random,s=P.find(C=>[1,2,3].includes(C))||2,m()},p.links=function(b){return arguments.length?(e=b,m(),p):e},p.id=function(b){return arguments.length?(r=b,p):r},p.iterations=function(b){return arguments.length?(h=+b,p):h},p.strength=function(b){return arguments.length?(n=typeof b=="function"?b:ur(+b),O(),p):n},p.distance=function(b){return arguments.length?(o=typeof b=="function"?b:ur(+b),T(),p):o},p}const $C=1664525,DC=1013904223,j_=4294967296;function LC(){let e=1;return()=>(e=($C*e+DC)%j_)/j_}var M_=3;function th(e){return e.x}function N_(e){return e.y}function UC(e){return e.z}var FC=10,BC=Math.PI*(3-Math.sqrt(5)),zC=Math.PI*20/(9+Math.sqrt(221));function WC(e,r){r=r||2;var n=Math.min(M_,Math.max(1,Math.round(r))),i,o=1,a=.001,u=1-Math.pow(a,1/300),s=0,l=.6,c=new Map,f=Ld(p),h=ra("tick","end"),d=LC();e==null&&(e=[]);function p(){m(),h.call("tick",i),o<a&&(f.stop(),h.call("end",i))}function m(b){var P,C=e.length,E;b===void 0&&(b=1);for(var w=0;w<b;++w)for(o+=(s-o)*u,c.forEach(function(A){A(o)}),P=0;P<C;++P)E=e[P],E.fx==null?E.x+=E.vx*=l:(E.x=E.fx,E.vx=0),n>1&&(E.fy==null?E.y+=E.vy*=l:(E.y=E.fy,E.vy=0)),n>2&&(E.fz==null?E.z+=E.vz*=l:(E.z=E.fz,E.vz=0));return i}function O(){for(var b=0,P=e.length,C;b<P;++b){if(C=e[b],C.index=b,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),C.fz!=null&&(C.z=C.fz),isNaN(C.x)||n>1&&isNaN(C.y)||n>2&&isNaN(C.z)){var E=FC*(n>2?Math.cbrt(.5+b):n>1?Math.sqrt(.5+b):b),w=b*BC,A=b*zC;n===1?C.x=E:n===2?(C.x=E*Math.cos(w),C.y=E*Math.sin(w)):(C.x=E*Math.sin(w)*Math.cos(A),C.y=E*Math.cos(w),C.z=E*Math.sin(w)*Math.sin(A))}(isNaN(C.vx)||n>1&&isNaN(C.vy)||n>2&&isNaN(C.vz))&&(C.vx=0,n>1&&(C.vy=0),n>2&&(C.vz=0))}}function T(b){return b.initialize&&b.initialize(e,d,n),b}return O(),i={tick:m,restart:function(){return f.restart(p),i},stop:function(){return f.stop(),i},numDimensions:function(b){return arguments.length?(n=Math.min(M_,Math.max(1,Math.round(b))),c.forEach(T),i):n},nodes:function(b){return arguments.length?(e=b,O(),c.forEach(T),i):e},alpha:function(b){return arguments.length?(o=+b,i):o},alphaMin:function(b){return arguments.length?(a=+b,i):a},alphaDecay:function(b){return arguments.length?(u=+b,i):+u},alphaTarget:function(b){return arguments.length?(s=+b,i):s},velocityDecay:function(b){return arguments.length?(l=1-b,i):1-l},randomSource:function(b){return arguments.length?(d=b,c.forEach(T),i):d},force:function(b,P){return arguments.length>1?(P==null?c.delete(b):c.set(b,T(P)),i):c.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),P=b.shift()||0,C=(n>1?b.shift():null)||0,E=(n>2?b.shift():null)||0,w=b.shift()||1/0,A=0,j=e.length,N,z,B,G,H,X;for(w*=w,A=0;A<j;++A)H=e[A],N=P-H.x,z=C-(H.y||0),B=E-(H.z||0),G=N*N+z*z+B*B,G<w&&(X=H,w=G);return X},on:function(b,P){return arguments.length>1?(h.on(b,P),i):h.on(b)}}}function VC(){var e,r,n,i,o,a=ur(-30),u,s=1,l=1/0,c=.81;function f(m){var O,T=e.length,b=(r===1?nb(e,th):r===2?ob(e,th,N_):r===3?ub(e,th,N_,UC):null).visitAfter(d);for(o=m,O=0;O<T;++O)n=e[O],b.visit(p)}function h(){if(e){var m,O=e.length,T;for(u=new Array(O),m=0;m<O;++m)T=e[m],u[T.index]=+a(T,m,e)}}function d(m){var O=0,T,b,P=0,C,E,w,A,j=m.length;if(j){for(C=E=w=A=0;A<j;++A)(T=m[A])&&(b=Math.abs(T.value))&&(O+=T.value,P+=b,C+=b*(T.x||0),E+=b*(T.y||0),w+=b*(T.z||0));O*=Math.sqrt(4/j),m.x=C/P,r>1&&(m.y=E/P),r>2&&(m.z=w/P)}else{T=m,T.x=T.data.x,r>1&&(T.y=T.data.y),r>2&&(T.z=T.data.z);do O+=u[T.data.index];while(T=T.next)}m.value=O}function p(m,O,T,b,P){if(!m.value)return!0;var C=[T,b,P][r-1],E=m.x-n.x,w=r>1?m.y-n.y:0,A=r>2?m.z-n.z:0,j=C-O,N=E*E+w*w+A*A;if(j*j/c<N)return N<l&&(E===0&&(E=ir(i),N+=E*E),r>1&&w===0&&(w=ir(i),N+=w*w),r>2&&A===0&&(A=ir(i),N+=A*A),N<s&&(N=Math.sqrt(s*N)),n.vx+=E*m.value*o/N,r>1&&(n.vy+=w*m.value*o/N),r>2&&(n.vz+=A*m.value*o/N)),!0;if(m.length||N>=l)return;(m.data!==n||m.next)&&(E===0&&(E=ir(i),N+=E*E),r>1&&w===0&&(w=ir(i),N+=w*w),r>2&&A===0&&(A=ir(i),N+=A*A),N<s&&(N=Math.sqrt(s*N)));do m.data!==n&&(j=u[m.data.index]*o/N,n.vx+=E*j,r>1&&(n.vy+=w*j),r>2&&(n.vz+=A*j));while(m=m.next)}return f.initialize=function(m,...O){e=m,i=O.find(T=>typeof T=="function")||Math.random,r=O.find(T=>[1,2,3].includes(T))||2,h()},f.strength=function(m){return arguments.length?(a=typeof m=="function"?m:ur(+m),h(),f):a},f.distanceMin=function(m){return arguments.length?(s=m*m,f):Math.sqrt(s)},f.distanceMax=function(m){return arguments.length?(l=m*m,f):Math.sqrt(l)},f.theta=function(m){return arguments.length?(c=m*m,f):Math.sqrt(c)},f}function HC(e,r,n,i){var o,a,u=ur(.1),s,l;typeof e!="function"&&(e=ur(+e)),r==null&&(r=0),n==null&&(n=0),i==null&&(i=0);function c(h){for(var d=0,p=o.length;d<p;++d){var m=o[d],O=m.x-r||1e-6,T=(m.y||0)-n||1e-6,b=(m.z||0)-i||1e-6,P=Math.sqrt(O*O+T*T+b*b),C=(l[d]-P)*s[d]*h/P;m.vx+=O*C,a>1&&(m.vy+=T*C),a>2&&(m.vz+=b*C)}}function f(){if(o){var h,d=o.length;for(s=new Array(d),l=new Array(d),h=0;h<d;++h)l[h]=+e(o[h],h,o),s[h]=isNaN(l[h])?0:+u(o[h],h,o)}}return c.initialize=function(h,...d){o=h,a=d.find(p=>[1,2,3].includes(p))||2,f()},c.strength=function(h){return arguments.length?(u=typeof h=="function"?h:ur(+h),f(),c):u},c.radius=function(h){return arguments.length?(e=typeof h=="function"?h:ur(+h),f(),c):e},c.x=function(h){return arguments.length?(r=+h,c):r},c.y=function(h){return arguments.length?(n=+h,c):n},c.z=function(h){return arguments.length?(i=+h,c):i},c}const{abs:so,cos:er,sin:Wn,acos:qC,atan2:co,sqrt:Or,pow:dt}=Math;function lo(e){return e<0?-dt(-e,1/3):dt(e,1/3)}const sb=Math.PI,Es=2*sb,wr=sb/2,GC=1e-6,rh=Number.MAX_SAFE_INTEGER||9007199254740991,nh=Number.MIN_SAFE_INTEGER||-9007199254740991,YC={x:0,y:0,z:0},V={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Or(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const i=r.length-1;if(e===1)return r[i].t=1,r[i];const o=1-e;let a=r;if(i===0)return r[0].t=e,r[0];if(i===1){const s={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return n&&(s.z=o*a[0].z+e*a[1].z),s}if(i<4){let s=o*o,l=e*e,c,f,h,d=0;i===2?(a=[a[0],a[1],a[2],YC],c=s,f=o*e*2,h=l):i===3&&(c=s*o,f=s*e*3,h=o*l*3,d=e*l);const p={x:c*a[0].x+f*a[1].x+h*a[2].x+d*a[3].x,y:c*a[0].y+f*a[1].y+h*a[2].y+d*a[3].y,t:e};return n&&(p.z=c*a[0].z+f*a[1].z+h*a[2].z+d*a[3].z),p}const u=JSON.parse(JSON.stringify(r));for(;u.length>1;){for(let s=0;s<u.length-1;s++)u[s]={x:u[s].x+(u[s+1].x-u[s].x)*e,y:u[s].y+(u[s+1].y-u[s].y)*e},typeof u[s].z<"u"&&(u[s]=u[s].z+(u[s+1].z-u[s].z)*e);u.splice(u.length-1,1)}return u[0].t=e,u[0]},computeWithRatios:function(e,r,n,i){const o=1-e,a=n,u=r;let s=a[0],l=a[1],c=a[2],f=a[3],h;if(s*=o,l*=e,u.length===2)return h=s+l,{x:(s*u[0].x+l*u[1].x)/h,y:(s*u[0].y+l*u[1].y)/h,z:i?(s*u[0].z+l*u[1].z)/h:!1,t:e};if(s*=o,l*=2*o,c*=e*e,u.length===3)return h=s+l+c,{x:(s*u[0].x+l*u[1].x+c*u[2].x)/h,y:(s*u[0].y+l*u[1].y+c*u[2].y)/h,z:i?(s*u[0].z+l*u[1].z+c*u[2].z)/h:!1,t:e};if(s*=o,l*=1.5*o,c*=3*o,f*=e*e*e,u.length===4)return h=s+l+c+f,{x:(s*u[0].x+l*u[1].x+c*u[2].x+f*u[3].x)/h,y:(s*u[0].y+l*u[1].y+c*u[2].y+f*u[3].y)/h,z:i?(s*u[0].z+l*u[1].z+c*u[2].z+f*u[3].z)/h:!1,t:e}},derive:function(e,r){const n=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){const u=[];for(let s=0,l;s<a;s++)l={x:a*(i[s+1].x-i[s].x),y:a*(i[s+1].y-i[s].y)},r&&(l.z=a*(i[s+1].z-i[s].z)),u.push(l);n.push(u),i=u}return n},between:function(e,r,n){return r<=e&&e<=n||V.approximately(e,r)||V.approximately(e,n)},approximately:function(e,r,n){return so(e-r)<=(n||GC)},length:function(e){const n=V.Tvalues.length;let i=0;for(let o=0,a;o<n;o++)a=.5*V.Tvalues[o]+.5,i+=V.Cvalues[o]*V.arcfn(a,e);return .5*i},map:function(e,r,n,i,o){const a=n-r,u=o-i,s=e-r,l=s/a;return i+u*l},lerp:function(e,r,n){const i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(V.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const i=r.x-e.x,o=r.y-e.y,a=n.x-e.x,u=n.y-e.y,s=i*u-o*a,l=i*a+o*u;return co(s,l)},round:function(e,r){const n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){const n=e.x-r.x,i=e.y-r.y;return Or(n*n+i*i)},closest:function(e,r){let n=dt(2,63),i,o;return e.forEach(function(a,u){o=V.dist(r,a),o<n&&(n=o,i=u)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=dt(e,r)+dt(1-e,r),i=n-1;return so(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=dt(1-e,r),i=dt(e,r)+n;return n/i},lli8:function(e,r,n,i,o,a,u,s){const l=(e*i-r*n)*(o-u)-(e-n)*(o*s-a*u),c=(e*i-r*n)*(a-s)-(r-i)*(o*s-a*u),f=(e-n)*(a-s)-(r-i)*(o-u);return f==0?!1:{x:l/f,y:c/f}},lli4:function(e,r,n,i){const o=e.x,a=e.y,u=r.x,s=r.y,l=n.x,c=n.y,f=i.x,h=i.y;return V.lli8(o,a,u,s,l,c,f,h)},lli:function(e,r){return V.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new Te(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=rh,n=rh,i=nh,o=nh;return e.forEach(function(a){const u=a.bbox();r>u.x.min&&(r=u.x.min),n>u.y.min&&(n=u.y.min),i<u.x.max&&(i=u.x.max),o<u.y.max&&(o=u.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+o)/2,max:o,size:o-n}}},shapeintersections:function(e,r,n,i,o){if(!V.bboxoverlap(r,i))return[];const a=[],u=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return u.forEach(function(l){l.virtual||s.forEach(function(c){if(c.virtual)return;const f=l.intersects(c,o);f.length>0&&(f.c1=l,f.c2=c,f.s1=e,f.s2=n,a.push(f))})}),a},makeshape:function(e,r,n){const i=r.points.length,o=e.points.length,a=V.makeline(r.points[i-1],e.points[0]),u=V.makeline(e.points[o-1],r.points[0]),s={startcap:a,forward:e,back:r,endcap:u,bbox:V.findbbox([a,e,r,u])};return s.intersections=function(l){return V.shapeintersections(s,s.bbox,l,l.bbox,n)},s},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=rh,o=nh,a,u;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let s=0,l=n.length;s<l;s++)a=n[s],u=e.get(a),u[r]<i&&(i=u[r]),u[r]>o&&(o=u[r]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,r){const n=r.p1.x,i=r.p1.y,o=-co(r.p2.y-i,r.p2.x-n),a=function(u){return{x:(u.x-n)*er(o)-(u.y-i)*Wn(o),y:(u.x-n)*Wn(o)+(u.y-i)*er(o)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,i=V.align(e,r),o=function(j){return 0<=j&&j<=1};if(n===2){const j=i[0].y,N=i[1].y,z=i[2].y,B=j-2*N+z;if(B!==0){const G=-Or(N*N-j*z),H=-j+N,X=-(G+H)/B,R=-(-G+H)/B;return[X,R].filter(o)}else if(N!==z&&B===0)return[(2*N-z)/(2*N-2*z)].filter(o);return[]}const a=i[0].y,u=i[1].y,s=i[2].y,l=i[3].y;let c=-a+3*u-3*s+l,f=3*a-6*u+3*s,h=-3*a+3*u,d=a;if(V.approximately(c,0)){if(V.approximately(f,0))return V.approximately(h,0)?[]:[-d/h].filter(o);const j=Or(h*h-4*f*d),N=2*f;return[(j-h)/N,(-h-j)/N].filter(o)}f/=c,h/=c,d/=c;const p=(3*h-f*f)/3,m=p/3,O=(2*f*f*f-9*f*h+27*d)/27,T=O/2,b=T*T+m*m*m;let P,C,E,w,A;if(b<0){const j=-p/3,N=j*j*j,z=Or(N),B=-O/(2*z),G=B<-1?-1:B>1?1:B,H=qC(G),X=lo(z),R=2*X;return E=R*er(H/3)-f/3,w=R*er((H+Es)/3)-f/3,A=R*er((H+2*Es)/3)-f/3,[E,w,A].filter(o)}else{if(b===0)return P=T<0?lo(-T):-lo(T),E=2*P-f/3,w=-P-f/3,[E,w].filter(o);{const j=Or(b);return P=lo(-T+j),C=lo(T+j),[P-C-f/3].filter(o)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],i=e[2],o=r-2*n+i;if(o!==0){const a=-Or(n*n-r*i),u=-r+n,s=-(a+u)/o,l=-(-a+u)/o;return[s,l]}else if(n!==i&&o===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,o){let a,u,s,l,c=0,f=0;const h=V.compute(e,r),d=V.compute(e,n),p=h.x*h.x+h.y*h.y;if(i?(a=Or(dt(h.y*d.z-d.y*h.z,2)+dt(h.z*d.x-d.z*h.x,2)+dt(h.x*d.y-d.x*h.y,2)),u=dt(p+h.z*h.z,3/2)):(a=h.x*d.y-h.y*d.x,u=dt(p,3/2)),a===0||u===0)return{k:0,r:0};if(c=a/u,f=u/a,!o){const m=V.curvature(e-.001,r,n,i,!0).k,O=V.curvature(e+.001,r,n,i,!0).k;l=(O-c+(c-m))/2,s=(so(O-c)+so(c-m))/2}return{k:c,r:f,dk:l,adk:s}},inflections:function(e){if(e.length<4)return[];const r=V.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,o=r[1].x*r[2].y,a=r[3].x*r[2].y,u=18*(-3*n+2*i+3*o-a),s=18*(3*n-i-3*o),l=18*(o-n);if(V.approximately(u,0)){if(!V.approximately(s,0)){let d=-l/s;if(0<=d&&d<=1)return[d]}return[]}const c=2*u;if(V.approximately(c,0))return[];const f=s*s-4*u*l;if(f<0)return[];const h=Math.sqrt(f);return[(h-s)/c,-(s+h)/c].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,r){const n=["x","y"],i=n.length;for(let o=0,a,u,s,l;o<i;o++)if(a=n[o],u=e[a].mid,s=r[a].mid,l=(e[a].size+r[a].size)/2,so(u-s)>=l)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const i=e.bbox(),o=r.bbox(),a=1e5,u=n||.5;if(i.x.size+i.y.size<u&&o.x.size+o.y.size<u)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let s=e.split(.5),l=r.split(.5),c=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];c=c.filter(function(h){return V.bboxoverlap(h.left.bbox(),h.right.bbox())});let f=[];return c.length===0||(c.forEach(function(h){f=f.concat(V.pairiteration(h.left,h.right,u))}),f=f.filter(function(h,d){return f.indexOf(h)===d})),f},getccenter:function(e,r,n){const i=r.x-e.x,o=r.y-e.y,a=n.x-r.x,u=n.y-r.y,s=i*er(wr)-o*Wn(wr),l=i*Wn(wr)+o*er(wr),c=a*er(wr)-u*Wn(wr),f=a*Wn(wr)+u*er(wr),h=(e.x+r.x)/2,d=(e.y+r.y)/2,p=(r.x+n.x)/2,m=(r.y+n.y)/2,O=h+s,T=d+l,b=p+c,P=m+f,C=V.lli8(h,d,O,T,p,m,b,P),E=V.dist(C,e);let w=co(e.y-C.y,e.x-C.x),A=co(r.y-C.y,r.x-C.x),j=co(n.y-C.y,n.x-C.x),N;return w<j?((w>A||A>j)&&(w+=Es),w>j&&(N=j,j=w,w=N)):j<A&&A<w?(N=j,j=w,w=N):j+=Es,C.s=w,C.e=j,C.r=E,C},numberSort:function(e,r){return e-r}};class No{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return V.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){const r=this.curves;for(var n=r[0].bbox(),i=1;i<r.length;i++)V.expandbox(n,r[i].bbox());return n}offset(r){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(r))}),new No(n)}}const{abs:fo,min:k_,max:x_,cos:KC,sin:ZC,acos:XC,sqrt:ho}=Math,QC=Math.PI;class Te{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const p=[];n.forEach(function(m){["x","y","z"].forEach(function(O){typeof m[O]<"u"&&p.push(m[O])})}),n=p}let o=!1;const a=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const u=this._3d=!o&&(a===9||a===12)||r&&r[0]&&typeof r[0].z<"u",s=this.points=[];for(let p=0,m=u?3:2;p<a;p+=m){var l={x:n[p],y:n[p+1]};u&&(l.z=n[p+2]),s.push(l)}const c=this.order=s.length-1,f=this.dims=["x","y"];u&&f.push("z"),this.dimlen=f.length;const h=V.align(s,{p1:s[0],p2:s[c]}),d=V.dist(s[0],s[c]);this._linear=h.reduce((p,m)=>p+fo(m.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Te(n,n,i);if(o===1)return new Te(r,n,n);const a=Te.getABC(2,r,n,i,o);return new Te(r,a.A,i)}static cubicFromPoints(r,n,i,o,a){typeof o>"u"&&(o=.5);const u=Te.getABC(3,r,n,i,o);typeof a>"u"&&(a=V.dist(n,u.C));const s=a*(1-o)/o,l=V.dist(r,i),c=(i.x-r.x)/l,f=(i.y-r.y)/l,h=a*c,d=a*f,p=s*c,m=s*f,O={x:n.x-h,y:n.y-d},T={x:n.x+p,y:n.y+m},b=u.A,P={x:b.x+(O.x-b.x)/(1-o),y:b.y+(O.y-b.y)/(1-o)},C={x:b.x+(T.x-b.x)/o,y:b.y+(T.y-b.y)/o},E={x:r.x+(P.x-r.x)/o,y:r.y+(P.y-r.y)/o},w={x:i.x+(C.x-i.x)/(1-o),y:i.y+(C.y-i.y)/(1-o)};return new Te(r,E,w,i)}static getUtils(){return V}getUtils(){return Te.getUtils()}static get PolyBezier(){return No}valueOf(){return this.toString()}toString(){return V.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const r=this.points,n=r[0].x,i=r[0].y,o=["M",n,i,this.order===2?"Q":"C"];for(let a=1,u=r.length;a<u;a++)o.push(r[a].x),o.push(r[a].y);return o.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){const r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=V.derive(this.points,this._3d),this.computedirection()}computedirection(){const r=this.points,n=V.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return V.length(this.derivative.bind(this))}static getABC(r=2,n,i,o,a=.5){const u=V.projectionratio(a,r),s=1-u,l={x:u*n.x+s*o.x,y:u*n.y+s*o.y},c=V.abcratio(a,r);return{A:{x:i.x+(i.x-l.x)/c,y:i.y+(i.y-l.y)/c},B:i,C:l,S:n,E:o}}getABC(r,n){n=n||this.get(r);let i=this.points[0],o=this.points[this.order];return Te.getABC(this.order,i,n,o,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r+1)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,i,o;n<r;n++)o=n/(r-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(r,n){n=n||5;const i=this.getLUT(),o=[];for(let a=0,u,s=0;a<i.length;a++)u=i[a],V.dist(u,r)<n&&(o.push(u),s+=a/i.length);return o.length?t/=o.length:!1}project(r){const n=this.getLUT(),i=n.length-1,o=V.closest(n,r),a=o.mpos,u=(a-1)/i,s=(a+1)/i,l=.1/i;let c=o.mdist,f=u,h=f,d;c+=1;for(let p;f<s+l;f+=l)d=this.compute(f),p=V.dist(r,d),p<c&&(c=p,h=f);return h=h<0?0:h>1?1:h,d=this.compute(h),d.t=h,d.d=c,d}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?V.computeWithRatios(r,this.points,this.ratios,this._3d):V.compute(r,this.points,this._3d,this.ratios)}raise(){const r=this.points,n=[r[0]],i=r.length;for(let o=1,a,u;o<i;o++)a=r[o],u=r[o-1],n[o]={x:(i-o)/i*a.x+o/i*u.x,y:(i-o)/i*a.y+o/i*u.y};return n[i]=r[i-1],new Te(n)}derivative(r){return V.compute(r,this.dpoints[0],this._3d)}dderivative(r){return V.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new Te(V.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return V.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return V.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){const n=this.derivative(r),i=ho(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/i,y:n.x/i}}__normal3(r){const n=this.derivative(r),i=this.derivative(r+.01),o=ho(n.x*n.x+n.y*n.y+n.z*n.z),a=ho(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=o,n.y/=o,n.z/=o,i.x/=a,i.y/=a,i.z/=a;const u={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},s=ho(u.x*u.x+u.y*u.y+u.z*u.z);u.x/=s,u.y/=s,u.z/=s;const l=[u.x*u.x,u.x*u.y-u.z,u.x*u.z+u.y,u.x*u.y+u.z,u.y*u.y,u.y*u.z-u.x,u.x*u.z-u.y,u.y*u.z+u.x,u.z*u.z];return{t:r,x:l[0]*n.x+l[1]*n.y+l[2]*n.z,y:l[3]*n.x+l[4]*n.y+l[5]*n.z,z:l[6]*n.x+l[7]*n.y+l[8]*n.z}}hull(r){let n=this.points,i=[],o=[],a=0;for(o[a++]=n[0],o[a++]=n[1],o[a++]=n[2],this.order===3&&(o[a++]=n[3]);n.length>1;){i=[];for(let u=0,s,l=n.length-1;u<l;u++)s=V.lerp(r,n[u],n[u+1]),o[a++]=s,i.push(s);n=i}return o}split(r,n){if(r===0&&n)return this.split(n).left;if(n===1)return this.split(r).right;const i=this.hull(r),o={left:this.order===2?new Te([i[0],i[3],i[5]]):new Te([i[0],i[4],i[7],i[9]]),right:this.order===2?new Te([i[5],i[4],i[2]]):new Te([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=V.map(0,0,1,this._t1,this._t2),o.left._t2=V.map(r,0,1,this._t1,this._t2),o.right._t1=V.map(r,0,1,this._t1,this._t2),o.right._t2=V.map(1,0,1,this._t1,this._t2),n?(n=V.map(n,r,1,0,1),o.right.split(n).left):o}extrema(){const r={};let n=[];return this.dims.forEach(function(i){let o=function(u){return u[i]},a=this.dpoints[0].map(o);r[i]=V.droots(a),this.order===3&&(a=this.dpoints[1].map(o),r[i]=r[i].concat(V.droots(a))),r[i]=r[i].filter(function(u){return u>=0&&u<=1}),n=n.concat(r[i].sort(V.numberSort))}.bind(this)),r.values=n.sort(V.numberSort).filter(function(i,o){return n.indexOf(i)===o}),r}bbox(){const r=this.extrema(),n={};return this.dims.forEach(function(i){n[i]=V.getminmax(this,i,r[i])}.bind(this)),n}overlaps(r){const n=this.bbox(),i=r.bbox();return V.bboxoverlap(n,i)}offset(r,n){if(typeof n<"u"){const i=this.get(r),o=this.normal(r),a={c:i,n:o,x:i.x+o.x*n,y:i.y+o.y*n};return this._3d&&(a.z=i.z+o.z*n),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const u={x:a.x+r*i.x,y:a.y+r*i.y};return a.z&&i.z&&(u.z=a.z+r*i.z),u});return[new Te(o)]}return this.reduce().map(function(i){return i._linear?i.offset(r)[0]:i.scale(r)})}simple(){if(this.order===3){const o=V.angle(this.points[0],this.points[3],this.points[1]),a=V.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const r=this.normal(0),n=this.normal(1);let i=r.x*n.x+r.y*n.y;return this._3d&&(i+=r.z*n.z),fo(XC(i))<QC/3}reduce(){let r,n=0,i=0,o=.01,a,u=[],s=[],l=this.extrema().values;for(l.indexOf(0)===-1&&(l=[0].concat(l)),l.indexOf(1)===-1&&l.push(1),n=l[0],r=1;r<l.length;r++)i=l[r],a=this.split(n,i),a._t1=n,a._t2=i,u.push(a),n=i;return u.forEach(function(c){for(n=0,i=0;i<=1;)for(i=n+o;i<=1+o;i+=o)if(a=c.split(n,i),!a.simple()){if(i-=o,fo(n-i)<o)return[];a=c.split(n,i),a._t1=V.map(n,0,1,c._t1,c._t2),a._t2=V.map(i,0,1,c._t1,c._t2),s.push(a),n=i;break}n<1&&(a=c.split(n,1),a._t1=V.map(n,0,1,c._t1,c._t2),a._t2=c._t2,s.push(a))}),s}translate(r,n,i){i=typeof i=="number"?i:n;const o=this.order;let a=this.points.map((u,s)=>(1-s/o)*n+s/o*i);return new Te(this.points.map((u,s)=>({x:u.x+r.x*a[s],y:u.y+r.y*a[s]})))}scale(r){const n=this.order;let i=!1;if(typeof r=="function"&&(i=r),i&&n===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):r,i?i(1):r);const u=i?i(0):r,s=i?i(1):r,l=[this.offset(0,10),this.offset(1,10)],c=[],f=V.lli4(l[0],l[0].c,l[1],l[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const d=c[h*n]=V.copy(a[h*n]);d.x+=(h?s:u)*l[h].n.x,d.y+=(h?s:u)*l[h].n.y}),i?([0,1].forEach(function(h){if(!(n===2&&h)){var d=a[h+1],p={x:d.x-f.x,y:d.y-f.y},m=i?i((h+1)/n):r;i&&!o&&(m=-m);var O=ho(p.x*p.x+p.y*p.y);p.x/=O,p.y/=O,c[h+1]={x:d.x+m*p.x,y:d.y+m*p.y}}}),new Te(c)):([0,1].forEach(h=>{if(n===2&&h)return;const d=c[h*n],p=this.derivative(h),m={x:d.x+p.x,y:d.y+p.y};c[h+1]=V.lli4(d,m,f,a[h+1])}),new Te(c))}outline(r,n,i,o){if(n=n===void 0?r:n,this._linear){const w=this.normal(0),A=this.points[0],j=this.points[this.points.length-1];let N,z,B;i===void 0&&(i=r,o=n),N={x:A.x+w.x*r,y:A.y+w.y*r},B={x:j.x+w.x*i,y:j.y+w.y*i},z={x:(N.x+B.x)/2,y:(N.y+B.y)/2};const G=[N,z,B];N={x:A.x-w.x*n,y:A.y-w.y*n},B={x:j.x-w.x*o,y:j.y-w.y*o},z={x:(N.x+B.x)/2,y:(N.y+B.y)/2};const H=[B,z,N],X=V.makeline(H[2],G[0]),R=V.makeline(G[2],H[0]),$=[X,new Te(G),R,new Te(H)];return new No($)}const a=this.reduce(),u=a.length,s=[];let l=[],c,f=0,h=this.length();const d=typeof i<"u"&&typeof o<"u";function p(w,A,j,N,z){return function(B){const G=N/j,H=(N+z)/j,X=A-w;return V.map(B,0,1,w+G*X,w+H*X)}}a.forEach(function(w){const A=w.length();d?(s.push(w.scale(p(r,i,h,f,A))),l.push(w.scale(p(-n,-o,h,f,A)))):(s.push(w.scale(r)),l.push(w.scale(-n))),f+=A}),l=l.map(function(w){return c=w.points,c[3]?w.points=[c[3],c[2],c[1],c[0]]:w.points=[c[2],c[1],c[0]],w}).reverse();const m=s[0].points[0],O=s[u-1].points[s[u-1].points.length-1],T=l[u-1].points[l[u-1].points.length-1],b=l[0].points[0],P=V.makeline(T,m),C=V.makeline(O,b),E=[P].concat(s).concat([C]).concat(l);return new No(E)}outlineshapes(r,n,i){n=n||r;const o=this.outline(r,n).curves,a=[];for(let u=1,s=o.length;u<s/2;u++){const l=V.makeshape(o[u],o[s-u],i);l.startcap.virtual=u>1,l.endcap.virtual=u<s/2-1,a.push(l)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof Te&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){const n=k_(r.p1.x,r.p2.x),i=k_(r.p1.y,r.p2.y),o=x_(r.p1.x,r.p2.x),a=x_(r.p1.y,r.p2.y);return V.roots(this.points,r).filter(u=>{var s=this.get(u);return V.between(s.x,n,o)&&V.between(s.y,i,a)})}selfintersects(r){const n=this.reduce(),i=n.length-2,o=[];for(let a=0,u,s,l;a<i;a++)s=n.slice(a,a+1),l=n.slice(a+2),u=this.curveintersects(s,l,r),o.push(...u);return o}curveintersects(r,n,i){const o=[];r.forEach(function(u){n.forEach(function(s){u.overlaps(s)&&o.push({left:u,right:s})})});let a=[];return o.forEach(function(u){const s=V.pairiteration(u.left,u.right,i);s.length>0&&(a=a.concat(s))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,i,o){const a=(o-i)/4,u=this.get(i+a),s=this.get(o-a),l=V.dist(r,n),c=V.dist(r,u),f=V.dist(r,s);return fo(c-l)+fo(f-l)}_iterate(r,n){let i=0,o=1,a;do{a=0,o=1;let u=this.get(i),s,l,c,f,h=!1,d=!1,p,m=o,O=1;do if(d=h,f=c,m=(i+o)/2,s=this.get(m),l=this.get(o),c=V.getccenter(u,s,l),c.interval={start:i,end:o},h=this._error(c,u,i,o)<=r,p=d&&!h,p||(O=o),h){if(o>=1){if(c.interval.end=O=1,f=c,o>1){let b={x:c.x+c.r*KC(c.e),y:c.y+c.r*ZC(c.e)};c.e+=V.angle({x:c.x,y:c.y},b,this.get(1))}break}o=o+(o-i)/2}else o=m;while(!p&&a++<100);if(a>=100)break;f=f||c,n.push(f),i=O}while(o<1);return n}}function JC(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==r);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}function eI(e,r){if(e==null)return{};var n={},i=Object.keys(e),o,a;for(a=0;a<i.length;a++)o=i[a],!(r.indexOf(o)>=0)&&(n[o]=e[o]);return n}function tI(e,r){if(e==null)return{};var n=eI(e,r),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function rI(e,r){return oI(e)||JC(e,r)||cb(e,r)||sI()}function nI(e){return iI(e)||aI(e)||cb(e)||uI()}function iI(e){if(Array.isArray(e))return td(e)}function oI(e){if(Array.isArray(e))return e}function aI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cb(e,r){if(e){if(typeof e=="string")return td(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return td(e,r)}}function td(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function uI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cI(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function lI(e){var r=cI(e,"string");return typeof r=="symbol"?r:String(r)}var fI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),a=e.reduce(function(s,l){var c=s,f=l;return o.forEach(function(h,d){var p=h.keyAccessor,m=h.isProp,O;if(m){var T=f,b=T[p],P=tI(T,[p].map(lI));O=b,f=P}else O=p(f,d);d+1<o.length?(c.hasOwnProperty(O)||(c[O]={}),c=c[O]):n?(c.hasOwnProperty(O)||(c[O]=[]),c[O].push(f)):c[O]=f}),s},{});n instanceof Function&&function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===o.length?Object.keys(l).forEach(function(f){return l[f]=n(l[f])}):Object.values(l).forEach(function(f){return s(f,c+1)})}(a);var u=a;return i&&(u=[],function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===o.length?u.push({keys:c,vals:l}):Object.entries(l).forEach(function(f){var h=rI(f,2),d=h[0],p=h[1];return s(p,[].concat(nI(c),[d]))})}(a),r instanceof Array&&r.length===0&&u.length===1&&(u[0].keys=[])),u};function hI(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const $_=Symbol("implicit");function lb(){var e=new d_,r=[],n=[],i=$_;function o(a){let u=e.get(a);if(u===void 0){if(i!==$_)return i;e.set(a,u=r.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new d_;for(const u of a)e.has(u)||e.set(u,r.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return lb(r,n).unknown(i)},hI.apply(o,arguments),o}function dI(e){for(var r=e.length/6|0,n=new Array(r),i=0;i<r;)n[i]="#"+e.slice(i*6,++i*6);return n}const vI=dI("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function _I(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var pI=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;_I(pI);function yI(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==r);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}function D_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function Vn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?D_(Object(n),!0).forEach(function(i){Ko(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rd(e){return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rd(e)}function Ko(e,r,n){return r=TI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nd(e,r){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},nd(e,r)}function mI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e,r,n){return mI()?ko=Reflect.construct.bind():ko=function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),c=new l;return u&&nd(c,u.prototype),c},ko.apply(null,arguments)}function xo(e,r){return gI(e)||yI(e,r)||fb(e,r)||EI()}function _t(e){return bI(e)||OI(e)||fb(e)||wI()}function bI(e){if(Array.isArray(e))return id(e)}function gI(e){if(Array.isArray(e))return e}function OI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fb(e,r){if(e){if(typeof e=="string")return id(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return id(e,r)}}function id(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function wI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SI(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function TI(e){var r=SI(e,"string");return typeof r=="symbol"?r:String(r)}var PI=lb(vI);function L_(e,r,n){!r||typeof n!="string"||e.filter(function(i){return!i[n]}).forEach(function(i){i[n]=PI(r(i))})}function CI(e,r){var n=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,u=a===void 0?function(){return!0}:a,s=o.onLoopError,l=s===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:s,c={};n.forEach(function(p){return c[r(p)]={data:p,out:[],depth:-1,skip:!u(p)}}),i.forEach(function(p){var m=p.source,O=p.target,T=E(m),b=E(O);if(!c.hasOwnProperty(T))throw"Missing source node with id: ".concat(T);if(!c.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var P=c[T],C=c[b];P.out.push(C);function E(w){return rd(w)==="object"?r(w):w}});var f=[];d(Object.values(c));var h=Object.assign.apply(Object,[{}].concat(_t(Object.entries(c).filter(function(p){var m=xo(p,2),O=m[1];return!O.skip}).map(function(p){var m=xo(p,2),O=m[0],T=m[1];return Ko({},O,T.depth)}))));return h;function d(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,T=function(){var w=p[b];if(m.indexOf(w)!==-1){var A=[].concat(_t(m.slice(m.indexOf(w))),[w]).map(function(j){return r(j.data)});return f.some(function(j){return j.length===A.length&&j.every(function(N,z){return N===A[z]})})||(f.push(A),l(A)),"continue"}O>w.depth&&(w.depth=O,d(w.out,[].concat(_t(m),[w]),O+(w.skip?0:1)))},b=0,P=p.length;b<P;b++)var C=T()}}var II=2,We=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},U_=function(r,n){if(!n.isShadow){var i=we(n.linkDirectionalParticles);n.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=_t(Array(a)).map(function(){return{}}):delete o.__photons})}},oc=Qm({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1,U_(r,n)}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:We},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:We},nodeColor:{default:"color",triggerUpdate:!1,onChange:We},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:We},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:We},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:We},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:We},linkColor:{default:"color",triggerUpdate:!1,onChange:We},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:We},linkWidth:{default:1,triggerUpdate:!1,onChange:We},linkCurvature:{default:0,triggerUpdate:!1,onChange:We},linkCanvasObject:{triggerUpdate:!1,onChange:We},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:We},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:We},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:We},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:We},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:U_},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,i){return i===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,i),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),o(),!r.isShadow&&a(),!r.isShadow&&u(),i(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function i(){var s=we(r.nodeVisibility),l=we(r.nodeVal),c=we(r.nodeColor),f=we(r.nodeCanvasObjectMode),h=r.ctx,d=r.isShadow/r.globalScale,p=r.graphData.nodes.filter(s);h.save(),p.forEach(function(m){var O=f(m);if(r.nodeCanvasObject&&(O==="before"||O==="replace")&&(r.nodeCanvasObject(m,h,r.globalScale),O==="replace")){h.restore();return}var T=Math.sqrt(Math.max(0,l(m)||1))*r.nodeRelSize+d;h.beginPath(),h.arc(m.x,m.y,T,0,2*Math.PI,!1),h.fillStyle=c(m)||"rgba(31, 120, 180, 0.92)",h.fill(),r.nodeCanvasObject&&O==="after"&&r.nodeCanvasObject(m,r.ctx,r.globalScale)}),h.restore()}function o(){var s=we(r.linkVisibility),l=we(r.linkColor),c=we(r.linkWidth),f=we(r.linkLineDash),h=we(r.linkCurvature),d=we(r.linkCanvasObjectMode),p=r.ctx,m=r.isShadow*2,O=r.graphData.links.filter(s);O.forEach(A);var T=[],b=[],P=O;if(r.linkCanvasObject){var C=[],E=[];O.forEach(function(j){return({before:T,after:b,replace:C}[d(j)]||E).push(j)}),P=[].concat(_t(T),b,E),T=T.concat(C)}p.save(),T.forEach(function(j){return r.linkCanvasObject(j,p,r.globalScale)}),p.restore();var w=fI(P,[l,c,f]);p.save(),Object.entries(w).forEach(function(j){var N=xo(j,2),z=N[0],B=N[1],G=!z||z==="undefined"?"rgba(0,0,0,0.15)":z;Object.entries(B).forEach(function(H){var X=xo(H,2),R=X[0],$=X[1],k=(R||1)/r.globalScale+m;Object.entries($).forEach(function(F){var U=xo(F,2);U[0];var Y=U[1],Z=f(Y[0]);p.beginPath(),Y.forEach(function(ee){var W=ee.source,ae=ee.target;if(!(!W||!ae||!W.hasOwnProperty("x")||!ae.hasOwnProperty("x"))){p.moveTo(W.x,W.y);var M=ee.__controlPoints;M?p[M.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,_t(M).concat([ae.x,ae.y])):p.lineTo(ae.x,ae.y)}}),p.strokeStyle=G,p.lineWidth=k,p.setLineDash(Z||[]),p.stroke()})})}),p.restore(),p.save(),b.forEach(function(j){return r.linkCanvasObject(j,p,r.globalScale)}),p.restore();function A(j){var N=h(j);if(!N){j.__controlPoints=null;return}var z=j.source,B=j.target;if(!(!z||!B||!z.hasOwnProperty("x")||!B.hasOwnProperty("x"))){var G=Math.sqrt(Math.pow(B.x-z.x,2)+Math.pow(B.y-z.y,2));if(G>0){var H=Math.atan2(B.y-z.y,B.x-z.x),X=G*N,R={x:(z.x+B.x)/2+X*Math.cos(H-Math.PI/2),y:(z.y+B.y)/2+X*Math.sin(H-Math.PI/2)};j.__controlPoints=[R.x,R.y]}else{var $=N*70;j.__controlPoints=[B.x,B.y-$,B.x+$,B.y]}}}}function a(){var s=1.6,l=.2,c=we(r.linkDirectionalArrowLength),f=we(r.linkDirectionalArrowRelPos),h=we(r.linkVisibility),d=we(r.linkDirectionalArrowColor||r.linkColor),p=we(r.nodeVal),m=r.ctx;m.save(),r.graphData.links.filter(h).forEach(function(O){var T=c(O);if(!(!T||T<0)){var b=O.source,P=O.target;if(!(!b||!P||!b.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var C=Math.sqrt(Math.max(0,p(b)||1))*r.nodeRelSize,E=Math.sqrt(Math.max(0,p(P)||1))*r.nodeRelSize,w=Math.min(1,Math.max(0,f(O))),A=d(O)||"rgba(0,0,0,0.28)",j=T/s/2,N=O.__controlPoints&&ko(Te,[b.x,b.y].concat(_t(O.__controlPoints),[P.x,P.y])),z=N?function(k){return N.get(k)}:function(k){return{x:b.x+(P.x-b.x)*k||0,y:b.y+(P.y-b.y)*k||0}},B=N?N.length():Math.sqrt(Math.pow(P.x-b.x,2)+Math.pow(P.y-b.y,2)),G=C+T+(B-C-E-T)*w,H=z(G/B),X=z((G-T)/B),R=z((G-T*(1-l))/B),$=Math.atan2(H.y-X.y,H.x-X.x)-Math.PI/2;m.beginPath(),m.moveTo(H.x,H.y),m.lineTo(X.x+j*Math.cos($),X.y+j*Math.sin($)),m.lineTo(R.x,R.y),m.lineTo(X.x-j*Math.cos($),X.y-j*Math.sin($)),m.fillStyle=A,m.fill()}}}),m.restore()}function u(){var s=we(r.linkDirectionalParticles),l=we(r.linkDirectionalParticleSpeed),c=we(r.linkDirectionalParticleWidth),f=we(r.linkVisibility),h=we(r.linkDirectionalParticleColor||r.linkColor),d=r.ctx;d.save(),r.graphData.links.filter(f).forEach(function(p){var m=s(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var O=p.source,T=p.target;if(!(!O||!T||!O.hasOwnProperty("x")||!T.hasOwnProperty("x"))){var b=l(p),P=p.__photons||[],C=Math.max(0,c(p)/2)/Math.sqrt(r.globalScale),E=h(p)||"rgba(0,0,0,0.28)";d.fillStyle=E;var w=p.__controlPoints?ko(Te,[O.x,O.y].concat(_t(p.__controlPoints),[T.x,T.y])):null,A=0,j=!1;P.forEach(function(N){var z=!!N.__singleHop;if(N.hasOwnProperty("__progressRatio")||(N.__progressRatio=z?0:A/m),!z&&A++,N.__progressRatio+=b,N.__progressRatio>=1)if(!z)N.__progressRatio=N.__progressRatio%1;else{j=!0;return}var B=N.__progressRatio,G=w?w.get(B):{x:O.x+(T.x-O.x)*B||0,y:O.y+(T.y-O.y)*B||0};d.beginPath(),d.arc(G.x,G.y,C,0,2*Math.PI,!1),d.fill()}),j&&(p.__photons=p.__photons.filter(function(N){return!N.__singleHop||N.__progressRatio<=1}))}}}),d.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:WC().force("link",xC()).force("charge",VC()).force("center",UP()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r){r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&L_(r.graphData.nodes,we(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&L_(r.graphData.links,we(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(f){f.source=f[r.linkSource],f.target=f[r.linkTarget]}),r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var n=r.forceLayout.force("link");n&&n.id(function(f){return f[r.nodeId]}).links(r.graphData.links);var i=r.dagMode&&CI(r.graphData,function(f){return f[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),o=Math.max.apply(Math,_t(Object.values(i||[]))),a=r.dagLevelDistance||r.graphData.nodes.length/(o||1)*II*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(r.dagMode){var u=function(h,d){return function(p){return h?(i[p[r.nodeId]]-o/2)*a*(d?-1:1):void 0}},s=u(["lr","rl"].indexOf(r.dagMode)!==-1,r.dagMode==="rl"),l=u(["td","bu"].indexOf(r.dagMode)!==-1,r.dagMode==="bu");r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(f){f.fx=s(f),f.fy=l(f)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?HC(function(f){var h=i[f[r.nodeId]]||-1;return(r.dagMode==="radialin"?o-h:h)*a}).strength(function(f){return r.dagNodeFilter(f)?1:0}):null);for(var c=0;c<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);c++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function hb(e,r){var n=e instanceof Array?e:[e],i=new r;return{linkProp:function(a){return{default:i[a](),onChange:function(s,l){n.forEach(function(c){return l[c][a](s)})},triggerUpdate:!1}},linkMethod:function(a){return function(u){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var f=[];return n.forEach(function(h){var d=u[h],p=d[a].apply(d,l);p!==d&&f.push(p)}),f.length?f[0]:this}}}}var AI=800,RI=4,db=hb("forceGraph",oc),jI=hb(["forceGraph","shadowGraph"],oc),MI=Object.assign.apply(Object,_t(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Ko({},e,db.linkProp(e))})).concat(_t(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Ko({},e,jI.linkProp(e))})))),NI=Object.assign.apply(Object,_t(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Ko({},e,db.linkMethod(e))})));function ih(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var i=window.devicePixelRatio;r/=i,n/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!r&&!n&&a.getContext("2d").scale(i,i)});var o=Lt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/o,(e.height-n)/2/o),e.needsRedraw=!0}}function vb(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function F_(e,r,n){e.save(),vb(e),e.clearRect(0,0,r,n),e.restore()}var kI=Qm({props:Vn({width:{default:window.innerWidth,onChange:function(r,n){return ih(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return ih(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(i),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function i(o){var a=o.type,u=o.objs;u.filter(function(s){if(!s.hasOwnProperty("__indexColor"))return!0;var l=n.colorTracker.lookup(s.__indexColor);return!l||!l.hasOwnProperty("d")||l.d!==s}).forEach(function(s){s.__indexColor=n.colorTracker.register({type:a,d:s})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},MI),aliases:{stopAnimation:"pauseAnimation"},methods:Vn({graph2ScreenCoords:function(r,n,i){var o=Lt(r.canvas);return{x:n*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(r,n,i){var o=Lt(r.canvas);return{x:(n-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(r,n,i,o){if(!r.canvas)return null;if(n!==void 0||i!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return o?new uo.Tween(u()).to(a,o).easing(uo.Easing.Quadratic.Out).onUpdate(s).start():s(a),this}return u();function u(){var l=Lt(r.canvas);return{x:(r.width/2-l.x)/l.k,y:(r.height/2-l.y)/l.k}}function s(l){var c=l.x,f=l.y;r.zoom.translateTo(r.zoom.__baseElem,c===void 0?u().x:c,f===void 0?u().y:f),r.needsRedraw=!0}},zoom:function(r,n,i){if(!r.canvas)return null;if(n!==void 0)return i?new uo.Tween({k:o()}).to({k:n},i).easing(uo.Easing.Quadratic.Out).onUpdate(function(u){var s=u.k;return a(s)}).start():a(n),this;return o();function o(){return Lt(r.canvas).k}function a(u){r.zoom.scaleTo(r.zoom.__baseElem,u),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];var s=this.getGraphBbox.apply(this,a);if(s){var l={x:(s.x[0]+s.x[1])/2,y:(s.y[0]+s.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(r.width-i*2)/(s.x[1]-s.x[0]),(r.height-i*2)/(s.y[1]-s.y[0])));this.centerAt(l.x,l.y,n),this.zoom(c,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=we(r.nodeVal),o=function(s){return Math.sqrt(Math.max(0,i(s)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(u){return{x:u.x,y:u.y,r:o(u)}});return a.length?{x:[p_(a,function(u){return u.x-u.r}),__(a,function(u){return u.x+u.r})],y:[p_(a,function(u){return u.y-u.r}),__(a,function(u){return u.y+u.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},NI),stateInit:function(){return{lastSetZoom:1,zoom:kT(),forceGraph:new oc,shadowGraph:new oc().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new LP}},init:function(r,n){var i=this;r.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",r.appendChild(o),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),o.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),u=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),s={x:-1e12,y:-1e12},l=function(){var d=null,p=window.devicePixelRatio,m=s.x>0&&s.y>0?u.getImageData(s.x*p,s.y*p,1,1):null;return m&&(d=n.colorTracker.lookup(m.data)),d};Tt(n.canvas).call(VE().subject(function(){if(!n.enableNodeDrag)return null;var h=l();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var d=h.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},h.active||(d.fx=d.x,d.fy=d.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var d=h.subject,p=d.__initialDragPos,m=h,O=Lt(n.canvas).k,T={x:p.x+(m.x-p.x)/O-d.x,y:p.y+(m.y-p.y)/O-d.y};["x","y"].forEach(function(b){return d["f".concat(b)]=d[b]=p[b]+(m[b]-p[b])/O}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,d.__dragged=!0,n.onNodeDrag(d,T)}).on("end",function(h){var d=h.subject,p=d.__initialDragPos,m={x:d.x-p.x,y:d.y-p.y};p.fx===void 0&&(d.fx=void 0),p.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,n.onNodeDragEnd(d,m))})),n.zoom(n.zoom.__baseElem=Tt(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||h.type!=="wheel")&&(n.enablePanInteraction||h.type==="wheel")}).on("zoom",function(h){var d=h.transform;[a,u].forEach(function(p){vb(p),p.translate(d.x,d.y),p.scale(d.k,d.k)}),n.onZoom&&n.onZoom(Vn(Vn({},d),i.centerAt())),n.needsRedraw=!0}).on("end",function(h){return n.onZoomEnd&&n.onZoomEnd(Vn(Vn({},h.transform),i.centerAt()))}),ih(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){Lt(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=RI/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var c=document.createElement("div");c.classList.add("graph-tooltip"),o.appendChild(c),["pointermove","pointerdown"].forEach(function(h){return o.addEventListener(h,function(d){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=d),!n.isPointerDragging&&d.type==="pointermove"&&n.onBackgroundClick&&(d.pressure>0||n.isPointerPressed)&&(d.pointerType!=="touch"||d.movementX===void 0||[d.movementX,d.movementY].some(function(O){return Math.abs(O)>1}))&&(n.isPointerDragging=!0);var p=m(o);s.x=d.pageX-p.left,s.y=d.pageY-p.top,c.style.top="".concat(s.y,"px"),c.style.left="".concat(s.x,"px"),c.style.transform="translate(-".concat(s.x/n.width*100,"%, ").concat(n.height-s.y<100?"calc(-100% - 8px)":"21px",")");function m(O){var T=O.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,P=window.pageYOffset||document.documentElement.scrollTop;return{top:T.top+P,left:T.left+b}}},{passive:!0})}),o.addEventListener("pointerup",function(h){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var d=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var p=n["on".concat(n.hoverObj.type,"Click")];p&&p.apply(void 0,[n.hoverObj.d].concat(d))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,d);if(h.button===2)if(n.hoverObj){var m=n["on".concat(n.hoverObj.type,"RightClick")];m&&m.apply(void 0,[n.hoverObj.d].concat(d))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,d)})},{passive:!0}),o.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(u);var f=XO(function(){F_(u,n.width,n.height),n.shadowGraph.linkWidth(function(d){return we(n.linkWidth)(d)+n.linkHoverPrecision});var h=Lt(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},AI);n.flushShadowCanvas=f.flush,(this._animationCycle=function h(){var d=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(w){return w.__photons&&w.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var p=n.isPointerDragging?null:l();if(p!==n.hoverObj){var m=n.hoverObj,O=m?m.type:null,T=p?p.type:null;if(O&&O!==T){var b=n["on".concat(O,"Hover")];b&&b(null,m.d)}if(T){var P=n["on".concat(T,"Hover")];P&&P(p.d,O===T?m.d:null)}var C=p&&we(n["".concat(p.type.toLowerCase(),"Label")])(p.d)||"";c.style.visibility=C?"visible":"hidden",c.innerHTML=C,n.canvas.classList[p&&n["on".concat(T,"Click")]||!p&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=p}d&&f()}if(d){F_(a,n.width,n.height);var E=Lt(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,E),n.forceGraph.globalScale(E).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,E)}uo.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(r){}}),_b={},lr={},oe={},me={},xI=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(me,"__esModule",{value:!0});me.PROTOCOL_ERROR=me.SESSION_EXPIRED=me.SERVICE_UNAVAILABLE=me.Neo4jError=me.isRetriableError=me.newError=void 0;var pb="ServiceUnavailable";me.SERVICE_UNAVAILABLE=pb;var yb="SessionExpired";me.SESSION_EXPIRED=yb;var $I="ProtocolError";me.PROTOCOL_ERROR=$I;var DI="N/A",qd=function(e){xI(r,e);function r(n,i,o){var a=e.call(this,n,o!=null?{cause:o}:void 0)||this;return a.constructor=r,a.__proto__=r.prototype,a.code=i,a.name="Neo4jError",a.retriable=FI(i),a}return r.isRetriable=function(n){return n!=null&&n instanceof r&&n.retriable},r}(Error);me.Neo4jError=qd;function LI(e,r,n){return new qd(e,r??DI,n)}me.newError=LI;var UI=qd.isRetriable;me.isRetriableError=UI;function FI(e){return e===pb||e===yb||zI(e)||BI(e)}function BI(e){return(e==null?void 0:e.includes("TransientError"))===!0}function zI(e){return e==="Neo.ClientError.Security.AuthorizationExpired"}var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.toString=Le.toNumber=Le.inSafeRange=Le.isInt=Le.int=void 0;var vo=me,B_=new Map,Nr=function(){function e(r,n){this.low=r??0,this.high=n??0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*cn+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(cn)+BigInt(this.low>>>0);var r=this.negate();return BigInt(-1)*(BigInt(r.high>>>0)*BigInt(cn)+BigInt(r.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(r){if(r=r??10,r<2||r>36)throw RangeError("radix out of range: "+r.toString());if(this.isZero())return"0";var n;if(this.isNegative())if(this.equals(e.MIN_VALUE)){var i=e.fromNumber(r),o=this.div(i);return n=o.multiply(i).subtract(this),o.toString(r)+n.toInt().toString(r)}else return"-"+this.negate().toString(r);var a=e.fromNumber(Math.pow(r,6));n=this;for(var u="";;){var s=n.div(a),l=n.subtract(s.multiply(a)).toInt()>>>0,c=l.toString(r);if(n=s,n.isZero())return c+u;for(;c.length<6;)c="0"+c;u=""+c+u}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var r=this.high!==0?this.high:this.low,n=0;for(n=31;n>0&&!(r&1<<n);n--);return this.high!==0?n+33:n+1},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.equals=function(r){var n=e.fromValue(r);return this.high===n.high&&this.low===n.low},e.prototype.notEquals=function(r){return!this.equals(r)},e.prototype.lessThan=function(r){return this.compare(r)<0},e.prototype.lessThanOrEqual=function(r){return this.compare(r)<=0},e.prototype.greaterThan=function(r){return this.compare(r)>0},e.prototype.greaterThanOrEqual=function(r){return this.compare(r)>=0},e.prototype.compare=function(r){var n=e.fromValue(r);if(this.equals(n))return 0;var i=this.isNegative(),o=n.isNegative();return i&&!o?-1:!i&&o?1:this.subtract(n).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(r){var n=e.fromValue(r),i=this.high>>>16,o=this.high&65535,a=this.low>>>16,u=this.low&65535,s=n.high>>>16,l=n.high&65535,c=n.low>>>16,f=n.low&65535,h=0,d=0,p=0,m=0;return m+=u+f,p+=m>>>16,m&=65535,p+=a+c,d+=p>>>16,p&=65535,d+=o+l,h+=d>>>16,d&=65535,h+=i+s,h&=65535,e.fromBits(p<<16|m,h<<16|d)},e.prototype.subtract=function(r){var n=e.fromValue(r);return this.add(n.negate())},e.prototype.multiply=function(r){if(this.isZero())return e.ZERO;var n=e.fromValue(r);if(n.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return n.isOdd()?e.MIN_VALUE:e.ZERO;if(n.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().multiply(n.negate()):this.negate().multiply(n).negate();if(n.isNegative())return this.multiply(n.negate()).negate();if(this.lessThan(V_)&&n.lessThan(V_))return e.fromNumber(this.toNumber()*n.toNumber());var i=this.high>>>16,o=this.high&65535,a=this.low>>>16,u=this.low&65535,s=n.high>>>16,l=n.high&65535,c=n.low>>>16,f=n.low&65535,h=0,d=0,p=0,m=0;return m+=u*f,p+=m>>>16,m&=65535,p+=a*f,d+=p>>>16,p&=65535,p+=u*c,d+=p>>>16,p&=65535,d+=o*f,h+=d>>>16,d&=65535,d+=a*c,h+=d>>>16,d&=65535,d+=u*l,h+=d>>>16,d&=65535,h+=i*f+o*c+a*l+u*s,h&=65535,e.fromBits(p<<16|m,h<<16|d)},e.prototype.div=function(r){var n=e.fromValue(r);if(n.isZero())throw(0,vo.newError)("division by zero");if(this.isZero())return e.ZERO;var i,o,a;if(this.equals(e.MIN_VALUE)){if(n.equals(e.ONE)||n.equals(e.NEG_ONE))return e.MIN_VALUE;if(n.equals(e.MIN_VALUE))return e.ONE;var u=this.shiftRight(1);return i=u.div(n).shiftLeft(1),i.equals(e.ZERO)?n.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(n.multiply(i)),a=i.add(o.div(n)),a)}else if(n.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().div(n.negate()):this.negate().div(n).negate();if(n.isNegative())return this.div(n.negate()).negate();for(a=e.ZERO,o=this;o.greaterThanOrEqual(n);){i=Math.max(1,Math.floor(o.toNumber()/n.toNumber()));for(var s=Math.ceil(Math.log(i)/Math.LN2),l=s<=48?1:Math.pow(2,s-48),c=e.fromNumber(i),f=c.multiply(n);f.isNegative()||f.greaterThan(o);)i-=l,c=e.fromNumber(i),f=c.multiply(n);c.isZero()&&(c=e.ONE),a=a.add(c),o=o.subtract(f)}return a},e.prototype.modulo=function(r){var n=e.fromValue(r);return this.subtract(this.div(n).multiply(n))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(r){var n=e.fromValue(r);return e.fromBits(this.low&n.low,this.high&n.high)},e.prototype.or=function(r){var n=e.fromValue(r);return e.fromBits(this.low|n.low,this.high|n.high)},e.prototype.xor=function(r){var n=e.fromValue(r);return e.fromBits(this.low^n.low,this.high^n.high)},e.prototype.shiftLeft=function(r){var n=e.toNumber(r);return(n&=63)===0?e.ZERO:n<32?e.fromBits(this.low<<n,this.high<<n|this.low>>>32-n):e.fromBits(0,this.low<<n-32)},e.prototype.shiftRight=function(r){var n=e.toNumber(r);return(n&=63)===0?e.ZERO:r<32?e.fromBits(this.low>>>n|this.high<<32-n,this.high>>n):e.fromBits(this.high>>n-32,this.high>=0?0:-1)},e.isInteger=function(r){return(r==null?void 0:r.__isInteger__)===!0},e.fromInt=function(r){var n;if(r=r|0,r>=-128&&r<128&&(n=B_.get(r),n!=null))return n;var i=new e(r,r<0?-1:0);return r>=-128&&r<128&&B_.set(r,i),i},e.fromBits=function(r,n){return new e(r,n)},e.fromNumber=function(r){return isNaN(r)||!isFinite(r)?e.ZERO:r<=-W_?e.MIN_VALUE:r+1>=W_?e.MAX_VALUE:r<0?e.fromNumber(-r).negate():new e(r%cn|0,r/cn|0)},e.fromString=function(r,n,i){var o=i===void 0?{}:i,a=o.strictStringValidation;if(r.length===0)throw(0,vo.newError)("number format error: empty string");if(r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return e.ZERO;if(n=n??10,n<2||n>36)throw(0,vo.newError)("radix out of range: "+n.toString());var u;if((u=r.indexOf("-"))>0)throw(0,vo.newError)('number format error: interior "-" character: '+r);if(u===0)return e.fromString(r.substring(1),n).negate();for(var s=e.fromNumber(Math.pow(n,8)),l=e.ZERO,c=0;c<r.length;c+=8){var f=Math.min(8,r.length-c),h=r.substring(c,c+f),d=parseInt(h,n);if(a===!0&&!VI(h,d,n))throw(0,vo.newError)('number format error: "'.concat(h,'" is NaN in radix ').concat(n,": ").concat(r));if(f<8){var p=e.fromNumber(Math.pow(n,f));l=l.multiply(p).add(e.fromNumber(d))}else l=l.multiply(s),l=l.add(e.fromNumber(d))}return l},e.fromValue=function(r,n){return n===void 0&&(n={}),r instanceof e?r:typeof r=="number"?e.fromNumber(r):typeof r=="string"?e.fromString(r,void 0,n):typeof r=="bigint"?e.fromString(r.toString()):new e(r.low,r.high)},e.toNumber=function(r){switch(typeof r){case"number":return r;case"bigint":return Number(r);default:return e.fromValue(r).toNumber()}},e.toString=function(r,n){return e.fromValue(r).toString(n)},e.inSafeRange=function(r){return e.fromValue(r).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function WI(e,r,n){var i=e.toString(r),o=Math.max(n-i.length,0),a="0".repeat(o);return"".concat(a).concat(i)}function VI(e,r,n){return!Number.isNaN(e)&&!Number.isNaN(r)&&WI(r,n,e.length)===e.toLowerCase()}Object.defineProperty(Nr.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var z_=1<<16,HI=1<<24,cn=z_*z_,qI=cn*cn,W_=qI/2,V_=Nr.fromInt(HI),GI=Nr.fromValue;Le.int=GI;var YI=Nr.isInteger;Le.isInt=YI;var KI=Nr.inSafeRange;Le.inSafeRange=KI;var ZI=Nr.toNumber;Le.toNumber=ZI;var XI=Nr.toString;Le.toString=XI;Le.default=Nr;var Ee={},Gd={},ce={},pi={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.getBrokenObjectReason=fr.isBrokenObject=fr.createBrokenObject=void 0;var mb="__isBrokenObject__",bb="__reason__";function QI(e,r){r===void 0&&(r={});var n=function(){throw e};return new Proxy(r,{get:function(i,o){if(o===mb)return!0;if(o===bb)return e;if(o==="toJSON")return;n()},set:n,apply:n,construct:n,defineProperty:n,deleteProperty:n,getOwnPropertyDescriptor:n,getPrototypeOf:n,has:n,isExtensible:n,ownKeys:n,preventExtensions:n,setPrototypeOf:n})}fr.createBrokenObject=QI;function JI(e){return e!==null&&typeof e=="object"&&e[mb]===!0}fr.isBrokenObject=JI;function eA(e){return e[bb]}fr.getBrokenObjectReason=eA;Object.defineProperty(pi,"__esModule",{value:!0});pi.stringify=void 0;var H_=fr;function tA(e){return JSON.stringify(e,function(r,n){return(0,H_.isBrokenObject)(n)?{__isBrokenObject__:!0,__reason__:(0,H_.getBrokenObjectReason)(n)}:typeof n=="bigint"?"".concat(n,"n"):n})}pi.stringify=tA;Object.defineProperty(ce,"__esModule",{value:!0});ce.ENCRYPTION_OFF=ce.ENCRYPTION_ON=ce.validateQueryAndParameters=ce.assertValidDate=ce.assertNumberOrInteger=ce.assertNumber=ce.assertString=ce.assertObject=ce.isString=ce.isObject=ce.isEmptyObjectOrNull=void 0;var rA=Le,yn=pi,nA="ENCRYPTION_ON";ce.ENCRYPTION_ON=nA;var iA="ENCRYPTION_OFF";ce.ENCRYPTION_OFF=iA;function oA(e){if(e===null)return!0;if(!Cc(e))return!1;for(var r in e)if(e[r]!==void 0)return!1;return!0}ce.isEmptyObjectOrNull=oA;function Cc(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}ce.isObject=Cc;function aA(e,r,n){var i,o,a="",u=r??{},s=(i=n==null?void 0:n.skipAsserts)!==null&&i!==void 0?i:!1;return typeof e=="string"?a=e:e instanceof String?a=e.toString():typeof e=="object"&&e.text!=null&&(a=e.text,u=(o=e.parameters)!==null&&o!==void 0?o:{}),s||(fA(a),hA(u)),{validatedQuery:a,params:u}}ce.validateQueryAndParameters=aA;function uA(e,r){if(!Cc(e))throw new TypeError(r+" expected to be an object but was: "+(0,yn.stringify)(e));return e}ce.assertObject=uA;function gb(e,r){if(!Ob(e))throw new TypeError((0,yn.stringify)(r)+" expected to be string but was: "+(0,yn.stringify)(e));return e}ce.assertString=gb;function sA(e,r){if(typeof e!="number")throw new TypeError(r+" expected to be a number but was: "+(0,yn.stringify)(e));return e}ce.assertNumber=sA;function cA(e,r){if(typeof e!="number"&&typeof e!="bigint"&&!(0,rA.isInt)(e))throw new TypeError(r+" expected to be either a number or an Integer object but was: "+(0,yn.stringify)(e));return e}ce.assertNumberOrInteger=cA;function lA(e,r){if(Object.prototype.toString.call(e)!=="[object Date]")throw new TypeError(r+" expected to be a standard JavaScript Date but was: "+(0,yn.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(r+" expected to be valid JavaScript Date but its time was NaN: "+(0,yn.stringify)(e));return e}ce.assertValidDate=lA;function fA(e){if(gb(e,"Cypher query"),e.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}function hA(e){if(!Cc(e)){var r=e.constructor!=null?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(r," ").concat(JSON.stringify(e)))}}function Ob(e){return Object.prototype.toString.call(e)==="[object String]"}ce.isString=Ob;(function(e){var r=v&&v.__createBinding||(Object.create?function(M,L,q,Q){Q===void 0&&(Q=q);var ne=Object.getOwnPropertyDescriptor(L,q);(!ne||("get"in ne?!L.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return L[q]}}),Object.defineProperty(M,Q,ne)}:function(M,L,q,Q){Q===void 0&&(Q=q),M[Q]=L[q]}),n=v&&v.__setModuleDefault||(Object.create?function(M,L){Object.defineProperty(M,"default",{enumerable:!0,value:L})}:function(M,L){M.default=L}),i=v&&v.__importStar||function(M){if(M&&M.__esModule)return M;var L={};if(M!=null)for(var q in M)q!=="default"&&Object.prototype.hasOwnProperty.call(M,q)&&r(L,M,q);return n(L,M),L};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var o=i(Le),a=me,u=ce,s=function(){function M(L,q){this._minNumber=L,this._maxNumber=q,this._minInteger=(0,o.int)(L),this._maxInteger=(0,o.int)(q)}return M.prototype.contains=function(L){if((0,o.isInt)(L)&&L instanceof o.default)return L.greaterThanOrEqual(this._minInteger)&&L.lessThanOrEqual(this._maxInteger);if(typeof L=="bigint"){var q=(0,o.int)(L);return q.greaterThanOrEqual(this._minInteger)&&q.lessThanOrEqual(this._maxInteger)}else return L>=this._minNumber&&L<=this._maxNumber},M.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},M}();e.YEAR_RANGE=new s(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new s(1,12),e.DAY_OF_MONTH_RANGE=new s(1,31),e.HOUR_OF_DAY_RANGE=new s(0,23),e.MINUTE_OF_HOUR_RANGE=new s(0,59),e.SECOND_OF_MINUTE_RANGE=new s(0,59),e.NANOSECOND_OF_SECOND_RANGE=new s(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400;function l(M,L){return(0,o.int)(M).add(F(L,e.NANOS_PER_SECOND))}e.normalizeSecondsForDuration=l;function c(M){return U(M,e.NANOS_PER_SECOND)}e.normalizeNanosecondsForDuration=c;function f(M,L,q,Q){M=(0,o.int)(M),L=(0,o.int)(L),q=(0,o.int)(q),Q=(0,o.int)(Q);var ne=M.multiply(e.NANOS_PER_HOUR);return ne=ne.add(L.multiply(e.NANOS_PER_MINUTE)),ne=ne.add(q.multiply(e.NANOS_PER_SECOND)),ne.add(Q)}e.localTimeToNanoOfDay=f;function h(M,L,q,Q,ne,Se,Je){var Kt=d(M,L,q),br=$(Q,ne,Se);return Kt.multiply(e.SECONDS_PER_DAY).add(br)}e.localDateTimeToEpochSecond=h;function d(M,L,q){M=(0,o.int)(M),L=(0,o.int)(L),q=(0,o.int)(q);var Q=M.multiply(365);return M.greaterThanOrEqual(0)?Q=Q.add(M.add(3).div(4).subtract(M.add(99).div(100)).add(M.add(399).div(400))):Q=Q.subtract(M.div(-4).subtract(M.div(-100)).add(M.div(-400))),Q=Q.add(L.multiply(367).subtract(362).div(12)),Q=Q.add(q.subtract(1)),L.greaterThan(2)&&(Q=Q.subtract(1),k(M)||(Q=Q.subtract(1))),Q.subtract(e.DAYS_0000_TO_1970)}e.dateToEpochDay=d;function p(M,L,q,Q){var ne=W(M),Se=W(L),Je=Y(q,Q);return"P".concat(ne,"M").concat(Se,"DT").concat(Je,"S")}e.durationToIsoString=p;function m(M,L,q,Q){var ne=W(M,2),Se=W(L,2),Je=W(q,2),Kt=Z(Q);return"".concat(ne,":").concat(Se,":").concat(Je).concat(Kt)}e.timeToIsoString=m;function O(M){if(M=(0,o.int)(M),M.equals(0))return"Z";var L=M.isNegative();L&&(M=M.multiply(-1));var q=L?"-":"+",Q=W(M.div(e.SECONDS_PER_HOUR),2),ne=W(M.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),Se=M.modulo(e.SECONDS_PER_MINUTE),Je=Se.equals(0)?null:W(Se,2);return Je!=null?"".concat(q).concat(Q,":").concat(ne,":").concat(Je):"".concat(q).concat(Q,":").concat(ne)}e.timeZoneOffsetToIsoString=O;function T(M,L,q){var Q=ee(M),ne=W(L,2),Se=W(q,2);return"".concat(Q,"-").concat(ne,"-").concat(Se)}e.dateToIsoString=T;function b(M){return new Date(M)}e.isoStringToStandardDate=b;function P(M){return new Date(M)}e.toStandardDate=P;function C(M){return new Date(M)}e.newDate=C;function E(M,L){L=L??0;var q=M.getMilliseconds()*e.NANOS_PER_MILLISECOND;return ae(L,q)}e.totalNanoseconds=E;function w(M){var L=M.getSeconds()>=M.getUTCSeconds()?M.getSeconds()-M.getUTCSeconds():M.getSeconds()-M.getUTCSeconds()+60,q=M.getTimezoneOffset();return q===0?0+L:-1*q*e.SECONDS_PER_MINUTE+L}e.timeZoneOffsetInSeconds=w;function A(M){return R(M,e.YEAR_RANGE,"Year")}e.assertValidYear=A;function j(M){return R(M,e.MONTH_OF_YEAR_RANGE,"Month")}e.assertValidMonth=j;function N(M){return R(M,e.DAY_OF_MONTH_RANGE,"Day")}e.assertValidDay=N;function z(M){return R(M,e.HOUR_OF_DAY_RANGE,"Hour")}e.assertValidHour=z;function B(M){return R(M,e.MINUTE_OF_HOUR_RANGE,"Minute")}e.assertValidMinute=B;function G(M){return R(M,e.SECOND_OF_MINUTE_RANGE,"Second")}e.assertValidSecond=G;function H(M){return R(M,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")}e.assertValidNanosecond=H;function X(M,L){try{Intl.DateTimeFormat(void 0,{timeZone:L})}catch{throw(0,a.newError)("".concat(M,' is expected to be a valid ZoneId but was: "').concat(L,'"'))}}e.assertValidZoneId=X;function R(M,L,q){if((0,u.assertNumberOrInteger)(M,q),!L.contains(M))throw(0,a.newError)("".concat(q," is expected to be in range ").concat(L.toString()," but was: ").concat(M.toString()));return M}function $(M,L,q){M=(0,o.int)(M),L=(0,o.int)(L),q=(0,o.int)(q);var Q=M.multiply(e.SECONDS_PER_HOUR);return Q=Q.add(L.multiply(e.SECONDS_PER_MINUTE)),Q.add(q)}function k(M){return M=(0,o.int)(M),M.modulo(4).equals(0)?M.modulo(100).equals(0)?!!M.modulo(400).equals(0):!0:!1}function F(M,L){M=(0,o.int)(M),L=(0,o.int)(L);var q=M.div(L);return M.isPositive()!==L.isPositive()&&q.multiply(L).notEquals(M)&&(q=q.subtract(1)),q}e.floorDiv=F;function U(M,L){return M=(0,o.int)(M),L=(0,o.int)(L),M.subtract(F(M,L).multiply(L))}e.floorMod=U;function Y(M,L){M=(0,o.int)(M),L=(0,o.int)(L);var q,Q,ne=M.isNegative(),Se=L.greaterThan(0);return ne&&Se?M.equals(-1)?q="-0":q=M.add(1).toString():q=M.toString(),Se&&(ne?Q=Z(L.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND)):Q=Z(L.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),Q!=null?q+Q:q}function Z(M){return M=(0,o.int)(M),M.equals(0)?"":"."+W(M,9)}function ee(M){var L=(0,o.int)(M);return L.isNegative()||L.greaterThan(9999)?W(L,6,{usePositiveSign:!0}):W(L,4)}function W(M,L,q){M=(0,o.int)(M);var Q=M.isNegative();Q&&(M=M.negate());var ne=M.toString();if(L!=null)for(;ne.length<L;)ne="0"+ne;return Q?"-"+ne:(q==null?void 0:q.usePositiveSign)===!0?"+"+ne:ne}function ae(M,L){return M instanceof o.default?M.add(L):typeof M=="bigint"?M+BigInt(L):M+L}})(Gd);var dA=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),vA=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),wb=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&dA(r,e,n);return vA(r,e),r},_A=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isDateTime=Ee.DateTime=Ee.isLocalDateTime=Ee.LocalDateTime=Ee.isDate=Ee.Date=Ee.isTime=Ee.Time=Ee.isLocalTime=Ee.LocalTime=Ee.isDuration=Ee.Duration=void 0;var ie=wb(Gd),sr=ce,pA=me,vn=wb(Le),yi={value:!0,enumerable:!1,configurable:!1,writable:!1},Eb="__isDuration__",Sb="__isLocalTime__",Tb="__isTime__",Pb="__isDate__",Cb="__isLocalDateTime__",Ib="__isDateTime__",Ab=function(){function e(r,n,i,o){this.months=(0,sr.assertNumberOrInteger)(r,"Months"),this.days=(0,sr.assertNumberOrInteger)(n,"Days"),(0,sr.assertNumberOrInteger)(i,"Seconds"),(0,sr.assertNumberOrInteger)(o,"Nanoseconds"),this.seconds=ie.normalizeSecondsForDuration(i,o),this.nanoseconds=ie.normalizeNanosecondsForDuration(o),Object.freeze(this)}return e.prototype.toString=function(){return ie.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();Ee.Duration=Ab;Object.defineProperty(Ab.prototype,Eb,yi);function yA(e){return mi(e,Eb)}Ee.isDuration=yA;var Rb=function(){function e(r,n,i,o){this.hour=ie.assertValidHour(r),this.minute=ie.assertValidMinute(n),this.second=ie.assertValidSecond(i),this.nanosecond=ie.assertValidNanosecond(o),Object.freeze(this)}return e.fromStandardDate=function(r,n){ia(r,n);var i=ie.totalNanoseconds(r,n);return new e(r.getHours(),r.getMinutes(),r.getSeconds(),i instanceof vn.default?i.toInt():typeof i=="bigint"?(0,vn.int)(i).toInt():i)},e.prototype.toString=function(){return ie.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();Ee.LocalTime=Rb;Object.defineProperty(Rb.prototype,Sb,yi);function mA(e){return mi(e,Sb)}Ee.isLocalTime=mA;var jb=function(){function e(r,n,i,o,a){this.hour=ie.assertValidHour(r),this.minute=ie.assertValidMinute(n),this.second=ie.assertValidSecond(i),this.nanosecond=ie.assertValidNanosecond(o),this.timeZoneOffsetSeconds=(0,sr.assertNumberOrInteger)(a,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(r,n){return ia(r,n),new e(r.getHours(),r.getMinutes(),r.getSeconds(),(0,vn.toNumber)(ie.totalNanoseconds(r,n)),ie.timeZoneOffsetInSeconds(r))},e.prototype.toString=function(){return ie.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+ie.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();Ee.Time=jb;Object.defineProperty(jb.prototype,Tb,yi);function bA(e){return mi(e,Tb)}Ee.isTime=bA;var Mb=function(){function e(r,n,i){this.year=ie.assertValidYear(r),this.month=ie.assertValidMonth(n),this.day=ie.assertValidDay(i),Object.freeze(this)}return e.fromStandardDate=function(r){return ia(r),new e(r.getFullYear(),r.getMonth()+1,r.getDate())},e.prototype.toStandardDate=function(){return ie.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return ie.dateToIsoString(this.year,this.month,this.day)},e}();Ee.Date=Mb;Object.defineProperty(Mb.prototype,Pb,yi);function gA(e){return mi(e,Pb)}Ee.isDate=gA;var Nb=function(){function e(r,n,i,o,a,u,s){this.year=ie.assertValidYear(r),this.month=ie.assertValidMonth(n),this.day=ie.assertValidDay(i),this.hour=ie.assertValidHour(o),this.minute=ie.assertValidMinute(a),this.second=ie.assertValidSecond(u),this.nanosecond=ie.assertValidNanosecond(s),Object.freeze(this)}return e.fromStandardDate=function(r,n){return ia(r,n),new e(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),(0,vn.toNumber)(ie.totalNanoseconds(r,n)))},e.prototype.toStandardDate=function(){return ie.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return xb(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();Ee.LocalDateTime=Nb;Object.defineProperty(Nb.prototype,Cb,yi);function OA(e){return mi(e,Cb)}Ee.isLocalDateTime=OA;var kb=function(){function e(r,n,i,o,a,u,s,l,c){this.year=ie.assertValidYear(r),this.month=ie.assertValidMonth(n),this.day=ie.assertValidDay(i),this.hour=ie.assertValidHour(o),this.minute=ie.assertValidMinute(a),this.second=ie.assertValidSecond(u),this.nanosecond=ie.assertValidNanosecond(s);var f=_A(EA(l,c),2),h=f[0],d=f[1];this.timeZoneOffsetSeconds=h,this.timeZoneId=d??void 0,Object.freeze(this)}return e.fromStandardDate=function(r,n){return ia(r,n),new e(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),(0,vn.toNumber)(ie.totalNanoseconds(r,n)),ie.timeZoneOffsetInSeconds(r),null)},e.prototype.toStandardDate=function(){return ie.toStandardDate(this._toUTC())},e.prototype.toString=function(){var r,n=xb(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),i=this.timeZoneOffsetSeconds!=null?ie.timeZoneOffsetToIsoString((r=this.timeZoneOffsetSeconds)!==null&&r!==void 0?r:0):"",o=this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"";return n+i+o},e.prototype._toUTC=function(){var r;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var n=ie.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),i=n.subtract((r=this.timeZoneOffsetSeconds)!==null&&r!==void 0?r:0);return(0,vn.int)(i).multiply(1e3).add((0,vn.int)(this.nanosecond).div(1e6)).toNumber()},e}();Ee.DateTime=kb;Object.defineProperty(kb.prototype,Ib,yi);function wA(e){return mi(e,Ib)}Ee.isDateTime=wA;function mi(e,r){return e!=null&&e[r]===!0}function xb(e,r,n,i,o,a,u){return ie.dateToIsoString(e,r,n)+"T"+ie.timeToIsoString(i,o,a,u)}function EA(e,r){var n=e!=null,i=r!=null&&r!=="";if(!n&&!i)throw(0,pA.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(r));var o=[void 0,void 0];return n&&((0,sr.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e),i&&((0,sr.assertString)(r,"Time zone ID"),ie.assertValidZoneId("Time zone ID",r),o[1]=r),o}function ia(e,r){(0,sr.assertValidDate)(e,"Standard date"),r!=null&&(0,sr.assertNumberOrInteger)(r,"Nanosecond")}var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.isPathSegment=Ce.PathSegment=Ce.isPath=Ce.Path=Ce.isUnboundRelationship=Ce.UnboundRelationship=Ce.isRelationship=Ce.Relationship=Ce.isNode=Ce.Node=void 0;var Yd=pi,oa={value:!0,enumerable:!1,configurable:!1,writable:!1},$b="__isNode__",Db="__isRelationship__",Lb="__isUnboundRelationship__",Ub="__isPath__",Fb="__isPathSegment__";function aa(e,r){return e!=null&&e[r]===!0}var Bb=function(){function e(r,n,i,o){this.identity=r,this.labels=n,this.properties=i,this.elementId=$o(o,function(){return r.toString()})}return e.prototype.toString=function(){for(var r="("+this.elementId,n=0;n<this.labels.length;n++)r+=":"+this.labels[n];var i=Object.keys(this.properties);if(i.length>0){r+=" {";for(var n=0;n<i.length;n++)n>0&&(r+=","),r+=i[n]+":"+(0,Yd.stringify)(this.properties[i[n]]);r+="}"}return r+=")",r},e}();Ce.Node=Bb;Object.defineProperty(Bb.prototype,$b,oa);function SA(e){return aa(e,$b)}Ce.isNode=SA;var ac=function(){function e(r,n,i,o,a,u,s,l){this.identity=r,this.start=n,this.end=i,this.type=o,this.properties=a,this.elementId=$o(u,function(){return r.toString()}),this.startNodeElementId=$o(s,function(){return n.toString()}),this.endNodeElementId=$o(l,function(){return i.toString()})}return e.prototype.toString=function(){var r="("+this.startNodeElementId+")-[:"+this.type,n=Object.keys(this.properties);if(n.length>0){r+=" {";for(var i=0;i<n.length;i++)i>0&&(r+=","),r+=n[i]+":"+(0,Yd.stringify)(this.properties[n[i]]);r+="}"}return r+="]->("+this.endNodeElementId+")",r},e}();Ce.Relationship=ac;Object.defineProperty(ac.prototype,Db,oa);function TA(e){return aa(e,Db)}Ce.isRelationship=TA;var zb=function(){function e(r,n,i,o){this.identity=r,this.type=n,this.properties=i,this.elementId=$o(o,function(){return r.toString()})}return e.prototype.bind=function(r,n){return new ac(this.identity,r,n,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(r,n){return new ac(this.identity,r.identity,n.identity,this.type,this.properties,this.elementId,r.elementId,n.elementId)},e.prototype.toString=function(){var r="-[:"+this.type,n=Object.keys(this.properties);if(n.length>0){r+=" {";for(var i=0;i<n.length;i++)i>0&&(r+=","),r+=n[i]+":"+(0,Yd.stringify)(this.properties[n[i]]);r+="}"}return r+="]->",r},e}();Ce.UnboundRelationship=zb;Object.defineProperty(zb.prototype,Lb,oa);function PA(e){return aa(e,Lb)}Ce.isUnboundRelationship=PA;var Wb=function(){function e(r,n,i){this.start=r,this.relationship=n,this.end=i}return e}();Ce.PathSegment=Wb;Object.defineProperty(Wb.prototype,Fb,oa);function CA(e){return aa(e,Fb)}Ce.isPathSegment=CA;var Vb=function(){function e(r,n,i){this.start=r,this.end=n,this.segments=i,this.length=i.length}return e}();Ce.Path=Vb;Object.defineProperty(Vb.prototype,Ub,oa);function IA(e){return aa(e,Ub)}Ce.isPath=IA;function $o(e,r){return e??r()}var Kd={},oh=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ah=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},uh=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a};Object.defineProperty(Kd,"__esModule",{value:!0});var q_=me;function AA(e){var r={};return e.forEach(function(n,i){r[n]=i}),r}var RA=function(){function e(r,n,i){this.keys=r,this.length=r.length,this._fields=n,this._fieldLookup=i??AA(r)}return e.prototype.forEach=function(r){var n,i;try{for(var o=ah(this.entries()),a=o.next();!a.done;a=o.next()){var u=uh(a.value,2),s=u[0],l=u[1];r(l,s,this)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.map=function(r){var n,i,o=[];try{for(var a=ah(this.entries()),u=a.next();!u.done;u=a.next()){var s=uh(u.value,2),l=s[0],c=s[1];o.push(r(c,l,this))}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},e.prototype.entries=function(){var r;return oh(this,function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<this.keys.length?[4,[this.keys[r],this._fields[r]]]:[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var r;return oh(this,function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<this.keys.length?[4,this._fields[r]]:[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var r;return oh(this,function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<this.keys.length?[4,this._fields[r]]:[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var r,n,i={};try{for(var o=ah(this.entries()),a=o.next();!a.done;a=o.next()){var u=uh(a.value,2),s=u[0],l=u[1];i[s]=l}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.get=function(r){var n;if(typeof r!="number"){if(n=this._fieldLookup[r],n===void 0)throw(0,q_.newError)("This record has no field with key '".concat(r.toString(),"', available keys are: [")+this.keys.toString()+"].")}else n=r;if(n>this._fields.length-1||n<0)throw(0,q_.newError)("This record has no field with index '"+n.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[n]},e.prototype.has=function(r){return typeof r=="number"?r>=0&&r<this._fields.length:this._fieldLookup[r]!==void 0},e}();Kd.default=RA;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.isPoint=si.Point=void 0;var Ss=ce,Hb="__isPoint__",qb=function(){function e(r,n,i,o){this.srid=(0,Ss.assertNumberOrInteger)(r,"SRID"),this.x=(0,Ss.assertNumber)(n,"X coordinate"),this.y=(0,Ss.assertNumber)(i,"Y coordinate"),this.z=o==null?o:(0,Ss.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return this.z!=null&&!isNaN(this.z)?"Point{srid=".concat(Xr(this.srid),", x=").concat(Xr(this.x),", y=").concat(Xr(this.y),", z=").concat(Xr(this.z),"}"):"Point{srid=".concat(Xr(this.srid),", x=").concat(Xr(this.x),", y=").concat(Xr(this.y),"}")},e}();si.Point=qb;function Xr(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}Object.defineProperty(qb.prototype,Hb,{value:!0,enumerable:!1,configurable:!1,writable:!1});function jA(e){var r=e;return e!=null&&r[Hb]===!0}si.isPoint=jA;var Ie={},MA=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),NA=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),kA=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&MA(r,e,n);return NA(r,e),r};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.notificationCategory=Ie.notificationSeverityLevel=Ie.Stats=Ie.QueryStatistics=Ie.ProfiledPlan=Ie.Plan=Ie.Notification=Ie.ServerInfo=Ie.queryType=void 0;var G_=kA(Le),xA=function(){function e(r,n,i,o){var a,u,s;this.query={text:r,parameters:n},this.queryType=i.type,this.counters=new Gb((a=i.stats)!==null&&a!==void 0?a:{}),this.updateStatistics=this.counters,this.plan=i.plan!=null||i.profile!=null?new od((u=i.plan)!==null&&u!==void 0?u:i.profile):!1,this.profile=i.profile!=null?new ad(i.profile):!1,this.notifications=this._buildNotifications(i.notifications),this.server=new Kb(i.server,o),this.resultConsumedAfter=i.result_consumed_after,this.resultAvailableAfter=i.result_available_after,this.database={name:(s=i.db)!==null&&s!==void 0?s:null}}return e.prototype._buildNotifications=function(r){return r==null?[]:r.map(function(n){return new Yb(n)})},e.prototype.hasPlan=function(){return this.plan instanceof od},e.prototype.hasProfile=function(){return this.profile instanceof ad},e}(),od=function(){function e(r){this.operatorType=r.operatorType,this.identifiers=r.identifiers,this.arguments=r.args,this.children=r.children!=null?r.children.map(function(n){return new e(n)}):[]}return e}();Ie.Plan=od;var ad=function(){function e(r){this.operatorType=r.operatorType,this.identifiers=r.identifiers,this.arguments=r.args,this.dbHits=Hn("dbHits",r),this.rows=Hn("rows",r),this.pageCacheMisses=Hn("pageCacheMisses",r),this.pageCacheHits=Hn("pageCacheHits",r),this.pageCacheHitRatio=Hn("pageCacheHitRatio",r),this.time=Hn("time",r),this.children=r.children!=null?r.children.map(function(n){return new e(n)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();Ie.ProfiledPlan=ad;var $A=function(){function e(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0}return e}();Ie.Stats=$A;var Gb=function(){function e(r){var n=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(r).forEach(function(i){var o=i.replace(/(-\w)/g,function(a){return a[1].toUpperCase()});o in n._stats?n._stats[o]=ti(r[i]):o==="systemUpdates"?n._systemUpdates=ti(r[i]):o==="containsSystemUpdates"?n._containsSystemUpdates=r[i]:o==="containsUpdates"&&(n._containsUpdates=r[i])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var r=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(n,i){return n+r._stats[i]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();Ie.QueryStatistics=Gb;var Ic={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};Ie.notificationSeverityLevel=Ic;Object.freeze(Ic);var DA=Object.values(Ic),Ac={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",UNKNOWN:"UNKNOWN"};Ie.notificationCategory=Ac;Object.freeze(Ac);var LA=Object.values(Ac),Yb=function(){function e(r){this.code=r.code,this.title=r.title,this.description=r.description,this.severity=r.severity,this.position=e._constructPosition(r.position),this.severityLevel=DA.includes(r.severity)?r.severity:Ic.UNKNOWN,this.rawSeverityLevel=r.severity,this.category=LA.includes(r.category)?r.category:Ac.UNKNOWN,this.rawCategory=r.category}return e._constructPosition=function(r){return r==null?{}:{offset:ti(r.offset),line:ti(r.line),column:ti(r.column)}},e}();Ie.Notification=Yb;var Kb=function(){function e(r,n){r!=null&&(this.address=r.address,this.agent=r.version),this.protocolVersion=n}return e}();Ie.ServerInfo=Kb;function ti(e){return e instanceof G_.default?e.toInt():typeof e=="bigint"?(0,G_.int)(e).toInt():e}function Hn(e,r,n){if(n===void 0&&(n=0),r!==!1&&e in r){var i=r[e];return ti(i)}else return n}var UA={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};Ie.queryType=UA;Ie.default=xA;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.notificationFilterDisabledCategory=mn.notificationFilterMinimumSeverityLevel=void 0;var Zb={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};mn.notificationFilterMinimumSeverityLevel=Zb;Object.freeze(Zb);var Xb={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC"};mn.notificationFilterDisabledCategory=Xb;Object.freeze(Xb);var FA=function(){function e(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,new Error("Not implemented")}return e}();mn.default=FA;var ua={},de={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.FailedObserver=Tr.CompletedObserver=void 0;var BA=function(){function e(){}return e.prototype.subscribe=function(r){Do(r,r.onKeys,[]),Do(r,r.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(r){throw Error("CompletedObserver not supposed to call onError")},e}();Tr.CompletedObserver=BA;var zA=function(){function e(r){var n=r.error,i=r.onError;this._error=n,this._beforeError=i,this._observers=[],this.onError(n)}return e.prototype.subscribe=function(r){Do(r,r.onError,this._error),this._observers.push(r)},e.prototype.onError=function(r){Do(this,this._beforeError,r),this._observers.forEach(function(n){return Do(n,n.onError,r)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();Tr.FailedObserver=zA;function Do(e,r,n){r!=null&&r.bind(e)(n)}var kr={},WA=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),VA=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),HA=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&WA(r,e,n);return VA(r,e),r},qA=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},GA=v&&v.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var i=0,o=r.length,a;i<o;i++)(a||!(i in r))&&(a||(a=Array.prototype.slice.call(r,0,i)),a[i]=r[i]);return e.concat(a||Array.prototype.slice.call(r))};Object.defineProperty(kr,"__esModule",{value:!0});kr.Bookmarks=void 0;var Y_=HA(ce),YA="bookmarks",Qb=function(){function e(r){this._values=ZA(r)}return e.empty=function(){return KA},e.prototype.isEmpty=function(){return this._values.length===0},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var r;return this.isEmpty()?{}:(r={},r[YA]=this._values,r)},e}();kr.Bookmarks=Qb;var KA=new Qb(null);function ZA(e){if(e==null||e==="")return[];if(Y_.isString(e))return[e];if(Array.isArray(e)){for(var r=new Set,n=Jb(e),i=0;i<n.length;i++){var o=n[i];if(o!=null){if(!Y_.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));r.add(o)}}return GA([],qA(r),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}function Jb(e){return e.reduce(function(r,n){return Array.isArray(n)?r.concat(Jb(n)):r.concat(n)},[])}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.BOLT_PROTOCOL_V5_2=se.BOLT_PROTOCOL_V5_1=se.BOLT_PROTOCOL_V5_0=se.BOLT_PROTOCOL_V4_4=se.BOLT_PROTOCOL_V4_3=se.BOLT_PROTOCOL_V4_2=se.BOLT_PROTOCOL_V4_1=se.BOLT_PROTOCOL_V4_0=se.BOLT_PROTOCOL_V3=se.BOLT_PROTOCOL_V2=se.BOLT_PROTOCOL_V1=se.DEFAULT_POOL_MAX_SIZE=se.DEFAULT_POOL_ACQUISITION_TIMEOUT=se.DEFAULT_CONNECTION_TIMEOUT_MILLIS=se.ACCESS_MODE_WRITE=se.ACCESS_MODE_READ=se.FETCH_ALL=void 0;var XA=-1;se.FETCH_ALL=XA;var QA=60*1e3;se.DEFAULT_POOL_ACQUISITION_TIMEOUT=QA;var JA=100;se.DEFAULT_POOL_MAX_SIZE=JA;var eR=3e4;se.DEFAULT_CONNECTION_TIMEOUT_MILLIS=eR;var tR="READ";se.ACCESS_MODE_READ=tR;var rR="WRITE";se.ACCESS_MODE_WRITE=rR;var nR=1;se.BOLT_PROTOCOL_V1=nR;var iR=2;se.BOLT_PROTOCOL_V2=iR;var oR=3;se.BOLT_PROTOCOL_V3=oR;var aR=4;se.BOLT_PROTOCOL_V4_0=aR;var uR=4.1;se.BOLT_PROTOCOL_V4_1=uR;var sR=4.2;se.BOLT_PROTOCOL_V4_2=sR;var cR=4.3;se.BOLT_PROTOCOL_V4_3=cR;var lR=4.4;se.BOLT_PROTOCOL_V4_4=lR;var fR=5;se.BOLT_PROTOCOL_V5_0=fR;var hR=5.1;se.BOLT_PROTOCOL_V5_1=hR;var dR=5.2;se.BOLT_PROTOCOL_V5_2=dR;var It={},eg=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lo=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},Uo=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(It,"__esModule",{value:!0});It.EMPTY_CONNECTION_HOLDER=It.ReadOnlyConnectionHolder=It.ConnectionHolder=void 0;var vR=me,_R=ce,pR=se,K_=kr,Zd=function(){function e(r){var n=r===void 0?{}:r,i=n.mode,o=i===void 0?pR.ACCESS_MODE_WRITE:i,a=n.database,u=a===void 0?"":a,s=n.bookmarks,l=n.connectionProvider,c=n.impersonatedUser,f=n.onDatabaseNameResolved,h=n.getConnectionAcquistionBookmarks;this._mode=o,this._database=u!=null?(0,_R.assertString)(u,"database"):"",this._bookmarks=s??K_.Bookmarks.empty(),this._connectionProvider=l,this._impersonatedUser=c,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=f,this._getConnectionAcquistionBookmarks=h??function(){return Promise.resolve(K_.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(r){this._database=r},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(){if(this._referenceCount===0&&this._connectionProvider!=null)this._connectionPromise=this._createConnectionPromise(this._connectionProvider);else return this._referenceCount++,!1;return this._referenceCount++,!0},e.prototype._createConnectionPromise=function(r){return Lo(this,void 0,void 0,function(){var n,i,o;return Uo(this,function(a){switch(a.label){case 0:return i=(n=r).acquireConnection,o={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,i.apply(n,[(o.bookmarks=a.sent(),o.impersonatedUser=this._impersonatedUser,o.onDatabaseNameResolved=this._onDatabaseNameResolved,o)])];case 2:return[2,a.sent()]}})})},e.prototype._getBookmarks=function(){return Lo(this,void 0,void 0,function(){return Uo(this,function(r){switch(r.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,r.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(r){return this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(r))},e.prototype._releaseConnection=function(r){return this._connectionPromise=this._connectionPromise.then(function(n){return n!=null?n.isOpen()&&(n.hasOngoingObservableRequests()||r===!0)?n.resetAndFlush().catch(Z_).then(function(){return n._release().then(function(){return null})}):n._release().then(function(){return null}):Promise.resolve(null)}).catch(Z_),this._connectionPromise},e}();It.ConnectionHolder=Zd;var tg=function(e){eg(r,e);function r(n){var i=e.call(this,{mode:n.mode(),database:n.database(),bookmarks:n.bookmarks(),getConnectionAcquistionBookmarks:n._getConnectionAcquistionBookmarks,connectionProvider:n.connectionProvider()})||this;return i._connectionHolder=n,i}return r.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},r.prototype.getConnection=function(){return this._connectionHolder.getConnection()},r.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},r.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},r}(Zd);It.ReadOnlyConnectionHolder=tg;It.default=tg;var yR=function(e){eg(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.mode=function(){},r.prototype.database=function(){},r.prototype.initializeConnection=function(){return!0},r.prototype.getConnection=function(){return Lo(this,void 0,void 0,function(){return Uo(this,function(n){switch(n.label){case 0:return[4,Promise.reject((0,vR.newError)("This connection holder does not serve connections"))];case 1:return[2,n.sent()]}})})},r.prototype.releaseConnection=function(){return Lo(this,void 0,void 0,function(){return Uo(this,function(n){switch(n.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,n.sent()]}})})},r.prototype.close=function(){return Lo(this,void 0,void 0,function(){return Uo(this,function(n){switch(n.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,n.sent()]}})})},r}(Zd),mR=new yR;It.EMPTY_CONNECTION_HOLDER=mR;function Z_(e){return null}var bi={},bR=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),gR=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),OR=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&bR(r,e,n);return gR(r,e),r};Object.defineProperty(bi,"__esModule",{value:!0});bi.TxConfig=void 0;var Zo=OR(ce),wR=me,ER=Le,rg=function(){function e(r){CR(r),this.timeout=TR(r),this.metadata=PR(r)}return e.empty=function(){return SR},e.prototype.isEmpty=function(){return Object.values(this).every(function(r){return r==null})},e}();bi.TxConfig=rg;var SR=new rg({});function TR(e){if(Zo.isObject(e)&&e.timeout!=null){Zo.assertNumberOrInteger(e.timeout,"Transaction timeout");var r=(0,ER.int)(e.timeout);if(r.isNegative())throw(0,wR.newError)("Transaction timeout should not be negative");return r}return null}function PR(e){if(Zo.isObject(e)&&e.metadata!=null){var r=e.metadata;if(Zo.assertObject(r,"config.metadata"),Object.keys(r).length!==0)return r}return null}function CR(e){e!=null&&Zo.assertObject(e,"Transaction config")}var sa={},IR=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},AR=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(sa,"__esModule",{value:!0});sa.TransactionExecutor=void 0;var _o=me,RR=30*1e3,jR=1e3,MR=2,NR=.2,kR=function(){function e(r,n,i,o){this._maxRetryTimeMs=Ts(r,RR),this._initialRetryDelayMs=Ts(n,jR),this._multiplier=Ts(i,MR),this._jitterFactor=Ts(o,NR),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return e.prototype.execute=function(r,n,i){var o=this;return new Promise(function(a,u){o._executeTransactionInsidePromise(r,n,a,u,i).catch(u)}).catch(function(a){var u=Date.now(),s=o._initialRetryDelayMs;return o._retryTransactionPromise(r,n,a,u,s,i)})},e.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(r){return clearTimeout(r)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(r,n,i,o,a,u){var s=this,l=Date.now()-o;return l>this._maxRetryTimeMs||!(0,_o.isRetriableError)(i)?Promise.reject(i):new Promise(function(c,f){var h=s._computeDelayWithJitter(a),d=setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function(p){return p!==d}),s._executeTransactionInsidePromise(r,n,c,f,u).catch(f)},h);s._inFlightTimeoutIds.push(d)}).catch(function(c){var f=a*s._multiplier;return s._retryTransactionPromise(r,n,c,o,f,u)})},e.prototype._executeTransactionInsidePromise=function(r,n,i,o,a){return IR(this,void 0,void 0,function(){var u,s,l,c,f,h=this;return AR(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,r()];case 1:return u=d.sent(),[3,3];case 2:return s=d.sent(),o(s),[2];case 3:return l=a??function(p){return p},c=l(u),f=this._safeExecuteTransactionWork(c,n),f.then(function(p){return h._handleTransactionWorkSuccess(p,u,i,o)}).catch(function(p){return h._handleTransactionWorkFailure(p,u,o)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(r,n){try{var i=n(r);return Promise.resolve(i)}catch(o){return Promise.reject(o)}},e.prototype._handleTransactionWorkSuccess=function(r,n,i,o){n.isOpen()?n.commit().then(function(){i(r)}).catch(function(a){o(a)}):i(r)},e.prototype._handleTransactionWorkFailure=function(r,n,i){n.isOpen()?n.rollback().catch(function(o){}).then(function(){return i(r)}).catch(i):i(r)},e.prototype._computeDelayWithJitter=function(r){var n=r*this._jitterFactor,i=r-n,o=r+n;return Math.random()*(o-i)+i},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,_o.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,_o.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,_o.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,_o.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();sa.TransactionExecutor=kR;function Ts(e,r){return e??r}var ca={},xR=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),qn;Object.defineProperty(ca,"__esModule",{value:!0});ca.Logger=void 0;var ng=me,ud="error",sd="warn",Xo="info",cd="debug",$R=Xo,uc=(qn={},qn[ud]=0,qn[sd]=1,qn[Xo]=2,qn[cd]=3,qn),ig=function(){function e(r,n){this._level=r,this._loggerFunction=n}return e.create=function(r){if((r==null?void 0:r.logging)!=null){var n=r.logging,i=UR(n),o=FR(n);return new e(i,o)}return this.noOp()},e.noOp=function(){return LR},e.prototype.isErrorEnabled=function(){return Ps(this._level,ud)},e.prototype.error=function(r){this.isErrorEnabled()&&this._loggerFunction(ud,r)},e.prototype.isWarnEnabled=function(){return Ps(this._level,sd)},e.prototype.warn=function(r){this.isWarnEnabled()&&this._loggerFunction(sd,r)},e.prototype.isInfoEnabled=function(){return Ps(this._level,Xo)},e.prototype.info=function(r){this.isInfoEnabled()&&this._loggerFunction(Xo,r)},e.prototype.isDebugEnabled=function(){return Ps(this._level,cd)},e.prototype.debug=function(r){this.isDebugEnabled()&&this._loggerFunction(cd,r)},e}();ca.Logger=ig;var DR=function(e){xR(r,e);function r(){return e.call(this,Xo,function(n,i){})||this}return r.prototype.isErrorEnabled=function(){return!1},r.prototype.error=function(n){},r.prototype.isWarnEnabled=function(){return!1},r.prototype.warn=function(n){},r.prototype.isInfoEnabled=function(){return!1},r.prototype.info=function(n){},r.prototype.isDebugEnabled=function(){return!1},r.prototype.debug=function(n){},r}(ig),LR=new DR;function Ps(e,r){return uc[e]>=uc[r]}function UR(e){if((e==null?void 0:e.level)!=null){var r=e.level,n=uc[r];if(n==null&&n!==0)throw(0,ng.newError)("Illegal logging level: ".concat(r,". Supported levels are: ").concat(Object.keys(uc).toString()));return r}return $R}function FR(e){var r,n;if((e==null?void 0:e.logger)!=null){var i=e.logger;if(i!=null&&typeof i=="function")return i}throw(0,ng.newError)("Illegal logger function: ".concat((n=(r=e==null?void 0:e.logger)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"undefined"))}var ut={},sc=v&&v.__assign||function(){return sc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},sc.apply(this,arguments)},og=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a};Object.defineProperty(ut,"__esModule",{value:!0});ut.Url=ut.formatIPv6Address=ut.formatIPv4Address=ut.defaultPortForScheme=ut.parseDatabaseUrl=void 0;var BR=ce,zR=7687,WR=7474,VR=7473,ag=function(){function e(r,n,i,o,a){this.scheme=r,this.host=n,this.port=i,this.hostAndPort=o,this.query=a}return e}();ut.Url=ag;function HR(e){var r;(0,BR.assertString)(e,"URL");var n=GR(e),i=r2(n.url),o=n.schemeMissing?null:YR(i.scheme),a=KR(i.host),u=JR(a),s=ZR(i.port,o),l="".concat(u,":").concat(s),c=XR((r=i.query)!==null&&r!==void 0?r:qR(i.resourceName),e);return new ag(o,a,s,l,c)}ut.parseDatabaseUrl=HR;function qR(e){if(typeof e!="string")return null;var r=og(e.split("?"),2),n=r[1];return n}function GR(e){return e=e.trim(),e.includes("://")?{schemeMissing:!1,url:e}:{schemeMissing:!0,url:"none://".concat(e)}}function YR(e){return e!=null?(e=e.trim(),e.charAt(e.length-1)===":"&&(e=e.substring(0,e.length-1)),e):null}function KR(e,r){if(e==null)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}function ZR(e,r){var n=typeof e=="string"?parseInt(e,10):e;return n!=null&&!isNaN(n)?n:sg(r)}function XR(e,r){var n=e!=null?QR(e):null,i={};return n!=null&&n.split("&").forEach(function(o){var a=o.split("=");if(a.length!==2)throw new Error("Invalid parameters: '".concat(a.toString(),"' in URL '").concat(r,"'."));var u=X_(a[0],"key",r),s=X_(a[1],"value",r);if(i[u]!==void 0)throw new Error("Duplicated query parameters with key '".concat(u,"' in URL '").concat(r,"'"));i[u]=s}),i}function QR(e){return e=(e??"").trim(),(e==null?void 0:e.charAt(0))==="?"&&(e=e.substring(1,e.length)),e}function X_(e,r,n){if(e=(e??"").trim(),e==="")throw new Error("Illegal empty ".concat(r," in URL query '").concat(n,"'"));return e}function ug(e){var r=e.charAt(0)==="[",n=e.charAt(e.length-1)==="]";if(!r&&!n)return"[".concat(e,"]");if(r&&n)return e;throw new Error("Illegal IPv6 address ".concat(e))}function JR(e){if(e===""||e==null)throw new Error("Illegal host ".concat(e));var r=e.includes(":");return r?ug(e):e}function e2(e,r){return"".concat(e,":").concat(r)}ut.formatIPv4Address=e2;function t2(e,r){var n=ug(e);return"".concat(n,":").concat(r)}ut.formatIPv6Address=t2;function sg(e){return e==="http"?WR:e==="https"?VR:zR}ut.defaultPortForScheme=sg;function r2(e){function r(s,l){var c=s.indexOf(l);return c>=0?[s.substring(0,c),s[c],s.substring(c+1)]:[s,"",""]}function n(s,l){var c=s.lastIndexOf(l);return c>=0?[s.substring(0,c),s[c],s.substring(c+1)]:["","",s]}function i(s,l,c){var f=r(s,l),h=r(f[2],c);return[h[0],h[2]]}function o(s){var l={},c;c=n(s,"@"),c[1]==="@"&&(l.userInfo=decodeURIComponent(c[0]),s=c[2]);var f=og(i(s,"[","]"),2),h=f[0],d=f[1];return h!==""?(l.host=h,c=r(d,":")):(c=r(s,":"),l.host=c[0]),c[1]===":"&&(l.port=c[2]),l}var a={},u;return u=r(e,":"),u[1]===":"&&(a.scheme=decodeURIComponent(u[0]),e=u[2]),u=r(e,"#"),u[1]==="#"&&(a.fragment=decodeURIComponent(u[2]),e=u[0]),u=r(e,"?"),u[1]==="?"&&(a.query=u[2],e=u[0]),e.startsWith("//")?(u=r(e.substr(2),"/"),a=sc(sc({},a),o(u[0])),a.path=u[1]+u[2]):a.path=e,a}var la={},n2=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),i2=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),o2=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&n2(r,e,n);return i2(r,e),r};Object.defineProperty(la,"__esModule",{value:!0});la.ServerAddress=void 0;var sh=ce,a2=o2(ut),u2=function(){function e(r,n,i,o){this._host=(0,sh.assertString)(r,"host"),this._resolved=n!=null?(0,sh.assertString)(n,"resolved"):null,this._port=(0,sh.assertNumber)(i,"port"),this._hostPort=o,this._stringValue=n!=null?"".concat(o,"(").concat(n,")"):"".concat(o)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(r){return new e(this._host,r,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(r){var n=a2.parseDatabaseUrl(r);return new e(n.host,null,n.port,n.hostAndPort)},e}();la.ServerAddress=u2;var ci={},Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});var s2=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(r){return Promise.resolve([r])},e}();Xd.default=s2;var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});var c2=la;function l2(e){return Promise.resolve([e])}var f2=function(){function e(r){this._resolverFunction=r??l2}return e.prototype.resolve=function(r){var n=this;return new Promise(function(i){return i(n._resolverFunction(r.asHostPort()))}).then(function(i){if(!Array.isArray(i))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(i));return i.map(function(o){return c2.ServerAddress.fromUrl(o)})})},e}();Rc.default=f2;var cg=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ci,"__esModule",{value:!0});ci.ConfiguredCustomResolver=ci.BaseHostNameResolver=void 0;var h2=cg(Xd);ci.BaseHostNameResolver=h2.default;var d2=cg(Rc);ci.ConfiguredCustomResolver=d2.default;var v2=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),_2=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ct=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&v2(r,e,n);return _2(r,e),r};Object.defineProperty(de,"__esModule",{value:!0});de.objectUtil=de.resolver=de.serverAddress=de.urlUtil=de.logger=de.transactionExecutor=de.txConfig=de.connectionHolder=de.constants=de.bookmarks=de.observer=de.temporalUtil=de.util=void 0;var p2=ct(ce);de.util=p2;var y2=ct(Gd);de.temporalUtil=y2;var m2=ct(Tr);de.observer=m2;var b2=ct(kr);de.bookmarks=b2;var g2=ct(se);de.constants=g2;var O2=ct(It);de.connectionHolder=O2;var w2=ct(bi);de.txConfig=w2;var E2=ct(sa);de.transactionExecutor=E2;var S2=ct(ca);de.logger=S2;var T2=ct(ut);de.urlUtil=T2;var P2=ct(la);de.serverAddress=P2;var C2=ct(ci);de.resolver=C2;var I2=ct(fr);de.objectUtil=I2;var Qr=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},Jr=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},A2=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});var R2=A2(Ie),lg=de,po=me,j2=lg.connectionHolder.EMPTY_CONNECTION_HOLDER,M2=function(e){console.log("Uncaught error when processing result: "+e)},N2=function(e){},k2=function(e){},x2=function(){function e(r,n,i,o,a){a===void 0&&(a={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this._stack=$2(),this._streamObserverPromise=r,this._p=null,this._query=n,this._parameters=i??{},this._connectionHolder=o??j2,this._keys=null,this._summary=null,this._error=null,this._watermarks=a}return e.prototype.keys=function(){var r=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(n,i){r._streamObserverPromise.then(function(o){return o.subscribe(r._decorateObserver({onKeys:function(a){return n(a)},onError:function(a){return i(a)}}))}).catch(i)})},e.prototype.summary=function(){var r=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(n,i){r._streamObserverPromise.then(function(o){o.cancel(),o.subscribe(r._decorateObserver({onCompleted:function(a){return n(a)},onError:function(a){return i(a)}}))}).catch(i)})},e.prototype._getOrCreatePromise=function(){var r=this;return this._p==null&&(this._p=new Promise(function(n,i){var o=[],a={onNext:function(u){o.push(u)},onCompleted:function(u){n({records:o,summary:u})},onError:function(u){i(u)}};r.subscribe(a)})),this._p},e.prototype[Symbol.asyncIterator]=function(){var r=this;if(!this.isOpen()){var n=(0,po.newError)("Result is already consumed");return{next:function(){return Promise.reject(n)},peek:function(){return Promise.reject(n)}}}var i={paused:!0,firstRun:!0,finished:!1},o=function(){var s,l;if(i.streaming!=null){var c=(l=(s=i.queuedObserver)===null||s===void 0?void 0:s.size)!==null&&l!==void 0?l:0,f=c>=r._watermarks.high,h=c<=r._watermarks.low;f&&!i.paused?(i.paused=!0,i.streaming.pause()):(h&&i.paused||i.firstRun&&!f)&&(i.firstRun=!1,i.paused=!1,i.streaming.resume())}},a=function(){return Qr(r,void 0,void 0,function(){var s;return Jr(this,function(l){switch(l.label){case 0:return i.queuedObserver!==void 0?[3,2]:(i.queuedObserver=this._createQueuedResultObserver(o),s=i,[4,this._subscribe(i.queuedObserver,!0).catch(function(){})]);case 1:s.streaming=l.sent(),o(),l.label=2;case 2:return[2,i.queuedObserver]}})})},u=function(s){if(s===void 0)throw(0,po.newError)("InvalidState: Result stream finished without Summary",po.PROTOCOL_ERROR);return!0};return{next:function(){return Qr(r,void 0,void 0,function(){var s,l;return Jr(this,function(c){switch(c.label){case 0:return i.finished&&u(i.summary)?[2,{done:!0,value:i.summary}]:[4,a()];case 1:return s=c.sent(),[4,s.dequeue()];case 2:return l=c.sent(),l.done===!0&&(i.finished=l.done,i.summary=l.value),[2,l]}})})},return:function(s){return Qr(r,void 0,void 0,function(){var l,c,f;return Jr(this,function(h){switch(h.label){case 0:return i.finished&&u(i.summary)?[2,{done:!0,value:s??i.summary}]:((f=i.streaming)===null||f===void 0||f.cancel(),[4,a()]);case 1:return l=h.sent(),[4,l.dequeueUntilDone()];case 2:return c=h.sent(),i.finished=!0,c.value=s??c.value,i.summary=c.value,[2,c]}})})},peek:function(){return Qr(r,void 0,void 0,function(){var s;return Jr(this,function(l){switch(l.label){case 0:return i.finished&&u(i.summary)?[2,{done:!0,value:i.summary}]:[4,a()];case 1:return s=l.sent(),[4,s.head()];case 2:return[2,l.sent()]}})})}}},e.prototype.then=function(r,n){return this._getOrCreatePromise().then(r,n)},e.prototype.catch=function(r){return this._getOrCreatePromise().catch(r)},e.prototype.finally=function(r){return this._getOrCreatePromise().finally(r)},e.prototype.subscribe=function(r){this._subscribe(r).catch(function(){})},e.prototype.isOpen=function(){return this._summary===null&&this._error===null},e.prototype._subscribe=function(r,n){n===void 0&&(n=!1);var i=this._decorateObserver(r);return this._streamObserverPromise.then(function(o){return n&&o.pause(),o.subscribe(i),o}).catch(function(o){return i.onError!=null&&i.onError(o),Promise.reject(o)})},e.prototype._decorateObserver=function(r){var n=this,i,o,a,u=(i=r.onCompleted)!==null&&i!==void 0?i:N2,s=(o=r.onError)!==null&&o!==void 0?o:M2,l=(a=r.onKeys)!==null&&a!==void 0?a:k2,c=function(d){n._releaseConnectionAndGetSummary(d).then(function(p){return n._summary!==null?u.call(r,n._summary):(n._summary=p,u.call(r,p))}).catch(s)},f=function(d){n._connectionHolder.releaseConnection().then(function(){D2(d,n._stack),n._error=d,s.call(r,d)}).catch(s)},h=function(d){return n._keys=d,l.call(r,d)};return{onNext:r.onNext!=null?r.onNext.bind(r):void 0,onKeys:h,onCompleted:c,onError:f}},e.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(r){return r.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(r){var n=lg.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),i=n.validatedQuery,o=n.params,a=this._connectionHolder;return a.getConnection().then(function(u){return a.releaseConnection().then(function(){var s;return(s=u==null?void 0:u.protocol())===null||s===void 0?void 0:s.version})},function(u){}).then(function(u){return new R2.default(i,o,r,u)})},e.prototype._createQueuedResultObserver=function(r){var n=this;function i(){var c={};return c.promise=new Promise(function(f,h){c.resolve=f,c.reject=h}),c}function o(c){return c instanceof Error}function a(){var c;return Qr(this,void 0,void 0,function(){var f;return Jr(this,function(h){switch(h.label){case 0:if(u.length>0){if(f=(c=u.shift())!==null&&c!==void 0?c:(0,po.newError)("Unexpected empty buffer",po.PROTOCOL_ERROR),r(),o(f))throw f;return[2,f]}return s.resolvable=i(),[4,s.resolvable.promise];case 1:return[2,h.sent()]}})})}var u=[],s={resolvable:null},l={onNext:function(c){l._push({done:!1,value:c})},onCompleted:function(c){l._push({done:!0,value:c})},onError:function(c){l._push(c)},_push:function(c){if(s.resolvable!==null){var f=s.resolvable;s.resolvable=null,o(c)?f.reject(c):f.resolve(c)}else u.push(c),r()},dequeue:a,dequeueUntilDone:function(){return Qr(n,void 0,void 0,function(){var c;return Jr(this,function(f){switch(f.label){case 0:return[4,a()];case 1:return c=f.sent(),c.done===!0?[2,c]:[3,0];case 2:return[2]}})})},head:function(){return Qr(n,void 0,void 0,function(){var c,c,f;return Jr(this,function(h){switch(h.label){case 0:if(u.length>0){if(c=u[0],o(c))throw c;return[2,c]}s.resolvable=i(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return c=h.sent(),u.unshift(c),[2,c];case 3:throw f=h.sent(),u.unshift(f),f;case 4:return r(),[7];case 5:return[2]}})})},get size(){return u.length}};return l},e}();function $2(){var e=new Error("");return e.stack!=null?e.stack.replace(/^Error(\n\r)*/,""):null}function D2(e,r){r!=null&&(e.stack=e.toString()+`
`+r)}ua.default=x2;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});var L2=function(){function e(r,n,i){this.keys=r,this.records=n,this.summary=i}return e}();jc.default=L2;var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});var U2=function(){function e(){}return e.prototype.acquireConnection=function(r){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.verifyConnectivityAndGetServerInfo=function(r){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();Qd.default=U2;var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});var F2=function(){function e(){}return Object.defineProperty(e.prototype,"id",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){},enumerable:!1,configurable:!0}),e.prototype.isOpen=function(){return!1},e.prototype.protocol=function(){throw Error("Not implemented")},e.prototype.connect=function(r,n){throw Error("Not implemented")},e.prototype.write=function(r,n,i){throw Error("Not implemented")},e.prototype.resetAndFlush=function(){throw Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw Error("Not implemented")},e.prototype.close=function(){throw Error("Not implemented")},e.prototype._release=function(){return Promise.resolve()},e}();Jd.default=F2;var Mc={},Q_=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},J_=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},B2=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});var z2=ce,Fo=It,Ys=kr,W2=bi,Ot=Tr,Et=me,fg=B2(ua),V2=function(){function e(r){var n=r.connectionHolder,i=r.onClose,o=r.onBookmarks,a=r.onConnection,u=r.reactive,s=r.fetchSize,l=r.impersonatedUser,c=r.highRecordWatermark,f=r.lowRecordWatermark,h=r.notificationFilter,d=this;this._connectionHolder=n,this._reactive=u,this._state=St.ACTIVE,this._onClose=i,this._onBookmarks=o,this._onConnection=a,this._onError=this._onErrorCallback.bind(this),this._fetchSize=s,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=l,this._lowRecordWatermak=f,this._highRecordWatermark=c,this._bookmarks=Ys.Bookmarks.empty(),this._notificationFilter=h,this._acceptActive=function(){},this._activePromise=new Promise(function(p,m){d._acceptActive=p})}return e.prototype._begin=function(r,n,i){var o=this;this._connectionHolder.getConnection().then(function(a){return Q_(o,void 0,void 0,function(){var u,s=this;return J_(this,function(l){switch(l.label){case 0:return this._onConnection(),a==null?[3,2]:(u=this,[4,r()]);case 1:return u._bookmarks=l.sent(),[2,a.protocol().beginTransaction({bookmarks:this._bookmarks,txConfig:n,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,beforeError:function(c){return i!=null&&i.onError(c),s._onError(c)},afterComplete:function(c){return i!=null&&i.onComplete(c),s._onComplete(c)}})];case 2:throw(0,Et.newError)("No connection available")}})})}).catch(function(a){i!=null&&i.onError(a),o._onError(a).catch(function(){})}).finally(function(){return o._acceptActive()})},e.prototype.run=function(r,n){var i=(0,z2.validateQueryAndParameters)(r,n),o=i.validatedQuery,a=i.params,u=this._state.run(o,a,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(u),u},e.prototype.commit=function(){var r=this,n=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(i){return r._onCompleteCallback(i,r._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=n.state,this._onClose(),new Promise(function(i,o){n.result.subscribe({onCompleted:function(){return i()},onError:function(a){return o(a)}})})},e.prototype.rollback=function(){var r=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=r.state,this._onClose(),new Promise(function(n,i){r.result.subscribe({onCompleted:function(){return n()},onError:function(o){return i(o)}})})},e.prototype.isOpen=function(){return this._state===St.ACTIVE},e.prototype.close=function(){return Q_(this,void 0,void 0,function(){return J_(this,function(r){switch(r.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype._onErrorCallback=function(){return this._state=St.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},e.prototype._onCompleteCallback=function(r,n){this._onBookmarks(new Ys.Bookmarks(r==null?void 0:r.bookmark),n??Ys.Bookmarks.empty(),r==null?void 0:r.db)},e}(),St={ACTIVE:{commit:function(e){var r=e.connectionHolder,n=e.onError,i=e.onComplete,o=e.onConnection,a=e.pendingResults,u=e.preparationJob;return{result:ep(!0,r,n,i,o,a,u),state:St.SUCCEEDED}},rollback:function(e){var r=e.connectionHolder,n=e.onError,i=e.onComplete,o=e.onConnection,a=e.pendingResults,u=e.preparationJob;return{result:ep(!1,r,n,i,o,a,u),state:St.ROLLED_BACK}},run:function(e,r,n){var i=n.connectionHolder,o=n.onError,a=n.onComplete,u=n.onConnection,s=n.reactive,l=n.fetchSize,c=n.highRecordWatermark,f=n.lowRecordWatermark,h=n.preparationJob,d=h??Promise.resolve(),p=i.getConnection().then(function(m){return d.then(function(){return m})}).then(function(m){if(u(),m!=null)return m.protocol().run(e,r,{bookmarks:Ys.Bookmarks.empty(),txConfig:W2.TxConfig.empty(),beforeError:o,afterComplete:a,reactive:s,fetchSize:l,highRecordWatermark:c,lowRecordWatermark:f});throw(0,Et.newError)("No connection available")}).catch(function(m){return new Ot.FailedObserver({error:m,onError:o})});return Dt(p,e,r,i,c,f)}},FAILED:{commit:function(e){var r=e.connectionHolder,n=e.onError;return e.onComplete,{result:Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},r,0,0),state:St.FAILED}},rollback:function(e){var r=e.connectionHolder;return e.onError,e.onComplete,{result:Dt(new Ot.CompletedObserver,"ROLLBACK",{},r,0,0),state:St.FAILED}},run:function(e,r,n){var i=n.connectionHolder,o=n.onError;return n.onComplete,Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,r,i,0,0)}},SUCCEEDED:{commit:function(e){var r=e.connectionHolder,n=e.onError;return e.onComplete,{result:Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{},Fo.EMPTY_CONNECTION_HOLDER,0,0),state:St.SUCCEEDED,connectionHolder:r}},rollback:function(e){var r=e.connectionHolder,n=e.onError;return e.onComplete,{result:Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{},Fo.EMPTY_CONNECTION_HOLDER,0,0),state:St.SUCCEEDED,connectionHolder:r}},run:function(e,r,n){var i=n.connectionHolder,o=n.onError;return n.onComplete,Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,r,i,0,0)}},ROLLED_BACK:{commit:function(e){var r=e.connectionHolder,n=e.onError;return e.onComplete,{result:Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},r,0,0),state:St.ROLLED_BACK}},rollback:function(e){var r=e.connectionHolder;return e.onError,e.onComplete,{result:Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},r,0,0),state:St.ROLLED_BACK}},run:function(e,r,n){var i=n.connectionHolder,o=n.onError;return n.onComplete,Dt(new Ot.FailedObserver({error:(0,Et.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,r,i,0,0)}}};function ep(e,r,n,i,o,a,u){var s=u??Promise.resolve(),l=r.getConnection().then(function(c){return s.then(function(){return c})}).then(function(c){return o(),a.forEach(function(f){return f._cancel()}),Promise.all(a.map(function(f){return f.summary()})).then(function(f){if(c!=null)return e?c.protocol().commitTransaction({beforeError:n,afterComplete:i}):c.protocol().rollbackTransaction({beforeError:n,afterComplete:i});throw(0,Et.newError)("No connection available")})}).catch(function(c){return new Ot.FailedObserver({error:c,onError:n})});return new fg.default(l,e?"COMMIT":"ROLLBACK",{},r,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function Dt(e,r,n,i,o,a){return i===void 0&&(i=Fo.EMPTY_CONNECTION_HOLDER),new fg.default(Promise.resolve(e),r,n,new Fo.ReadOnlyConnectionHolder(i??Fo.EMPTY_CONNECTION_HOLDER),{low:a,high:o})}Mc.default=V2;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var H2=function(){function e(r){var n=r.run;this._run=n}return e.fromTransaction=function(r){return new e({run:r.run.bind(r)})},e.prototype.run=function(r,n){return this._run(r,n)},e}();Nc.default=H2;var kc={},q2=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=v&&v.__assign||function(){return cc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},cc.apply(this,arguments)},G2=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hg;Object.defineProperty(kc,"__esModule",{value:!0});var Y2=G2(Mc),K2=function(e){q2(r,e);function r(n){var i=n.connectionHolder,o=n.onClose,a=n.onBookmarks,u=n.onConnection,s=n.reactive,l=n.fetchSize,c=n.impersonatedUser,f=n.highRecordWatermark,h=n.lowRecordWatermark,d=n.notificationFilter,p=e.call(this,{connectionHolder:i,onClose:o,onBookmarks:a,onConnection:u,reactive:s,fetchSize:l,impersonatedUser:c,highRecordWatermark:f,lowRecordWatermark:h,notificationFilter:d})||this;return p[hg]="TransactionPromise",p}return r.prototype.then=function(n,i){return this._getOrCreateBeginPromise().then(n,i)},r.prototype.catch=function(n){return this._getOrCreateBeginPromise().catch(n)},r.prototype.finally=function(n){return this._getOrCreateBeginPromise().finally(n)},r.prototype._getOrCreateBeginPromise=function(){var n=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(i,o){n._resolve=i,n._reject=o,n._beginError!=null&&o(n._beginError),n._beginMetadata!=null&&i(n._toTransaction())})),this._beginPromise},r.prototype._toTransaction=function(){return cc(cc({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},r.prototype._begin=function(n,i){return e.prototype._begin.call(this,n,i,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},r.prototype._onBeginError=function(n){this._beginError=n,this._reject!=null&&this._reject(n)},r.prototype._onBeginMetadata=function(n){this._beginMetadata=n??{},this._resolve!=null&&this._resolve(this._toTransaction())},r}(Y2.default);hg=Symbol.toStringTag;kc.default=K2;var xc={},yo=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},mo=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Cs=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},Is=v&&v.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var i=0,o=r.length,a;i<o;i++)(a||!(i in r))&&(a||(a=Array.prototype.slice.call(r,0,i)),a[i]=r[i]);return e.concat(a||Array.prototype.slice.call(r))},ev=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xc,"__esModule",{value:!0});var ch=Tr,Z2=ce,ht=se,tr=me,X2=ev(ua),tp=It,Q2=sa,bo=kr,Er=bi,J2=ev(kc),ej=ev(Nc),tj=function(){function e(r){var n=r.mode,i=r.connectionProvider,o=r.bookmarks,a=r.database,u=r.config,s=r.reactive,l=r.fetchSize,c=r.impersonatedUser,f=r.bookmarkManager,h=r.notificationFilter;this._mode=n,this._database=a,this._reactive=s,this._fetchSize=l,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new tp.ConnectionHolder({mode:ht.ACCESS_MODE_READ,database:a,bookmarks:o,connectionProvider:i,impersonatedUser:c,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._writeConnectionHolder=new tp.ConnectionHolder({mode:ht.ACCESS_MODE_WRITE,database:a,bookmarks:o,connectionProvider:i,impersonatedUser:c,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._open=!0,this._hasTx=!1,this._impersonatedUser=c,this._lastBookmarks=o??bo.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=rj(u),this._databaseNameResolved=this._database!=="";var d=this._calculateWatermaks();this._lowRecordWatermark=d.low,this._highRecordWatermark=d.high,this._results=[],this._bookmarkManager=f,this._notificationFilter=h}return e.prototype.run=function(r,n,i){var o=this,a=(0,Z2.validateQueryAndParameters)(r,n),u=a.validatedQuery,s=a.params,l=i!=null?new Er.TxConfig(i):Er.TxConfig.empty(),c=this._run(u,s,function(f){return yo(o,void 0,void 0,function(){var h,d=this;return mo(this,function(p){switch(p.label){case 0:return[4,this._bookmarks()];case 1:return h=p.sent(),this._assertSessionIsOpen(),[2,f.protocol().run(u,s,{bookmarks:h,txConfig:l,mode:this._mode,database:this._database,impersonatedUser:this._impersonatedUser,afterComplete:function(m){return d._onCompleteCallback(m,h)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push(c),c},e.prototype._run=function(r,n,i){var o=this._connectionHolderWithMode(this._mode),a;this._open?!this._hasTx&&o.initializeConnection()?a=o.getConnection().then(function(s){return i(s)}).catch(function(s){return Promise.resolve(new ch.FailedObserver({error:s}))}):a=Promise.resolve(new ch.FailedObserver({error:(0,tr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):a=Promise.resolve(new ch.FailedObserver({error:(0,tr.newError)("Cannot run query in a closed session.")}));var u={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new X2.default(a,r,n,o,u)},e.prototype._acquireConnection=function(r){var n=this,i,o=this._connectionHolderWithMode(this._mode);return this._open?!this._hasTx&&o.initializeConnection()?i=o.getConnection().then(function(a){return r(a)}).then(function(a){return yo(n,void 0,void 0,function(){return mo(this,function(u){switch(u.label){case 0:return[4,o.releaseConnection()];case 1:return u.sent(),[2,a]}})})}):i=Promise.reject((0,tr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):i=Promise.reject((0,tr.newError)("Cannot run query in a closed session.")),i},e.prototype.beginTransaction=function(r){var n=r,i=Er.TxConfig.empty();return n!=null&&(i=new Er.TxConfig(n)),this._beginTransaction(this._mode,i)},e.prototype._beginTransaction=function(r,n){var i=this;if(!this._open)throw(0,tr.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,tr.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var o=e._validateSessionMode(r),a=this._connectionHolderWithMode(o);a.initializeConnection(),this._hasTx=!0;var u=new J2.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(s,l,c){return i._updateBookmarks(s,l,c)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter});return u._begin(function(){return i._bookmarks()},n),u},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,tr.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var r;return yo(this,void 0,void 0,function(){var n;return mo(this,function(i){switch(i.label){case 0:return[4,(r=this._bookmarkManager)===null||r===void 0?void 0:r.getBookmarks()];case 1:return n=i.sent(),n===void 0?[2,this._lastBookmarks]:[2,new bo.Bookmarks(Is(Is([],Cs(n),!1),Cs(this._configuredBookmarks),!1))]}})})},e.prototype.readTransaction=function(r,n){var i=new Er.TxConfig(n);return this._runTransaction(ht.ACCESS_MODE_READ,i,r)},e.prototype.writeTransaction=function(r,n){var i=new Er.TxConfig(n);return this._runTransaction(ht.ACCESS_MODE_WRITE,i,r)},e.prototype._runTransaction=function(r,n,i){var o=this;return this._transactionExecutor.execute(function(){return o._beginTransaction(r,n)},i)},e.prototype.executeRead=function(r,n){var i=new Er.TxConfig(n);return this._executeInTransaction(ht.ACCESS_MODE_READ,i,r)},e.prototype.executeWrite=function(r,n){var i=new Er.TxConfig(n);return this._executeInTransaction(ht.ACCESS_MODE_WRITE,i,r)},e.prototype._executeInTransaction=function(r,n,i){var o=this;return this._transactionExecutor.execute(function(){return o._beginTransaction(r,n)},i,ej.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(r){if(!this._databaseNameResolved){var n=r??"";this._database=n,this._readConnectionHolder.setDatabase(n),this._writeConnectionHolder.setDatabase(n),this._databaseNameResolved=!0}},e.prototype._getConnectionAcquistionBookmarks=function(){var r;return yo(this,void 0,void 0,function(){var n;return mo(this,function(i){switch(i.label){case 0:return[4,(r=this._bookmarkManager)===null||r===void 0?void 0:r.getBookmarks()];case 1:return n=i.sent(),n===void 0?[2,this._lastBookmarks]:[2,new bo.Bookmarks(Is(Is([],Cs(this._configuredBookmarks),!1),Cs(n),!1))]}})})},e.prototype._updateBookmarks=function(r,n,i){var o,a,u;r!=null&&!r.isEmpty()&&((o=this._bookmarkManager)===null||o===void 0||o.updateBookmarks((a=n==null?void 0:n.values())!==null&&a!==void 0?a:[],(u=r==null?void 0:r.values())!==null&&u!==void 0?u:[]),this._lastBookmarks=r,this._configuredBookmarks=bo.Bookmarks.empty())},e.prototype.close=function(){return yo(this,void 0,void 0,function(){return mo(this,function(r){switch(r.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(n){return n._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return r.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype._connectionHolderWithMode=function(r){if(r===ht.ACCESS_MODE_READ)return this._readConnectionHolder;if(r===ht.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,tr.newError)("Unknown access mode: "+r)},e.prototype._onCompleteCallback=function(r,n){this._updateBookmarks(new bo.Bookmarks(r.bookmark),n,r.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===ht.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e._validateSessionMode=function(r){var n=r??ht.ACCESS_MODE_WRITE;if(n!==ht.ACCESS_MODE_READ&&n!==ht.ACCESS_MODE_WRITE)throw(0,tr.newError)("Illegal session mode "+n);return n},e}();function rj(e){var r,n=(r=e==null?void 0:e.maxTransactionRetryTime)!==null&&r!==void 0?r:null;return new Q2.TransactionExecutor(n)}xc.default=tj;var Ge={},gi={},lc=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},fc=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lh=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},rp=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},np=v&&v.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var i=0,o=r.length,a;i<o;i++)(a||!(i in r))&&(a||(a=Array.prototype.slice.call(r,0,i)),a[i]=r[i]);return e.concat(a||Array.prototype.slice.call(r))};Object.defineProperty(gi,"__esModule",{value:!0});gi.bookmarkManager=void 0;var nj=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(r,n){return lc(this,void 0,void 0,function(){return fc(this,function(i){throw new Error("Not implemented")})})},e.prototype.getBookmarks=function(){return lc(this,void 0,void 0,function(){return fc(this,function(r){throw new Error("Not implemented")})})},e}();gi.default=nj;function ij(e){e===void 0&&(e={});var r=new Set(e.initialBookmarks);return new oj(r,e.bookmarksSupplier,e.bookmarksConsumer)}gi.bookmarkManager=ij;var oj=function(){function e(r,n,i){this._bookmarks=r,this._bookmarksSupplier=n,this._bookmarksConsumer=i}return e.prototype.updateBookmarks=function(r,n){return lc(this,void 0,void 0,function(){var i,o,a,l,u,s,l,c,f,h,d;return fc(this,function(p){switch(p.label){case 0:i=this._bookmarks;try{for(o=lh(r),a=o.next();!a.done;a=o.next())l=a.value,i.delete(l)}catch(m){c={error:m}}finally{try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}}try{for(u=lh(n),s=u.next();!s.done;s=u.next())l=s.value,i.add(l)}catch(m){h={error:m}}finally{try{s&&!s.done&&(d=u.return)&&d.call(u)}finally{if(h)throw h.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(np([],rp(i),!1))];case 1:p.sent(),p.label=2;case 2:return[2]}})})},e.prototype.getBookmarks=function(){var r;return lc(this,void 0,void 0,function(){var n,i,o,a,u,s,l;return fc(this,function(c){switch(c.label){case 0:return n=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:i=(r=c.sent())!==null&&r!==void 0?r:[];try{for(o=lh(i),a=o.next();!a.done;a=o.next())u=a.value,n.add(u)}catch(f){s={error:f}}finally{try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(s)throw s.error}}c.label=2;case 2:return[2,np([],rp(n),!1)]}})})},e}(),$c={},dg=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},vg=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},aj=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});var uj=aj(jc),sj=me;function cj(e){return dg(this,void 0,void 0,function(){var r,n,i,o;return vg(this,function(a){switch(a.label){case 0:return[4,e];case 1:return r=a.sent(),n=r.summary,i=r.records,[4,e.keys()];case 2:return o=a.sent(),[2,new uj.default(o,i,n)]}})})}var lj=function(){function e(){}return e.prototype.eagerResultTransformer=function(){return cj},e.prototype.mappedResultTransformer=function(r){var n=this;if(r==null||r.collect==null&&r.map==null)throw(0,sj.newError)("Requires a map or/and a collect functions.");return function(i){return dg(n,void 0,void 0,function(){return vg(this,function(o){switch(o.label){case 0:return[4,new Promise(function(a,u){var s={records:[],keys:[]};i.subscribe({onKeys:function(l){s.keys=l},onNext:function(l){if(r.map!=null){var c=r.map(l);c!==void 0&&s.records.push(c)}else s.records.push(l)},onCompleted:function(l){if(r.collect!=null)a(r.collect(s.records,l,s.keys));else{var c={records:s.records,summary:l,keys:s.keys};a(c)}},onError:function(l){u(l)}})})];case 1:return[2,o.sent()]}})})}},e}(),_g=new lj;Object.freeze(_g);$c.default=_g;var tv={},ip=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},op=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(tv,"__esModule",{value:!0});var fj=function(){function e(r){this._createSession=r}return e.prototype.execute=function(r,n,i){return ip(this,void 0,void 0,function(){var o,a,u=this;return op(this,function(s){switch(s.label){case 0:o=this._createSession({database:r.database,bookmarkManager:r.bookmarkManager,impersonatedUser:r.impersonatedUser}),s.label=1;case 1:return s.trys.push([1,,3,5]),a=r.routing==="READERS"?o.executeRead.bind(o):o.executeWrite.bind(o),[4,a(function(l){return ip(u,void 0,void 0,function(){var c;return op(this,function(f){switch(f.label){case 0:return c=l.run(n,i),[4,r.resultTransformer(c)];case 1:return[2,f.sent()]}})})})];case 2:return[2,s.sent()];case 3:return[4,o.close()];case 4:return s.sent(),[7];case 5:return[2]}})})},e}();tv.default=fj;var hj=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},dj=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Dc=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.QueryConfig=Ge.SessionConfig=Ge.routing=Ge.WRITE=Ge.READ=Ge.Driver=void 0;var ap=kr,vj=Dc(Rc),bn=se,_j=ca,up=Dc(xc),pj=ce,yj=gi,mj=Dc($c),bj=Dc(tv),gj=me,Oj=60*60*1e3,wj=1e3,ld=bn.ACCESS_MODE_READ;Ge.READ=ld;var rv=bn.ACCESS_MODE_WRITE;Ge.WRITE=rv;var Ej=0,Sj=function(){function e(){this.defaultAccessMode=rv,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0}return e}();Ge.SessionConfig=Sj;var Tj="WRITERS",Pj="READERS",ri={WRITERS:Tj,READERS:Pj};Ge.routing=ri;Object.freeze(ri);var Cj=function(){function e(){this.routing=ri.WRITERS,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0}return e}();Ge.QueryConfig=Cj;var pg=function(){function e(r,n,i,o,a){n===void 0&&(n={}),o===void 0&&(o=function(s){return new up.default(s)}),a===void 0&&(a=function(s){return new bj.default(s)}),Aj(n);var u=_j.Logger.create(n);Ij(n,u),this._id=Ej++,this._meta=r,this._config=n,this._log=u,this._createConnectionProvider=i,this._createSession=o,this._defaultExecuteQueryBookmarkManager=(0,yj.bookmarkManager)(),this._queryExecutor=a(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(e.prototype,"defaultExecuteQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(r,n,i){var o,a,u;return i===void 0&&(i={}),hj(this,void 0,void 0,function(){var s,l,c;return dj(this,function(f){switch(f.label){case 0:if(s=i.bookmarkManager===null?void 0:(o=i.bookmarkManager)!==null&&o!==void 0?o:this.defaultExecuteQueryBookmarkManager,l=(a=i.resultTransformer)!==null&&a!==void 0?a:mj.default.eagerResultTransformer(),c=(u=i.routing)!==null&&u!==void 0?u:ri.WRITERS,c!==ri.READERS&&c!==ri.WRITERS)throw(0,gj.newError)('Illegal query routing config: "'.concat(c,'"'));return[4,this._queryExecutor.execute({resultTransformer:l,bookmarkManager:s,routing:c,database:i.database,impersonatedUser:i.impersonatedUser},r,n)];case 1:return[2,f.sent()]}})})},e.prototype.verifyConnectivity=function(r){var n=r===void 0?{}:r,i=n.database,o=i===void 0?"":i,a=this._getOrCreateConnectionProvider();return a.verifyConnectivityAndGetServerInfo({database:o,accessMode:ld})},e.prototype.getServerInfo=function(r){var n=r===void 0?{}:r,i=n.database,o=i===void 0?"":i,a=this._getOrCreateConnectionProvider();return a.verifyConnectivityAndGetServerInfo({database:o,accessMode:ld})},e.prototype.supportsMultiDb=function(){var r=this._getOrCreateConnectionProvider();return r.supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){var r=this._getOrCreateConnectionProvider();return r.supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){var r=this._getOrCreateConnectionProvider();return r.supportsUserImpersonation()},e.prototype.getNegotiatedProtocolVersion=function(){var r=this._getOrCreateConnectionProvider();return r.getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===pj.ENCRYPTION_ON||this._config.encrypted===!0},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(r){var n=r===void 0?{}:r,i=n.defaultAccessMode,o=i===void 0?rv:i,a=n.bookmarks,u=n.database,s=u===void 0?"":u,l=n.impersonatedUser,c=n.fetchSize,f=n.bookmarkManager,h=n.notificationFilter;return this._newSession({defaultAccessMode:o,bookmarkOrBookmarks:a,database:s,reactive:!1,impersonatedUser:l,fetchSize:yg(c,this._config.fetchSize),bookmarkManager:f,notificationFilter:h})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._newSession=function(r){var n=r.defaultAccessMode,i=r.bookmarkOrBookmarks,o=r.database,a=r.reactive,u=r.impersonatedUser,s=r.fetchSize,l=r.bookmarkManager,c=r.notificationFilter,f=up.default._validateSessionMode(n),h=this._getOrCreateConnectionProvider(),d=i!=null?new ap.Bookmarks(i):ap.Bookmarks.empty();return this._createSession({mode:f,database:o??"",connectionProvider:h,bookmarks:d,config:this._config,reactive:a,impersonatedUser:u,fetchSize:s,bookmarkManager:l,notificationFilter:c})},e.prototype._getOrCreateConnectionProvider=function(){return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,jj(this._config))),this._connectionProvider},e}();Ge.Driver=pg;function Ij(e,r){var n=e.resolver;if(n!=null&&typeof n!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof n));return e.connectionAcquisitionTimeout<e.connectionTimeout&&r.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),e}function Aj(e){e.maxConnectionLifetime=fh(e.maxConnectionLifetime,Oj),e.maxConnectionPoolSize=fh(e.maxConnectionPoolSize,bn.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=fh(e.connectionAcquisitionTimeout,bn.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=yg(e.fetchSize,wj),e.connectionTimeout=Rj(e)}function fh(e,r){var n=parseInt(e,10);return n>0||n===0?n:n<0?Number.MAX_SAFE_INTEGER:r}function yg(e,r){var n=parseInt(e,10);if(n>0||n===bn.FETCH_ALL)return n;if(n===0||n<0)throw new Error("The fetch size can only be a positive value or ".concat(bn.FETCH_ALL," for ALL. However fetchSize = ").concat(n));return r}function Rj(e){var r=parseInt(e.connectionTimeout,10);return r===0||!isNaN(r)&&r<0?null:isNaN(r)?bn.DEFAULT_CONNECTION_TIMEOUT_MILLIS:r}function jj(e){return new vj.default(e.resolver)}Ge.default=pg;var nv={};Object.defineProperty(nv,"__esModule",{value:!0});var Mj={basic:function(e,r,n){return n!=null?{scheme:"basic",principal:e,credentials:r,realm:n}:{scheme:"basic",principal:e,credentials:r}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},custom:function(e,r,n,i,o){var a={scheme:i,principal:e};return hh(r)&&(a.credentials=r),hh(n)&&(a.realm=n),hh(o)&&(a.parameters=o),a}};function hh(e){return!(e==null||e===""||Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length===0)}nv.default=Mj;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});(function(e){var r=v&&v.__createBinding||(Object.create?function(k,F,U,Y){Y===void 0&&(Y=U);var Z=Object.getOwnPropertyDescriptor(F,U);(!Z||("get"in Z?!F.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return F[U]}}),Object.defineProperty(k,Y,Z)}:function(k,F,U,Y){Y===void 0&&(Y=U),k[Y]=F[U]}),n=v&&v.__setModuleDefault||(Object.create?function(k,F){Object.defineProperty(k,"default",{enumerable:!0,value:F})}:function(k,F){k.default=F}),i=v&&v.__importStar||function(k){if(k&&k.__esModule)return k;var F={};if(k!=null)for(var U in k)U!=="default"&&Object.prototype.hasOwnProperty.call(k,U)&&r(F,k,U);return n(F,k),F},o=v&&v.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedTransaction=e.Transaction=e.Connection=e.ConnectionProvider=e.EagerResult=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.Neo4jError=e.newError=void 0,e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationCategory=e.resultTransformers=e.routing=e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=e.TransactionPromise=void 0;var a=me;Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return a.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return a.Neo4jError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return a.isRetriableError}});var u=i(Le);e.Integer=u.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return u.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return u.toString}});var s=Ee;Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}});var l=Ce;Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}});var c=o(Kd);e.Record=c.default;var f=si;Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return f.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f.Point}});var h=i(Ie);e.ResultSummary=h.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return h.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return h.ServerInfo}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return h.Notification}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return h.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return h.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return h.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return h.Stats}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return h.notificationCategory}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return h.notificationSeverityLevel}});var d=mn;Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return d.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return d.notificationFilterMinimumSeverityLevel}});var p=o(ua);e.Result=p.default;var m=o(jc);e.EagerResult=m.default;var O=o(Qd);e.ConnectionProvider=O.default;var T=o(Jd);e.Connection=T.default;var b=o(Mc);e.Transaction=b.default;var P=o(Nc);e.ManagedTransaction=P.default;var C=o(kc);e.TransactionPromise=C.default;var E=o(xc);e.Session=E.default;var w=i(Ge),A=w;e.Driver=w.default,e.driver=A;var j=o(nv);e.auth=j.default;var N=gi;Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return N.bookmarkManager}});var z=Ge;Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return z.routing}});var B=i(mg);e.types=B;var G=i(pi);e.json=G;var H=o($c);e.resultTransformers=H.default;var X=i(de);e.internal=X;var R={SERVICE_UNAVAILABLE:a.SERVICE_UNAVAILABLE,SESSION_EXPIRED:a.SESSION_EXPIRED,PROTOCOL_ERROR:a.PROTOCOL_ERROR};e.error=R;var $={newError:a.newError,Neo4jError:a.Neo4jError,isRetriableError:a.isRetriableError,error:R,Integer:u.default,int:u.int,isInt:u.isInt,inSafeRange:u.inSafeRange,toNumber:u.toNumber,toString:u.toString,internal:X,isPoint:f.isPoint,Point:f.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,isDate:s.isDate,isDateTime:s.isDateTime,isDuration:s.isDuration,isLocalDateTime:s.isLocalDateTime,isLocalTime:s.isLocalTime,isTime:s.isTime,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Node:l.Node,isNode:l.isNode,Relationship:l.Relationship,isRelationship:l.isRelationship,UnboundRelationship:l.UnboundRelationship,isUnboundRelationship:l.isUnboundRelationship,Path:l.Path,isPath:l.isPath,PathSegment:l.PathSegment,isPathSegment:l.isPathSegment,Record:c.default,ResultSummary:h.default,queryType:h.queryType,ServerInfo:h.ServerInfo,Notification:h.Notification,Plan:h.Plan,ProfiledPlan:h.ProfiledPlan,QueryStatistics:h.QueryStatistics,Stats:h.Stats,Result:p.default,EagerResult:m.default,Transaction:b.default,ManagedTransaction:P.default,TransactionPromise:C.default,Session:E.default,Driver:w.default,Connection:T.default,types:B,driver:A,json:G,auth:j.default,bookmarkManager:N.bookmarkManager,routing:z.routing,resultTransformers:H.default,notificationCategory:h.notificationCategory,notificationSeverityLevel:h.notificationSeverityLevel,notificationFilterDisabledCategory:d.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:d.notificationFilterMinimumSeverityLevel};e.default=$})(oe);var Lc={},fa={},he={},Oi={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.isFunction=void 0;function Nj(e){return typeof e=="function"}fe.isFunction=Nj;var xe={},ha={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.createErrorClass=void 0;function kj(e){var r=function(i){Error.call(i),i.stack=new Error().stack},n=e(r);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Vt.createErrorClass=kj;Object.defineProperty(ha,"__esModule",{value:!0});ha.UnsubscriptionError=void 0;var xj=Vt;ha.UnsubscriptionError=xj.createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,o){return o+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.arrRemove=void 0;function $j(e,r){if(e){var n=e.indexOf(r);0<=n&&e.splice(n,1)}}jt.arrRemove=$j;var sp=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},cp=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},lp=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(xe,"__esModule",{value:!0});xe.isSubscription=xe.EMPTY_SUBSCRIPTION=xe.Subscription=void 0;var Bo=fe,dh=ha,fp=jt,iv=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,n,i,o,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=sp(u),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(O){r={error:O}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}else u.remove(this);var f=this.initialTeardown;if(Bo.isFunction(f))try{f()}catch(O){a=O instanceof dh.UnsubscriptionError?O.errors:[O]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=sp(h),p=d.next();!p.done;p=d.next()){var m=p.value;try{hp(m)}catch(O){a=a??[],O instanceof dh.UnsubscriptionError?a=lp(lp([],cp(a)),cp(O.errors)):a.push(O)}}}catch(O){i={error:O}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}if(a)throw new dh.UnsubscriptionError(a)}},e.prototype.add=function(r){var n;if(r&&r!==this)if(this.closed)hp(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(r)}},e.prototype._hasParent=function(r){var n=this._parentage;return n===r||Array.isArray(n)&&n.includes(r)},e.prototype._addParent=function(r){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(r),n):n?[n,r]:r},e.prototype._removeParent=function(r){var n=this._parentage;n===r?this._parentage=null:Array.isArray(n)&&fp.arrRemove(n,r)},e.prototype.remove=function(r){var n=this._finalizers;n&&fp.arrRemove(n,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}();xe.Subscription=iv;xe.EMPTY_SUBSCRIPTION=iv.EMPTY;function Dj(e){return e instanceof iv||e&&"closed"in e&&Bo.isFunction(e.remove)&&Bo.isFunction(e.add)&&Bo.isFunction(e.unsubscribe)}xe.isSubscription=Dj;function hp(e){Bo.isFunction(e)?e():e.unsubscribe()}var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.config=void 0;xr.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var da={},ov={};(function(e){var r=v&&v.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var u=a.call(i),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=u.next()).done;)l.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return l},n=v&&v.__spreadArray||function(i,o){for(var a=0,u=o.length,s=i.length;a<u;a++,s++)i[s]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(i,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,n([i,o],r(a))):setTimeout.apply(void 0,n([i,o],r(a)))},clearTimeout:function(i){var o=e.timeoutProvider.delegate;return((o==null?void 0:o.clearTimeout)||clearTimeout)(i)},delegate:void 0}})(ov);Object.defineProperty(da,"__esModule",{value:!0});da.reportUnhandledError=void 0;var Lj=xr,Uj=ov;function Fj(e){Uj.timeoutProvider.setTimeout(function(){var r=Lj.config.onUnhandledError;if(r)r(e);else throw e})}da.reportUnhandledError=Fj;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.noop=void 0;function Bj(){}$e.noop=Bj;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.createNotification=Ft.nextNotification=Ft.errorNotification=Ft.COMPLETE_NOTIFICATION=void 0;Ft.COMPLETE_NOTIFICATION=function(){return Uc("C",void 0,void 0)}();function zj(e){return Uc("E",void 0,e)}Ft.errorNotification=zj;function Wj(e){return Uc("N",e,void 0)}Ft.nextNotification=Wj;function Uc(e,r,n){return{kind:e,value:r,error:n}}Ft.createNotification=Uc;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.captureError=Pr.errorContext=void 0;var bg=xr,hn=null;function Vj(e){if(bg.config.useDeprecatedSynchronousErrorHandling){var r=!hn;if(r&&(hn={errorThrown:!1,error:null}),e(),r){var n=hn,i=n.errorThrown,o=n.error;if(hn=null,i)throw o}}else e()}Pr.errorContext=Vj;function Hj(e){bg.config.useDeprecatedSynchronousErrorHandling&&hn&&(hn.errorThrown=!0,hn.error=e)}Pr.captureError=Hj;(function(e){var r=v&&v.__extends||function(){var P=function(C,E){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,A){w.__proto__=A}||function(w,A){for(var j in A)Object.prototype.hasOwnProperty.call(A,j)&&(w[j]=A[j])},P(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");P(C,E);function w(){this.constructor=C}C.prototype=E===null?Object.create(E):(w.prototype=E.prototype,new w)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var n=fe,i=xe,o=xr,a=da,u=$e,s=Ft,l=ov,c=Pr,f=function(P){r(C,P);function C(E){var w=P.call(this)||this;return w.isStopped=!1,E?(w.destination=E,i.isSubscription(E)&&E.add(w)):w.destination=e.EMPTY_OBSERVER,w}return C.create=function(E,w,A){return new m(E,w,A)},C.prototype.next=function(E){this.isStopped?b(s.nextNotification(E),this):this._next(E)},C.prototype.error=function(E){this.isStopped?b(s.errorNotification(E),this):(this.isStopped=!0,this._error(E))},C.prototype.complete=function(){this.isStopped?b(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},C.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,P.prototype.unsubscribe.call(this),this.destination=null)},C.prototype._next=function(E){this.destination.next(E)},C.prototype._error=function(E){try{this.destination.error(E)}finally{this.unsubscribe()}},C.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},C}(i.Subscription);e.Subscriber=f;var h=Function.prototype.bind;function d(P,C){return h.call(P,C)}var p=function(){function P(C){this.partialObserver=C}return P.prototype.next=function(C){var E=this.partialObserver;if(E.next)try{E.next(C)}catch(w){O(w)}},P.prototype.error=function(C){var E=this.partialObserver;if(E.error)try{E.error(C)}catch(w){O(w)}else O(C)},P.prototype.complete=function(){var C=this.partialObserver;if(C.complete)try{C.complete()}catch(E){O(E)}},P}(),m=function(P){r(C,P);function C(E,w,A){var j=P.call(this)||this,N;if(n.isFunction(E)||!E)N={next:E??void 0,error:w??void 0,complete:A??void 0};else{var z;j&&o.config.useDeprecatedNextContext?(z=Object.create(E),z.unsubscribe=function(){return j.unsubscribe()},N={next:E.next&&d(E.next,z),error:E.error&&d(E.error,z),complete:E.complete&&d(E.complete,z)}):N=E}return j.destination=new p(N),j}return C}(f);e.SafeSubscriber=m;function O(P){o.config.useDeprecatedSynchronousErrorHandling?c.captureError(P):a.reportUnhandledError(P)}function T(P){throw P}function b(P,C){var E=o.config.onStoppedNotification;E&&l.timeoutProvider.setTimeout(function(){return E(P,C)})}e.EMPTY_OBSERVER={closed:!0,next:u.noop,error:T,complete:u.noop}})(Oi);var In={};Object.defineProperty(In,"__esModule",{value:!0});In.observable=void 0;In.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var vr={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.identity=void 0;function qj(e){return e}De.identity=qj;Object.defineProperty(vr,"__esModule",{value:!0});vr.pipeFromArray=vr.pipe=void 0;var Gj=De;function Yj(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return gg(e)}vr.pipe=Yj;function gg(e){return e.length===0?Gj.identity:e.length===1?e[0]:function(n){return e.reduce(function(i,o){return o(i)},n)}}vr.pipeFromArray=gg;Object.defineProperty(he,"__esModule",{value:!0});he.Observable=void 0;var fd=Oi,Kj=xe,Zj=In,Xj=vr,Qj=xr,vh=fe,Jj=Pr,eM=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var n=new e;return n.source=this,n.operator=r,n},e.prototype.subscribe=function(r,n,i){var o=this,a=rM(r)?r:new fd.SafeSubscriber(r,n,i);return Jj.errorContext(function(){var u=o,s=u.operator,l=u.source;a.add(s?s.call(a,l):l?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(n){r.error(n)}},e.prototype.forEach=function(r,n){var i=this;return n=dp(n),new n(function(o,a){var u=new fd.SafeSubscriber({next:function(s){try{r(s)}catch(l){a(l),u.unsubscribe()}},error:a,complete:o});i.subscribe(u)})},e.prototype._subscribe=function(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)},e.prototype[Zj.observable]=function(){return this},e.prototype.pipe=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Xj.pipeFromArray(r)(this)},e.prototype.toPromise=function(r){var n=this;return r=dp(r),new r(function(i,o){var a;n.subscribe(function(u){return a=u},function(u){return o(u)},function(){return i(a)})})},e.create=function(r){return new e(r)},e}();he.Observable=eM;function dp(e){var r;return(r=e??Qj.config.Promise)!==null&&r!==void 0?r:Promise}function tM(e){return e&&vh.isFunction(e.next)&&vh.isFunction(e.error)&&vh.isFunction(e.complete)}function rM(e){return e&&e instanceof fd.Subscriber||tM(e)&&Kj.isSubscription(e)}var An={},wi={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.operate=K.hasLift=void 0;var nM=fe;function Og(e){return nM.isFunction(e==null?void 0:e.lift)}K.hasLift=Og;function iM(e){return function(r){if(Og(r))return r.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}K.operate=iM;var J={},oM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(J,"__esModule",{value:!0});J.OperatorSubscriber=J.createOperatorSubscriber=void 0;var aM=Oi;function uM(e,r,n,i,o){return new wg(e,r,n,i,o)}J.createOperatorSubscriber=uM;var wg=function(e){oM(r,e);function r(n,i,o,a,u,s){var l=e.call(this,n)||this;return l.onFinalize=u,l.shouldUnsubscribe=s,l._next=i?function(c){try{i(c)}catch(f){n.error(f)}}:e.prototype._next,l._error=a?function(c){try{a(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return r.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},r}(aM.Subscriber);J.OperatorSubscriber=wg;Object.defineProperty(wi,"__esModule",{value:!0});wi.refCount=void 0;var sM=K,cM=J;function lM(){return sM.operate(function(e,r){var n=null;e._refCount++;var i=cM.createOperatorSubscriber(r,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,a=n;n=null,o&&(!a||o===a)&&o.unsubscribe(),r.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}wi.refCount=lM;var fM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(An,"__esModule",{value:!0});An.ConnectableObservable=void 0;var hM=he,vp=xe,dM=wi,vM=J,_M=K,pM=function(e){fM(r,e);function r(n,i){var o=e.call(this)||this;return o.source=n,o.subjectFactory=i,o._subject=null,o._refCount=0,o._connection=null,_M.hasLift(n)&&(o.lift=n.lift),o}return r.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},r.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},r.prototype.connect=function(){var n=this,i=this._connection;if(!i){i=this._connection=new vp.Subscription;var o=this.getSubject();i.add(this.source.subscribe(vM.createOperatorSubscriber(o,void 0,function(){n._teardown(),o.complete()},function(a){n._teardown(),o.error(a)},function(){return n._teardown()}))),i.closed&&(this._connection=null,i=vp.Subscription.EMPTY)}return i},r.prototype.refCount=function(){return dM.refCount()(this)},r}(hM.Observable);An.ConnectableObservable=pM;var Fc={},Eg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(Eg);var av={};(function(e){var r=v&&v.__read||function(o,a){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var s=u.call(o),l,c=[],f;try{for(;(a===void 0||a-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(h){f={error:h}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(f)throw f.error}}return c},n=v&&v.__spreadArray||function(o,a){for(var u=0,s=a.length,l=o.length;u<s;u++,l++)o[l]=a[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var i=xe;e.animationFrameProvider={schedule:function(o){var a=requestAnimationFrame,u=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(a=s.requestAnimationFrame,u=s.cancelAnimationFrame);var l=a(function(c){u=void 0,o(c)});return new i.Subscription(function(){return u==null?void 0:u(l)})},requestAnimationFrame:function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.requestAnimationFrame)||requestAnimationFrame).apply(void 0,n([],r(o)))},cancelAnimationFrame:function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,n([],r(o)))},delegate:void 0}})(av);Object.defineProperty(Fc,"__esModule",{value:!0});Fc.animationFrames=void 0;var yM=he,mM=Eg,_p=av;function bM(e){return e?Sg(e):gM}Fc.animationFrames=bM;function Sg(e){return new yM.Observable(function(r){var n=e||mM.performanceTimestampProvider,i=n.now(),o=0,a=function(){r.closed||(o=_p.animationFrameProvider.requestAnimationFrame(function(u){o=0;var s=n.now();r.next({timestamp:e?s:u,elapsed:s-i}),a()}))};return a(),function(){o&&_p.animationFrameProvider.cancelAnimationFrame(o)}})}var gM=Sg(),Ae={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.ObjectUnsubscribedError=void 0;var OM=Vt;va.ObjectUnsubscribedError=OM.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Tg=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wM=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.AnonymousSubject=Ae.Subject=void 0;var pp=he,hd=xe,EM=va,SM=jt,_h=Pr,Pg=function(e){Tg(r,e);function r(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return r.prototype.lift=function(n){var i=new dd(this,this);return i.operator=n,i},r.prototype._throwIfClosed=function(){if(this.closed)throw new EM.ObjectUnsubscribedError},r.prototype.next=function(n){var i=this;_h.errorContext(function(){var o,a;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var u=wM(i.currentObservers),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(n)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}}})},r.prototype.error=function(n){var i=this;_h.errorContext(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=n;for(var o=i.observers;o.length;)o.shift().error(n)}})},r.prototype.complete=function(){var n=this;_h.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var i=n.observers;i.length;)i.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},r.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},r.prototype._innerSubscribe=function(n){var i=this,o=this,a=o.hasError,u=o.isStopped,s=o.observers;return a||u?hd.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(n),new hd.Subscription(function(){i.currentObservers=null,SM.arrRemove(s,n)}))},r.prototype._checkFinalizedStatuses=function(n){var i=this,o=i.hasError,a=i.thrownError,u=i.isStopped;o?n.error(a):u&&n.complete()},r.prototype.asObservable=function(){var n=new pp.Observable;return n.source=this,n},r.create=function(n,i){return new dd(n,i)},r}(pp.Observable);Ae.Subject=Pg;var dd=function(e){Tg(r,e);function r(n,i){var o=e.call(this)||this;return o.destination=n,o.source=i,o}return r.prototype.next=function(n){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.next)===null||o===void 0||o.call(i,n)},r.prototype.error=function(n){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.error)===null||o===void 0||o.call(i,n)},r.prototype.complete=function(){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||i===void 0||i.call(n)},r.prototype._subscribe=function(n){var i,o;return(o=(i=this.source)===null||i===void 0?void 0:i.subscribe(n))!==null&&o!==void 0?o:hd.EMPTY_SUBSCRIPTION},r}(Pg);Ae.AnonymousSubject=dd;var _a={},TM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(_a,"__esModule",{value:!0});_a.BehaviorSubject=void 0;var PM=Ae,CM=function(e){TM(r,e);function r(n){var i=e.call(this)||this;return i._value=n,i}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(n){var i=e.prototype._subscribe.call(this,n);return!i.closed&&n.next(this._value),i},r.prototype.getValue=function(){var n=this,i=n.hasError,o=n.thrownError,a=n._value;if(i)throw o;return this._throwIfClosed(),a},r.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},r}(PM.Subject);_a.BehaviorSubject=CM;var Ei={},Bc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(Bc);var IM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.ReplaySubject=void 0;var AM=Ae,RM=Bc,jM=function(e){IM(r,e);function r(n,i,o){n===void 0&&(n=1/0),i===void 0&&(i=1/0),o===void 0&&(o=RM.dateTimestampProvider);var a=e.call(this)||this;return a._bufferSize=n,a._windowTime=i,a._timestampProvider=o,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=i===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,i),a}return r.prototype.next=function(n){var i=this,o=i.isStopped,a=i._buffer,u=i._infiniteTimeWindow,s=i._timestampProvider,l=i._windowTime;o||(a.push(n),!u&&a.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},r.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(n),o=this,a=o._infiniteTimeWindow,u=o._buffer,s=u.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),i},r.prototype._trimBuffer=function(){var n=this,i=n._bufferSize,o=n._timestampProvider,a=n._buffer,u=n._infiniteTimeWindow,s=(u?1:2)*i;if(i<1/0&&s<a.length&&a.splice(0,a.length-s),!u){for(var l=o.now(),c=0,f=1;f<a.length&&a[f]<=l;f+=2)c=f;c&&a.splice(0,c+1)}},r}(AM.Subject);Ei.ReplaySubject=jM;var Si={},MM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Si,"__esModule",{value:!0});Si.AsyncSubject=void 0;var NM=Ae,kM=function(e){MM(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return r.prototype._checkFinalizedStatuses=function(n){var i=this,o=i.hasError,a=i._hasValue,u=i._value,s=i.thrownError,l=i.isStopped,c=i._isComplete;o?n.error(s):(l||c)&&(a&&n.next(u),n.complete())},r.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},r.prototype.complete=function(){var n=this,i=n._hasValue,o=n._value,a=n._isComplete;a||(this._isComplete=!0,i&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},r}(NM.Subject);Si.AsyncSubject=kM;var Cg={},zc={},$r={},Wc={},xM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.Action=void 0;var $M=xe,DM=function(e){xM(r,e);function r(n,i){return e.call(this)||this}return r.prototype.schedule=function(n,i){return this},r}($M.Subscription);Wc.Action=DM;var Ig={};(function(e){var r=v&&v.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var u=a.call(i),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=u.next()).done;)l.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return l},n=v&&v.__spreadArray||function(i,o){for(var a=0,u=o.length,s=i.length;a<u;a++,s++)i[s]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(i,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,n([i,o],r(a))):setInterval.apply(void 0,n([i,o],r(a)))},clearInterval:function(i){var o=e.intervalProvider.delegate;return((o==null?void 0:o.clearInterval)||clearInterval)(i)},delegate:void 0}})(Ig);var LM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty($r,"__esModule",{value:!0});$r.AsyncAction=void 0;var UM=Wc,yp=Ig,FM=jt,BM=function(e){LM(r,e);function r(n,i){var o=e.call(this,n,i)||this;return o.scheduler=n,o.work=i,o.pending=!1,o}return r.prototype.schedule=function(n,i){var o;if(i===void 0&&(i=0),this.closed)return this;this.state=n;var a=this.id,u=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(u,a,i)),this.pending=!0,this.delay=i,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(u,this.id,i),this},r.prototype.requestAsyncId=function(n,i,o){return o===void 0&&(o=0),yp.intervalProvider.setInterval(n.flush.bind(n,this),o)},r.prototype.recycleAsyncId=function(n,i,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return i;i!=null&&yp.intervalProvider.clearInterval(i)},r.prototype.execute=function(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,i);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(n,i){var o=!1,a;try{this.work(n)}catch(u){o=!0,a=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a},r.prototype.unsubscribe=function(){if(!this.closed){var n=this,i=n.id,o=n.scheduler,a=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,FM.arrRemove(a,this),i!=null&&(this.id=this.recycleAsyncId(o,i,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r}(UM.Action);$r.AsyncAction=BM;var Ag={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.TestTools=li.Immediate=void 0;var zM=1,ph,hc={};function mp(e){return e in hc?(delete hc[e],!0):!1}li.Immediate={setImmediate:function(e){var r=zM++;return hc[r]=!0,ph||(ph=Promise.resolve()),ph.then(function(){return mp(r)&&e()}),r},clearImmediate:function(e){mp(e)}};li.TestTools={pending:function(){return Object.keys(hc).length}};(function(e){var r=v&&v.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c=l.call(u),f,h=[],d;try{for(;(s===void 0||s-- >0)&&!(f=c.next()).done;)h.push(f.value)}catch(p){d={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(d)throw d.error}}return h},n=v&&v.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var i=li,o=i.Immediate.setImmediate,a=i.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var l=e.immediateProvider.delegate;return((l==null?void 0:l.setImmediate)||o).apply(void 0,n([],r(u)))},clearImmediate:function(u){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||a)(u)},delegate:void 0}})(Ag);var WM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(zc,"__esModule",{value:!0});zc.AsapAction=void 0;var VM=$r,bp=Ag,HM=function(e){WM(r,e);function r(n,i){var o=e.call(this,n,i)||this;return o.scheduler=n,o.work=i,o}return r.prototype.requestAsyncId=function(n,i,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,i,o):(n.actions.push(this),n._scheduled||(n._scheduled=bp.immediateProvider.setImmediate(n.flush.bind(n,void 0))))},r.prototype.recycleAsyncId=function(n,i,o){var a;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,i,o);var u=n.actions;i!=null&&((a=u[u.length-1])===null||a===void 0?void 0:a.id)!==i&&(bp.immediateProvider.clearImmediate(i),n._scheduled===i&&(n._scheduled=void 0))},r}(VM.AsyncAction);zc.AsapAction=HM;var Vc={},Dr={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.Scheduler=void 0;var qM=Bc,GM=function(){function e(r,n){n===void 0&&(n=e.now),this.schedulerActionCtor=r,this.now=n}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),new this.schedulerActionCtor(this,r).schedule(i,n)},e.now=qM.dateTimestampProvider.now,e}();pa.Scheduler=GM;var YM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.AsyncScheduler=void 0;var gp=pa,KM=function(e){YM(r,e);function r(n,i){i===void 0&&(i=gp.Scheduler.now);var o=e.call(this,n,i)||this;return o.actions=[],o._active=!1,o}return r.prototype.flush=function(n){var i=this.actions;if(this._active){i.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=i.shift());if(this._active=!1,o){for(;n=i.shift();)n.unsubscribe();throw o}},r}(gp.Scheduler);Dr.AsyncScheduler=KM;var ZM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.AsapScheduler=void 0;var XM=Dr,QM=function(e){ZM(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(n){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var o=this.actions,a;n=n||o.shift();do if(a=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===i&&o.shift());if(this._active=!1,a){for(;(n=o[0])&&n.id===i&&o.shift();)n.unsubscribe();throw a}},r}(XM.AsyncScheduler);Vc.AsapScheduler=QM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var r=zc,n=Vc;e.asapScheduler=new n.AsapScheduler(r.AsapAction),e.asap=e.asapScheduler})(Cg);var ot={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var r=$r,n=Dr;e.asyncScheduler=new n.AsyncScheduler(r.AsyncAction),e.async=e.asyncScheduler})(ot);var Rg={},Hc={},JM=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.QueueAction=void 0;var eN=$r,tN=function(e){JM(r,e);function r(n,i){var o=e.call(this,n,i)||this;return o.scheduler=n,o.work=i,o}return r.prototype.schedule=function(n,i){return i===void 0&&(i=0),i>0?e.prototype.schedule.call(this,n,i):(this.delay=i,this.state=n,this.scheduler.flush(this),this)},r.prototype.execute=function(n,i){return i>0||this.closed?e.prototype.execute.call(this,n,i):this._execute(n,i)},r.prototype.requestAsyncId=function(n,i,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,i,o):(n.flush(this),0)},r}(eN.AsyncAction);Hc.QueueAction=tN;var qc={},rN=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(qc,"__esModule",{value:!0});qc.QueueScheduler=void 0;var nN=Dr,iN=function(e){rN(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r}(nN.AsyncScheduler);qc.QueueScheduler=iN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var r=Hc,n=qc;e.queueScheduler=new n.QueueScheduler(r.QueueAction),e.queue=e.queueScheduler})(Rg);var jg={},Gc={},oN=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.AnimationFrameAction=void 0;var aN=$r,Op=av,uN=function(e){oN(r,e);function r(n,i){var o=e.call(this,n,i)||this;return o.scheduler=n,o.work=i,o}return r.prototype.requestAsyncId=function(n,i,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,i,o):(n.actions.push(this),n._scheduled||(n._scheduled=Op.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},r.prototype.recycleAsyncId=function(n,i,o){var a;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,i,o);var u=n.actions;i!=null&&((a=u[u.length-1])===null||a===void 0?void 0:a.id)!==i&&(Op.animationFrameProvider.cancelAnimationFrame(i),n._scheduled=void 0)},r}(aN.AsyncAction);Gc.AnimationFrameAction=uN;var Yc={},sN=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AnimationFrameScheduler=void 0;var cN=Dr,lN=function(e){sN(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(n){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var o=this.actions,a;n=n||o.shift();do if(a=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===i&&o.shift());if(this._active=!1,a){for(;(n=o[0])&&n.id===i&&o.shift();)n.unsubscribe();throw a}},r}(cN.AsyncScheduler);Yc.AnimationFrameScheduler=lN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var r=Gc,n=Yc;e.animationFrameScheduler=new n.AnimationFrameScheduler(r.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(jg);var fi={},Mg=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(fi,"__esModule",{value:!0});fi.VirtualAction=fi.VirtualTimeScheduler=void 0;var fN=$r,hN=xe,dN=Dr,vN=function(e){Mg(r,e);function r(n,i){n===void 0&&(n=Ng),i===void 0&&(i=1/0);var o=e.call(this,n,function(){return o.frame})||this;return o.maxFrames=i,o.frame=0,o.index=-1,o}return r.prototype.flush=function(){for(var n=this,i=n.actions,o=n.maxFrames,a,u;(u=i[0])&&u.delay<=o&&(i.shift(),this.frame=u.delay,!(a=u.execute(u.state,u.delay))););if(a){for(;u=i.shift();)u.unsubscribe();throw a}},r.frameTimeFactor=10,r}(dN.AsyncScheduler);fi.VirtualTimeScheduler=vN;var Ng=function(e){Mg(r,e);function r(n,i,o){o===void 0&&(o=n.index+=1);var a=e.call(this,n,i)||this;return a.scheduler=n,a.work=i,a.index=o,a.active=!0,a.index=n.index=o,a}return r.prototype.schedule=function(n,i){if(i===void 0&&(i=0),Number.isFinite(i)){if(!this.id)return e.prototype.schedule.call(this,n,i);this.active=!1;var o=new r(this.scheduler,this.work);return this.add(o),o.schedule(n,i)}else return hN.Subscription.EMPTY},r.prototype.requestAsyncId=function(n,i,o){o===void 0&&(o=0),this.delay=n.frame+o;var a=n.actions;return a.push(this),a.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(n,i,o){},r.prototype._execute=function(n,i){if(this.active===!0)return e.prototype._execute.call(this,n,i)},r.sortActions=function(n,i){return n.delay===i.delay?n.index===i.index?0:n.index>i.index?1:-1:n.delay>i.delay?1:-1},r}(fN.AsyncAction);fi.VirtualAction=Ng;var Kc={},At={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var r=he;e.EMPTY=new r.Observable(function(o){return o.complete()});function n(o){return o?i(o):e.EMPTY}e.empty=n;function i(o){return new r.Observable(function(a){return o.schedule(function(){return a.complete()})})}})(At);var Ti={},Ne={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.isScheduler=void 0;var _N=fe;function pN(e){return e&&_N.isFunction(e.schedule)}Rn.isScheduler=pN;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.popNumber=Ne.popScheduler=Ne.popResultSelector=void 0;var yN=fe,mN=Rn;function uv(e){return e[e.length-1]}function bN(e){return yN.isFunction(uv(e))?e.pop():void 0}Ne.popResultSelector=bN;function gN(e){return mN.isScheduler(uv(e))?e.pop():void 0}Ne.popScheduler=gN;function ON(e,r){return typeof uv(e)=="number"?e.pop():r}Ne.popNumber=ON;var Mt={},ya={},Zc={},re={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.isArrayLike=void 0;Pi.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.isPromise=void 0;var wN=fe;function EN(e){return wN.isFunction(e==null?void 0:e.then)}ma.isPromise=EN;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.isInteropObservable=void 0;var SN=In,TN=fe;function PN(e){return TN.isFunction(e[SN.observable])}ba.isInteropObservable=PN;var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.isAsyncIterable=void 0;var CN=fe;function IN(e){return Symbol.asyncIterator&&CN.isFunction(e==null?void 0:e[Symbol.asyncIterator])}ga.isAsyncIterable=IN;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.createInvalidObservableTypeError=void 0;function AN(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Oa.createInvalidObservableTypeError=AN;var wa={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.iterator=gn.getSymbolIterator=void 0;function kg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}gn.getSymbolIterator=kg;gn.iterator=kg();Object.defineProperty(wa,"__esModule",{value:!0});wa.isIterable=void 0;var RN=gn,jN=fe;function MN(e){return jN.isFunction(e==null?void 0:e[RN.iterator])}wa.isIterable=MN;var Cr={},NN=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ni=v&&v.__await||function(e){return this instanceof ni?(this.v=e,this):new ni(e)},kN=v&&v.__asyncGenerator||function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),o,a=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(d){i[d]&&(o[d]=function(p){return new Promise(function(m,O){a.push([d,p,m,O])>1||s(d,p)})})}function s(d,p){try{l(i[d](p))}catch(m){h(a[0][3],m)}}function l(d){d.value instanceof ni?Promise.resolve(d.value.v).then(c,f):h(a[0][2],d)}function c(d){s("next",d)}function f(d){s("throw",d)}function h(d,p){d(p),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isReadableStreamLike=Cr.readableStreamLikeToAsyncGenerator=void 0;var xN=fe;function $N(e){return kN(this,arguments,function(){var n,i,o,a;return NN(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,ni(n.read())];case 3:return i=u.sent(),o=i.value,a=i.done,a?[4,ni(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,ni(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}Cr.readableStreamLikeToAsyncGenerator=$N;function DN(e){return xN.isFunction(e==null?void 0:e.getReader)}Cr.isReadableStreamLike=DN;var LN=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},UN=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},FN=v&&v.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof vd=="function"?vd(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(u){return new Promise(function(s,l){u=e[a](u),o(s,l,u.done,u.value)})}}function o(a,u,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},u)}},vd=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(re,"__esModule",{value:!0});re.fromReadableStreamLike=re.fromAsyncIterable=re.fromIterable=re.fromPromise=re.fromArrayLike=re.fromInteropObservable=re.innerFrom=void 0;var BN=Pi,zN=ma,Ci=he,WN=ba,VN=ga,HN=Oa,qN=wa,xg=Cr,GN=fe,YN=da,KN=In;function ZN(e){if(e instanceof Ci.Observable)return e;if(e!=null){if(WN.isInteropObservable(e))return $g(e);if(BN.isArrayLike(e))return Dg(e);if(zN.isPromise(e))return Lg(e);if(VN.isAsyncIterable(e))return sv(e);if(qN.isIterable(e))return Ug(e);if(xg.isReadableStreamLike(e))return Fg(e)}throw HN.createInvalidObservableTypeError(e)}re.innerFrom=ZN;function $g(e){return new Ci.Observable(function(r){var n=e[KN.observable]();if(GN.isFunction(n.subscribe))return n.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}re.fromInteropObservable=$g;function Dg(e){return new Ci.Observable(function(r){for(var n=0;n<e.length&&!r.closed;n++)r.next(e[n]);r.complete()})}re.fromArrayLike=Dg;function Lg(e){return new Ci.Observable(function(r){e.then(function(n){r.closed||(r.next(n),r.complete())},function(n){return r.error(n)}).then(null,YN.reportUnhandledError)})}re.fromPromise=Lg;function Ug(e){return new Ci.Observable(function(r){var n,i;try{for(var o=vd(e),a=o.next();!a.done;a=o.next()){var u=a.value;if(r.next(u),r.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}r.complete()})}re.fromIterable=Ug;function sv(e){return new Ci.Observable(function(r){XN(e,r).catch(function(n){return r.error(n)})})}re.fromAsyncIterable=sv;function Fg(e){return sv(xg.readableStreamLikeToAsyncGenerator(e))}re.fromReadableStreamLike=Fg;function XN(e,r){var n,i,o,a;return LN(this,void 0,void 0,function(){var u,s;return UN(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=FN(e),l.label=1;case 1:return[4,n.next()];case 2:if(i=l.sent(),!!i.done)return[3,4];if(u=i.value,r.next(u),r.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}var Lr={},Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.executeSchedule=void 0;function QN(e,r,n,i,o){i===void 0&&(i=0),o===void 0&&(o=!1);var a=r.schedule(function(){n(),o?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(a),!o)return a}Nt.executeSchedule=QN;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.observeOn=void 0;var yh=Nt,JN=K,ek=J;function tk(e,r){return r===void 0&&(r=0),JN.operate(function(n,i){n.subscribe(ek.createOperatorSubscriber(i,function(o){return yh.executeSchedule(i,e,function(){return i.next(o)},r)},function(){return yh.executeSchedule(i,e,function(){return i.complete()},r)},function(o){return yh.executeSchedule(i,e,function(){return i.error(o)},r)}))})}Lr.observeOn=tk;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.subscribeOn=void 0;var rk=K;function nk(e,r){return r===void 0&&(r=0),rk.operate(function(n,i){i.add(e.schedule(function(){return n.subscribe(i)},r))})}Ur.subscribeOn=nk;Object.defineProperty(Zc,"__esModule",{value:!0});Zc.scheduleObservable=void 0;var ik=re,ok=Lr,ak=Ur;function uk(e,r){return ik.innerFrom(e).pipe(ak.subscribeOn(r),ok.observeOn(r))}Zc.scheduleObservable=uk;var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.schedulePromise=void 0;var sk=re,ck=Lr,lk=Ur;function fk(e,r){return sk.innerFrom(e).pipe(lk.subscribeOn(r),ck.observeOn(r))}Xc.schedulePromise=fk;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.scheduleArray=void 0;var hk=he;function dk(e,r){return new hk.Observable(function(n){var i=0;return r.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}Qc.scheduleArray=dk;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.scheduleIterable=void 0;var vk=he,_k=gn,pk=fe,wp=Nt;function yk(e,r){return new vk.Observable(function(n){var i;return wp.executeSchedule(n,r,function(){i=e[_k.iterator](),wp.executeSchedule(n,r,function(){var o,a,u;try{o=i.next(),a=o.value,u=o.done}catch(s){n.error(s);return}u?n.complete():n.next(a)},0,!0)}),function(){return pk.isFunction(i==null?void 0:i.return)&&i.return()}})}Ea.scheduleIterable=yk;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.scheduleAsyncIterable=void 0;var mk=he,Ep=Nt;function bk(e,r){if(!e)throw new Error("Iterable cannot be null");return new mk.Observable(function(n){Ep.executeSchedule(n,r,function(){var i=e[Symbol.asyncIterator]();Ep.executeSchedule(n,r,function(){i.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}Sa.scheduleAsyncIterable=bk;var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.scheduleReadableStreamLike=void 0;var gk=Sa,Ok=Cr;function wk(e,r){return gk.scheduleAsyncIterable(Ok.readableStreamLikeToAsyncGenerator(e),r)}Jc.scheduleReadableStreamLike=wk;Object.defineProperty(ya,"__esModule",{value:!0});ya.scheduled=void 0;var Ek=Zc,Sk=Xc,Tk=Qc,Pk=Ea,Ck=Sa,Ik=ba,Ak=ma,Rk=Pi,jk=wa,Mk=ga,Nk=Oa,kk=Cr,xk=Jc;function $k(e,r){if(e!=null){if(Ik.isInteropObservable(e))return Ek.scheduleObservable(e,r);if(Rk.isArrayLike(e))return Tk.scheduleArray(e,r);if(Ak.isPromise(e))return Sk.schedulePromise(e,r);if(Mk.isAsyncIterable(e))return Ck.scheduleAsyncIterable(e,r);if(jk.isIterable(e))return Pk.scheduleIterable(e,r);if(kk.isReadableStreamLike(e))return xk.scheduleReadableStreamLike(e,r)}throw Nk.createInvalidObservableTypeError(e)}ya.scheduled=$k;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.from=void 0;var Dk=ya,Lk=re;function Uk(e,r){return r?Dk.scheduled(e,r):Lk.innerFrom(e)}Mt.from=Uk;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.of=void 0;var Fk=Ne,Bk=Mt;function zk(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Fk.popScheduler(e);return Bk.from(e,n)}Ti.of=zk;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.throwError=void 0;var Wk=he,Vk=fe;function Hk(e,r){var n=Vk.isFunction(e)?e:function(){return e},i=function(o){return o.error(n())};return new Wk.Observable(r?function(o){return r.schedule(i,0,o)}:i)}Ta.throwError=Hk;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var r=At,n=Ti,i=Ta,o=fe;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var a=function(){function s(l,c,f){this.kind=l,this.value=c,this.error=f,this.hasValue=l==="N"}return s.prototype.observe=function(l){return u(this,l)},s.prototype.do=function(l,c,f){var h=this,d=h.kind,p=h.value,m=h.error;return d==="N"?l==null?void 0:l(p):d==="E"?c==null?void 0:c(m):f==null?void 0:f()},s.prototype.accept=function(l,c,f){var h;return o.isFunction((h=l)===null||h===void 0?void 0:h.next)?this.observe(l):this.do(l,c,f)},s.prototype.toObservable=function(){var l=this,c=l.kind,f=l.value,h=l.error,d=c==="N"?n.of(f):c==="E"?i.throwError(function(){return h}):c==="C"?r.EMPTY:0;if(!d)throw new TypeError("Unexpected notification kind "+c);return d},s.createNext=function(l){return new s("N",l)},s.createError=function(l){return new s("E",void 0,l)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=a;function u(s,l){var c,f,h,d=s,p=d.kind,m=d.value,O=d.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(c=l.next)===null||c===void 0||c.call(l,m):p==="E"?(f=l.error)===null||f===void 0||f.call(l,O):(h=l.complete)===null||h===void 0||h.call(l)}e.observeNotification=u})(Kc);var el={};Object.defineProperty(el,"__esModule",{value:!0});el.isObservable=void 0;var qk=he,Sp=fe;function Gk(e){return!!e&&(e instanceof qk.Observable||Sp.isFunction(e.lift)&&Sp.isFunction(e.subscribe))}el.isObservable=Gk;var tl={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.EmptyError=void 0;var Yk=Vt;Ht.EmptyError=Yk.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(tl,"__esModule",{value:!0});tl.lastValueFrom=void 0;var Kk=Ht;function Zk(e,r){var n=typeof r=="object";return new Promise(function(i,o){var a=!1,u;e.subscribe({next:function(s){u=s,a=!0},error:o,complete:function(){a?i(u):n?i(r.defaultValue):o(new Kk.EmptyError)}})})}tl.lastValueFrom=Zk;var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.firstValueFrom=void 0;var Xk=Ht,Qk=Oi;function Jk(e,r){var n=typeof r=="object";return new Promise(function(i,o){var a=new Qk.SafeSubscriber({next:function(u){i(u),a.unsubscribe()},error:o,complete:function(){n?i(r.defaultValue):o(new Xk.EmptyError)}});e.subscribe(a)})}rl.firstValueFrom=Jk;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ArgumentOutOfRangeError=void 0;var ex=Vt;Pa.ArgumentOutOfRangeError=ex.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.NotFoundError=void 0;var tx=Vt;Ca.NotFoundError=tx.createErrorClass(function(e){return function(n){e(this),this.name="NotFoundError",this.message=n}});var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.SequenceError=void 0;var rx=Vt;Ia.SequenceError=rx.createErrorClass(function(e){return function(n){e(this),this.name="SequenceError",this.message=n}});var Qo={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.isValidDate=void 0;function nx(e){return e instanceof Date&&!isNaN(e)}Ii.isValidDate=nx;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var r=ot,n=Ii,i=K,o=re,a=Vt,u=J,s=Nt;e.TimeoutError=a.createErrorClass(function(f){return function(d){d===void 0&&(d=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=d}});function l(f,h){var d=n.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,p=d.first,m=d.each,O=d.with,T=O===void 0?c:O,b=d.scheduler,P=b===void 0?h??r.asyncScheduler:b,C=d.meta,E=C===void 0?null:C;if(p==null&&m==null)throw new TypeError("No timeout provided.");return i.operate(function(w,A){var j,N,z=null,B=0,G=function(H){N=s.executeSchedule(A,P,function(){try{j.unsubscribe(),o.innerFrom(T({meta:E,lastValue:z,seen:B})).subscribe(A)}catch(X){A.error(X)}},H)};j=w.subscribe(u.createOperatorSubscriber(A,function(H){N==null||N.unsubscribe(),B++,A.next(z=H),m>0&&G(m)},void 0,void 0,function(){N!=null&&N.closed||N==null||N.unsubscribe(),z=null})),!B&&G(p!=null?typeof p=="number"?p:+p-P.now():m)})}e.timeout=l;function c(f){throw new e.TimeoutError(f)}})(Qo);var nl={},Aa={},qt={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.map=void 0;var ix=K,ox=J;function ax(e,r){return ix.operate(function(n,i){var o=0;n.subscribe(ox.createOperatorSubscriber(i,function(a){i.next(e.call(r,a,o++))}))})}kt.map=ax;var ux=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},sx=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(qt,"__esModule",{value:!0});qt.mapOneOrManyArgs=void 0;var cx=kt,lx=Array.isArray;function fx(e,r){return lx(r)?e.apply(void 0,sx([],ux(r))):e(r)}function hx(e){return cx.map(function(r){return fx(e,r)})}qt.mapOneOrManyArgs=hx;var dx=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},Tp=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.bindCallbackInternals=void 0;var vx=Rn,_x=he,px=Ur,yx=qt,mx=Lr,bx=Si;function _d(e,r,n,i){if(n)if(vx.isScheduler(n))i=n;else return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return _d(e,r,i).apply(this,o).pipe(yx.mapOneOrManyArgs(n))};return i?function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return _d(e,r).apply(this,o).pipe(px.subscribeOn(i),mx.observeOn(i))}:function(){for(var o=this,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var s=new bx.AsyncSubject,l=!0;return new _x.Observable(function(c){var f=s.subscribe(c);if(l){l=!1;var h=!1,d=!1;r.apply(o,Tp(Tp([],dx(a)),[function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(e){var O=p.shift();if(O!=null){s.error(O);return}}s.next(1<p.length?p:p[0]),d=!0,h&&s.complete()}])),d&&s.complete(),h=!0}return f})}}Aa.bindCallbackInternals=_d;Object.defineProperty(nl,"__esModule",{value:!0});nl.bindCallback=void 0;var gx=Aa;function Ox(e,r,n){return gx.bindCallbackInternals(!1,e,r,n)}nl.bindCallback=Ox;var il={};Object.defineProperty(il,"__esModule",{value:!0});il.bindNodeCallback=void 0;var wx=Aa;function Ex(e,r,n){return wx.bindCallbackInternals(!0,e,r,n)}il.bindNodeCallback=Ex;var Ir={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.argsArgArrayOrObject=void 0;var Sx=Array.isArray,Tx=Object.getPrototypeOf,Px=Object.prototype,Cx=Object.keys;function Ix(e){if(e.length===1){var r=e[0];if(Sx(r))return{args:r,keys:null};if(Ax(r)){var n=Cx(r);return{args:n.map(function(i){return r[i]}),keys:n}}}return{args:e,keys:null}}Ra.argsArgArrayOrObject=Ix;function Ax(e){return e&&typeof e=="object"&&Tx(e)===Px}var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.createObject=void 0;function Rx(e,r){return e.reduce(function(n,i,o){return n[i]=r[o],n},{})}ja.createObject=Rx;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.combineLatestInit=Ir.combineLatest=void 0;var jx=he,Mx=Ra,Bg=Mt,zg=De,Nx=qt,Pp=Ne,kx=ja,xx=J,$x=Nt;function Dx(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Pp.popScheduler(e),i=Pp.popResultSelector(e),o=Mx.argsArgArrayOrObject(e),a=o.args,u=o.keys;if(a.length===0)return Bg.from([],n);var s=new jx.Observable(Wg(a,n,u?function(l){return kx.createObject(u,l)}:zg.identity));return i?s.pipe(Nx.mapOneOrManyArgs(i)):s}Ir.combineLatest=Dx;function Wg(e,r,n){return n===void 0&&(n=zg.identity),function(i){Cp(r,function(){for(var o=e.length,a=new Array(o),u=o,s=o,l=function(f){Cp(r,function(){var h=Bg.from(e[f],r),d=!1;h.subscribe(xx.createOperatorSubscriber(i,function(p){a[f]=p,d||(d=!0,s--),s||i.next(n(a.slice()))},function(){--u||i.complete()}))},i)},c=0;c<o;c++)l(c)},i)}}Ir.combineLatestInit=Wg;function Cp(e,r,n){e?$x.executeSchedule(n,e,r):r()}var jn={},Mn={},Fr={},mt={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.mergeInternals=void 0;var Lx=re,Ux=Nt,Ip=J;function Fx(e,r,n,i,o,a,u,s){var l=[],c=0,f=0,h=!1,d=function(){h&&!l.length&&!c&&r.complete()},p=function(O){return c<i?m(O):l.push(O)},m=function(O){a&&r.next(O),c++;var T=!1;Lx.innerFrom(n(O,f++)).subscribe(Ip.createOperatorSubscriber(r,function(b){o==null||o(b),a?p(b):r.next(b)},function(){T=!0},void 0,function(){if(T)try{c--;for(var b=function(){var P=l.shift();u?Ux.executeSchedule(r,u,function(){return m(P)}):m(P)};l.length&&c<i;)b();d()}catch(P){r.error(P)}}))};return e.subscribe(Ip.createOperatorSubscriber(r,p,function(){h=!0,d()})),function(){s==null||s()}}Ai.mergeInternals=Fx;Object.defineProperty(mt,"__esModule",{value:!0});mt.mergeMap=void 0;var Bx=kt,zx=re,Wx=K,Vx=Ai,Hx=fe;function Vg(e,r,n){return n===void 0&&(n=1/0),Hx.isFunction(r)?Vg(function(i,o){return Bx.map(function(a,u){return r(i,a,o,u)})(zx.innerFrom(e(i,o)))},n):(typeof r=="number"&&(n=r),Wx.operate(function(i,o){return Vx.mergeInternals(i,o,e,n)}))}mt.mergeMap=Vg;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.mergeAll=void 0;var qx=mt,Gx=De;function Yx(e){return e===void 0&&(e=1/0),qx.mergeMap(Gx.identity,e)}Fr.mergeAll=Yx;Object.defineProperty(Mn,"__esModule",{value:!0});Mn.concatAll=void 0;var Kx=Fr;function Zx(){return Kx.mergeAll(1)}Mn.concatAll=Zx;Object.defineProperty(jn,"__esModule",{value:!0});jn.concat=void 0;var Xx=Mn,Qx=Ne,Jx=Mt;function e$(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Xx.concatAll()(Jx.from(e,Qx.popScheduler(e)))}jn.concat=e$;var ol={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.defer=void 0;var t$=he,r$=re;function n$(e){return new t$.Observable(function(r){r$.innerFrom(e()).subscribe(r)})}Nn.defer=n$;Object.defineProperty(ol,"__esModule",{value:!0});ol.connectable=void 0;var i$=Ae,o$=he,a$=Nn,u$={connector:function(){return new i$.Subject},resetOnDisconnect:!0};function s$(e,r){r===void 0&&(r=u$);var n=null,i=r.connector,o=r.resetOnDisconnect,a=o===void 0?!0:o,u=i(),s=new o$.Observable(function(l){return u.subscribe(l)});return s.connect=function(){return(!n||n.closed)&&(n=a$.defer(function(){return e}).subscribe(u),a&&n.add(function(){return u=i()})),n},s}ol.connectable=s$;var al={};Object.defineProperty(al,"__esModule",{value:!0});al.forkJoin=void 0;var c$=he,l$=Ra,f$=re,h$=Ne,d$=J,v$=qt,_$=ja;function p$(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=h$.popResultSelector(e),i=l$.argsArgArrayOrObject(e),o=i.args,a=i.keys,u=new c$.Observable(function(s){var l=o.length;if(!l){s.complete();return}for(var c=new Array(l),f=l,h=l,d=function(m){var O=!1;f$.innerFrom(o[m]).subscribe(d$.createOperatorSubscriber(s,function(T){O||(O=!0,h--),c[m]=T},function(){return f--},void 0,function(){(!f||!O)&&(h||s.next(a?_$.createObject(a,c):c),s.complete())}))},p=0;p<l;p++)d(p)});return n?u.pipe(v$.mapOneOrManyArgs(n)):u}al.forkJoin=p$;var ul={},y$=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a};Object.defineProperty(ul,"__esModule",{value:!0});ul.fromEvent=void 0;var m$=re,b$=he,g$=mt,O$=Pi,On=fe,w$=qt,E$=["addListener","removeListener"],S$=["addEventListener","removeEventListener"],T$=["on","off"];function pd(e,r,n,i){if(On.isFunction(n)&&(i=n,n=void 0),i)return pd(e,r,n).pipe(w$.mapOneOrManyArgs(i));var o=y$(I$(e)?S$.map(function(s){return function(l){return e[s](r,l,n)}}):P$(e)?E$.map(Ap(e,r)):C$(e)?T$.map(Ap(e,r)):[],2),a=o[0],u=o[1];if(!a&&O$.isArrayLike(e))return g$.mergeMap(function(s){return pd(s,r,n)})(m$.innerFrom(e));if(!a)throw new TypeError("Invalid event target");return new b$.Observable(function(s){var l=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return s.next(1<c.length?c:c[0])};return a(l),function(){return u(l)}})}ul.fromEvent=pd;function Ap(e,r){return function(n){return function(i){return e[n](r,i)}}}function P$(e){return On.isFunction(e.addListener)&&On.isFunction(e.removeListener)}function C$(e){return On.isFunction(e.on)&&On.isFunction(e.off)}function I$(e){return On.isFunction(e.addEventListener)&&On.isFunction(e.removeEventListener)}var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.fromEventPattern=void 0;var A$=he,R$=fe,j$=qt;function Hg(e,r,n){return n?Hg(e,r).pipe(j$.mapOneOrManyArgs(n)):new A$.Observable(function(i){var o=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return i.next(u.length===1?u[0]:u)},a=e(o);return R$.isFunction(r)?function(){return r(o,a)}:void 0})}sl.fromEventPattern=Hg;var cl={},M$=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(cl,"__esModule",{value:!0});cl.generate=void 0;var Rp=De,N$=Rn,k$=Nn,x$=Ea;function $$(e,r,n,i,o){var a,u,s,l;arguments.length===1?(a=e,l=a.initialState,r=a.condition,n=a.iterate,u=a.resultSelector,s=u===void 0?Rp.identity:u,o=a.scheduler):(l=e,!i||N$.isScheduler(i)?(s=Rp.identity,o=i):s=i);function c(){var f;return M$(this,function(h){switch(h.label){case 0:f=l,h.label=1;case 1:return!r||r(f)?[4,s(f)]:[3,4];case 2:h.sent(),h.label=3;case 3:return f=n(f),[3,1];case 4:return[2]}})}return k$.defer(o?function(){return x$.scheduleIterable(c(),o)}:c)}cl.generate=$$;var ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.iif=void 0;var D$=Nn;function L$(e,r,n){return D$.defer(function(){return e()?r:n})}ll.iif=L$;var Ma={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.timer=void 0;var U$=he,F$=ot,B$=Rn,z$=Ii;function W$(e,r,n){e===void 0&&(e=0),n===void 0&&(n=F$.async);var i=-1;return r!=null&&(B$.isScheduler(r)?n=r:i=r),new U$.Observable(function(o){var a=z$.isValidDate(e)?+e-n.now():e;a<0&&(a=0);var u=0;return n.schedule(function(){o.closed||(o.next(u++),0<=i?this.schedule(void 0,i):o.complete())},a)})}Gt.timer=W$;Object.defineProperty(Ma,"__esModule",{value:!0});Ma.interval=void 0;var V$=ot,H$=Gt;function q$(e,r){return e===void 0&&(e=0),r===void 0&&(r=V$.asyncScheduler),e<0&&(e=0),H$.timer(e,e,r)}Ma.interval=q$;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.merge=void 0;var G$=Fr,Y$=re,K$=At,jp=Ne,Z$=Mt;function X$(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=jp.popScheduler(e),i=jp.popNumber(e,1/0),o=e;return o.length?o.length===1?Y$.innerFrom(o[0]):G$.mergeAll(i)(Z$.from(o,n)):K$.EMPTY}fl.merge=X$;var yd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var r=he,n=$e;e.NEVER=new r.Observable(n.noop);function i(){return e.NEVER}e.never=i})(yd);var Na={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.argsOrArgArray=void 0;var Q$=Array.isArray;function J$(e){return e.length===1&&Q$(e[0])?e[0]:e}Yt.argsOrArgArray=J$;Object.defineProperty(Na,"__esModule",{value:!0});Na.onErrorResumeNext=void 0;var eD=he,tD=Yt,rD=J,Mp=$e,nD=re;function iD(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=tD.argsOrArgArray(e);return new eD.Observable(function(i){var o=0,a=function(){if(o<n.length){var u=void 0;try{u=nD.innerFrom(n[o++])}catch{a();return}var s=new rD.OperatorSubscriber(i,void 0,Mp.noop,Mp.noop);u.subscribe(s),s.add(a)}else i.complete()};a()})}Na.onErrorResumeNext=iD;var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.pairs=void 0;var oD=Mt;function aD(e,r){return oD.from(Object.entries(e),r)}hl.pairs=aD;var dl={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.not=void 0;function uD(e,r){return function(n,i){return!e.call(r,n,i)}}ka.not=uD;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.filter=void 0;var sD=K,cD=J;function lD(e,r){return sD.operate(function(n,i){var o=0;n.subscribe(cD.createOperatorSubscriber(i,function(a){return e.call(r,a,o++)&&i.next(a)}))})}xt.filter=lD;Object.defineProperty(dl,"__esModule",{value:!0});dl.partition=void 0;var fD=ka,Np=xt,kp=re;function hD(e,r,n){return[Np.filter(r,n)(kp.innerFrom(e)),Np.filter(fD.not(r,n))(kp.innerFrom(e))]}dl.partition=hD;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.raceInit=wn.race=void 0;var dD=he,qg=re,vD=Yt,_D=J;function pD(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e=vD.argsOrArgArray(e),e.length===1?qg.innerFrom(e[0]):new dD.Observable(Gg(e))}wn.race=pD;function Gg(e){return function(r){for(var n=[],i=function(a){n.push(qg.innerFrom(e[a]).subscribe(_D.createOperatorSubscriber(r,function(u){if(n){for(var s=0;s<n.length;s++)s!==a&&n[s].unsubscribe();n=null}r.next(u)})))},o=0;n&&!r.closed&&o<e.length;o++)i(o)}}wn.raceInit=Gg;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.range=void 0;var yD=he,mD=At;function bD(e,r,n){if(r==null&&(r=e,e=0),r<=0)return mD.EMPTY;var i=r+e;return new yD.Observable(n?function(o){var a=e;return n.schedule(function(){a<i?(o.next(a++),this.schedule()):o.complete()})}:function(o){for(var a=e;a<i&&!o.closed;)o.next(a++);o.complete()})}vl.range=bD;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.using=void 0;var gD=he,OD=re,wD=At;function ED(e,r){return new gD.Observable(function(n){var i=e(),o=r(i),a=o?OD.innerFrom(o):wD.EMPTY;return a.subscribe(n),function(){i&&i.unsubscribe()}})}_l.using=ED;var Ri={},SD=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},TD=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.zip=void 0;var PD=he,CD=re,ID=Yt,AD=At,RD=J,jD=Ne;function MD(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=jD.popResultSelector(e),i=ID.argsOrArgArray(e);return i.length?new PD.Observable(function(o){var a=i.map(function(){return[]}),u=i.map(function(){return!1});o.add(function(){a=u=null});for(var s=function(c){CD.innerFrom(i[c]).subscribe(RD.createOperatorSubscriber(o,function(f){if(a[c].push(f),a.every(function(d){return d.length})){var h=a.map(function(d){return d.shift()});o.next(n?n.apply(void 0,TD([],SD(h))):h),a.some(function(d,p){return!d.length&&u[p]})&&o.complete()}},function(){u[c]=!0,!a[c].length&&o.complete()}))},l=0;!o.closed&&l<i.length;l++)s(l);return function(){a=u=null}}):AD.EMPTY}Ri.zip=MD;var Yg={};Object.defineProperty(Yg,"__esModule",{value:!0});var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.audit=void 0;var ND=K,kD=re,xp=J;function xD(e){return ND.operate(function(r,n){var i=!1,o=null,a=null,u=!1,s=function(){if(a==null||a.unsubscribe(),a=null,i){i=!1;var c=o;o=null,n.next(c)}u&&n.complete()},l=function(){a=null,u&&n.complete()};r.subscribe(xp.createOperatorSubscriber(n,function(c){i=!0,o=c,a||kD.innerFrom(e(c)).subscribe(a=xp.createOperatorSubscriber(n,s,l))},function(){u=!0,(!i||!a||a.closed)&&n.complete()}))})}ji.audit=xD;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.auditTime=void 0;var $D=ot,DD=ji,LD=Gt;function UD(e,r){return r===void 0&&(r=$D.asyncScheduler),DD.audit(function(){return LD.timer(e,r)})}xa.auditTime=UD;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.buffer=void 0;var FD=K,BD=$e,$p=J,zD=re;function WD(e){return FD.operate(function(r,n){var i=[];return r.subscribe($p.createOperatorSubscriber(n,function(o){return i.push(o)},function(){n.next(i),n.complete()})),zD.innerFrom(e).subscribe($p.createOperatorSubscriber(n,function(){var o=i;i=[],n.next(o)},BD.noop)),function(){i=null}})}$a.buffer=WD;var Da={},mh=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Da,"__esModule",{value:!0});Da.bufferCount=void 0;var VD=K,HD=J,qD=jt;function GD(e,r){return r===void 0&&(r=null),r=r??e,VD.operate(function(n,i){var o=[],a=0;n.subscribe(HD.createOperatorSubscriber(i,function(u){var s,l,c,f,h=null;a++%r===0&&o.push([]);try{for(var d=mh(o),p=d.next();!p.done;p=d.next()){var m=p.value;m.push(u),e<=m.length&&(h=h??[],h.push(m))}}catch(b){s={error:b}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}if(h)try{for(var O=mh(h),T=O.next();!T.done;T=O.next()){var m=T.value;qD.arrRemove(o,m),i.next(m)}}catch(b){c={error:b}}finally{try{T&&!T.done&&(f=O.return)&&f.call(O)}finally{if(c)throw c.error}}},function(){var u,s;try{for(var l=mh(o),c=l.next();!c.done;c=l.next()){var f=c.value;i.next(f)}}catch(h){u={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}i.complete()},void 0,function(){o=null}))})}Da.bufferCount=GD;var La={},YD=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(La,"__esModule",{value:!0});La.bufferTime=void 0;var KD=xe,ZD=K,XD=J,QD=jt,JD=ot,eL=Ne,Dp=Nt;function tL(e){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(r=eL.popScheduler(i))!==null&&r!==void 0?r:JD.asyncScheduler,u=(n=i[0])!==null&&n!==void 0?n:null,s=i[1]||1/0;return ZD.operate(function(l,c){var f=[],h=!1,d=function(O){var T=O.buffer,b=O.subs;b.unsubscribe(),QD.arrRemove(f,O),c.next(T),h&&p()},p=function(){if(f){var O=new KD.Subscription;c.add(O);var T=[],b={buffer:T,subs:O};f.push(b),Dp.executeSchedule(O,a,function(){return d(b)},e)}};u!==null&&u>=0?Dp.executeSchedule(c,a,p,u,!0):h=!0,p();var m=XD.createOperatorSubscriber(c,function(O){var T,b,P=f.slice();try{for(var C=YD(P),E=C.next();!E.done;E=C.next()){var w=E.value,A=w.buffer;A.push(O),s<=A.length&&d(w)}}catch(j){T={error:j}}finally{try{E&&!E.done&&(b=C.return)&&b.call(C)}finally{if(T)throw T.error}}},function(){for(;f!=null&&f.length;)c.next(f.shift().buffer);m==null||m.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return f=null});l.subscribe(m)})}La.bufferTime=tL;var Ua={},rL=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.bufferToggle=void 0;var nL=xe,iL=K,Lp=re,bh=J,Up=$e,oL=jt;function aL(e,r){return iL.operate(function(n,i){var o=[];Lp.innerFrom(e).subscribe(bh.createOperatorSubscriber(i,function(a){var u=[];o.push(u);var s=new nL.Subscription,l=function(){oL.arrRemove(o,u),i.next(u),s.unsubscribe()};s.add(Lp.innerFrom(r(a)).subscribe(bh.createOperatorSubscriber(i,l,Up.noop)))},Up.noop)),n.subscribe(bh.createOperatorSubscriber(i,function(a){var u,s;try{for(var l=rL(o),c=l.next();!c.done;c=l.next()){var f=c.value;f.push(a)}}catch(h){u={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}},function(){for(;o.length>0;)i.next(o.shift());i.complete()}))})}Ua.bufferToggle=aL;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.bufferWhen=void 0;var uL=K,sL=$e,Fp=J,cL=re;function lL(e){return uL.operate(function(r,n){var i=null,o=null,a=function(){o==null||o.unsubscribe();var u=i;i=[],u&&n.next(u),cL.innerFrom(e()).subscribe(o=Fp.createOperatorSubscriber(n,a,sL.noop))};a(),r.subscribe(Fp.createOperatorSubscriber(n,function(u){return i==null?void 0:i.push(u)},function(){i&&n.next(i),n.complete()},void 0,function(){return i=o=null}))})}Fa.bufferWhen=lL;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.catchError=void 0;var fL=re,hL=J,dL=K;function Kg(e){return dL.operate(function(r,n){var i=null,o=!1,a;i=r.subscribe(hL.createOperatorSubscriber(n,void 0,void 0,function(u){a=fL.innerFrom(e(u,Kg(e)(r))),i?(i.unsubscribe(),i=null,a.subscribe(n)):o=!0})),o&&(i.unsubscribe(),i=null,a.subscribe(n))})}Ba.catchError=Kg;var za={},Mi={},Wa={},Ni={},_r={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.scanInternals=void 0;var vL=J;function _L(e,r,n,i,o){return function(a,u){var s=n,l=r,c=0;a.subscribe(vL.createOperatorSubscriber(u,function(f){var h=c++;l=s?e(l,f,h):(s=!0,f),i&&u.next(l)},o&&function(){s&&u.next(l),u.complete()}))}}Va.scanInternals=_L;Object.defineProperty(_r,"__esModule",{value:!0});_r.reduce=void 0;var pL=Va,yL=K;function mL(e,r){return yL.operate(pL.scanInternals(e,r,arguments.length>=2,!1,!0))}_r.reduce=mL;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.toArray=void 0;var bL=_r,gL=K,OL=function(e,r){return e.push(r),e};function wL(){return gL.operate(function(e,r){bL.reduce(OL,[])(e).subscribe(r)})}Ni.toArray=wL;Object.defineProperty(Wa,"__esModule",{value:!0});Wa.joinAllInternals=void 0;var EL=De,SL=qt,TL=vr,PL=mt,CL=Ni;function IL(e,r){return TL.pipe(CL.toArray(),PL.mergeMap(function(n){return e(n)}),r?SL.mapOneOrManyArgs(r):EL.identity)}Wa.joinAllInternals=IL;Object.defineProperty(Mi,"__esModule",{value:!0});Mi.combineLatestAll=void 0;var AL=Ir,RL=Wa;function jL(e){return RL.joinAllInternals(AL.combineLatest,e)}Mi.combineLatestAll=jL;Object.defineProperty(za,"__esModule",{value:!0});za.combineAll=void 0;var ML=Mi;za.combineAll=ML.combineLatestAll;var Ha={},qa={},Bp=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},zp=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(qa,"__esModule",{value:!0});qa.combineLatest=void 0;var NL=Ir,kL=K,xL=Yt,$L=qt,DL=vr,LL=Ne;function Zg(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=LL.popResultSelector(e);return n?DL.pipe(Zg.apply(void 0,zp([],Bp(e))),$L.mapOneOrManyArgs(n)):kL.operate(function(i,o){NL.combineLatestInit(zp([i],Bp(xL.argsOrArgArray(e))))(o)})}qa.combineLatest=Zg;var UL=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},FL=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.combineLatestWith=void 0;var BL=qa;function zL(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return BL.combineLatest.apply(void 0,FL([],UL(e)))}Ha.combineLatestWith=zL;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.concatMap=void 0;var Wp=mt,WL=fe;function VL(e,r){return WL.isFunction(r)?Wp.mergeMap(e,r,1):Wp.mergeMap(e,1)}ki.concatMap=VL;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.concatMapTo=void 0;var Vp=ki,HL=fe;function qL(e,r){return HL.isFunction(r)?Vp.concatMap(function(){return e},r):Vp.concatMap(function(){return e})}Ga.concatMapTo=qL;var Ya={},Ka={},GL=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},YL=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.concat=void 0;var KL=K,ZL=Mn,XL=Ne,QL=Mt;function JL(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=XL.popScheduler(e);return KL.operate(function(i,o){ZL.concatAll()(QL.from(YL([i],GL(e)),n)).subscribe(o)})}Ka.concat=JL;var eU=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},tU=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.concatWith=void 0;var rU=Ka;function nU(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return rU.concat.apply(void 0,tU([],eU(e)))}Ya.concatWith=nU;var kn={},pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.fromSubscribable=void 0;var iU=he;function oU(e){return new iU.Observable(function(r){return e.subscribe(r)})}pl.fromSubscribable=oU;Object.defineProperty(kn,"__esModule",{value:!0});kn.connect=void 0;var aU=Ae,uU=re,sU=K,cU=pl,lU={connector:function(){return new aU.Subject}};function fU(e,r){r===void 0&&(r=lU);var n=r.connector;return sU.operate(function(i,o){var a=n();uU.innerFrom(e(cU.fromSubscribable(a))).subscribe(o),o.add(i.subscribe(a))})}kn.connect=fU;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.count=void 0;var hU=_r;function dU(e){return hU.reduce(function(r,n,i){return!e||e(n,i)?r+1:r},0)}Za.count=dU;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.debounce=void 0;var vU=K,_U=$e,Hp=J,pU=re;function yU(e){return vU.operate(function(r,n){var i=!1,o=null,a=null,u=function(){if(a==null||a.unsubscribe(),a=null,i){i=!1;var s=o;o=null,n.next(s)}};r.subscribe(Hp.createOperatorSubscriber(n,function(s){a==null||a.unsubscribe(),i=!0,o=s,a=Hp.createOperatorSubscriber(n,u,_U.noop),pU.innerFrom(e(s)).subscribe(a)},function(){u(),n.complete()},void 0,function(){o=a=null}))})}Xa.debounce=yU;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.debounceTime=void 0;var mU=ot,bU=K,gU=J;function OU(e,r){return r===void 0&&(r=mU.asyncScheduler),bU.operate(function(n,i){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var c=a;a=null,i.next(c)}};function l(){var c=u+e,f=r.now();if(f<c){o=this.schedule(void 0,c-f),i.add(o);return}s()}n.subscribe(gU.createOperatorSubscriber(i,function(c){a=c,u=r.now(),o||(o=r.schedule(l,e),i.add(o))},function(){s(),i.complete()},void 0,function(){a=o=null}))})}Qa.debounceTime=OU;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.defaultIfEmpty=void 0;var wU=K,EU=J;function SU(e){return wU.operate(function(r,n){var i=!1;r.subscribe(EU.createOperatorSubscriber(n,function(o){i=!0,n.next(o)},function(){i||n.next(e),n.complete()}))})}Br.defaultIfEmpty=SU;var Ja={},xi={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.take=void 0;var TU=At,PU=K,CU=J;function IU(e){return e<=0?function(){return TU.EMPTY}:PU.operate(function(r,n){var i=0;r.subscribe(CU.createOperatorSubscriber(n,function(o){++i<=e&&(n.next(o),e<=i&&n.complete())}))})}zr.take=IU;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.ignoreElements=void 0;var AU=K,RU=J,jU=$e;function MU(){return AU.operate(function(e,r){e.subscribe(RU.createOperatorSubscriber(r,jU.noop))})}$i.ignoreElements=MU;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.mapTo=void 0;var NU=kt;function kU(e){return NU.map(function(){return e})}Di.mapTo=kU;Object.defineProperty(xi,"__esModule",{value:!0});xi.delayWhen=void 0;var xU=jn,qp=zr,$U=$i,DU=Di,LU=mt,UU=re;function Xg(e,r){return r?function(n){return xU.concat(r.pipe(qp.take(1),$U.ignoreElements()),n.pipe(Xg(e)))}:LU.mergeMap(function(n,i){return UU.innerFrom(e(n,i)).pipe(qp.take(1),DU.mapTo(n))})}xi.delayWhen=Xg;Object.defineProperty(Ja,"__esModule",{value:!0});Ja.delay=void 0;var FU=ot,BU=xi,zU=Gt;function WU(e,r){r===void 0&&(r=FU.asyncScheduler);var n=zU.timer(e,r);return BU.delayWhen(function(){return n})}Ja.delay=WU;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.dematerialize=void 0;var VU=Kc,HU=K,qU=J;function GU(){return HU.operate(function(e,r){e.subscribe(qU.createOperatorSubscriber(r,function(n){return VU.observeNotification(n,r)}))})}eu.dematerialize=GU;var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.distinct=void 0;var YU=K,Gp=J,KU=$e,ZU=re;function XU(e,r){return YU.operate(function(n,i){var o=new Set;n.subscribe(Gp.createOperatorSubscriber(i,function(a){var u=e?e(a):a;o.has(u)||(o.add(u),i.next(a))})),r&&ZU.innerFrom(r).subscribe(Gp.createOperatorSubscriber(i,function(){return o.clear()},KU.noop))})}tu.distinct=XU;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.distinctUntilChanged=void 0;var QU=De,JU=K,eF=J;function tF(e,r){return r===void 0&&(r=QU.identity),e=e??rF,JU.operate(function(n,i){var o,a=!0;n.subscribe(eF.createOperatorSubscriber(i,function(u){var s=r(u);(a||!e(o,s))&&(a=!1,o=s,i.next(u))}))})}Li.distinctUntilChanged=tF;function rF(e,r){return e===r}var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.distinctUntilKeyChanged=void 0;var nF=Li;function iF(e,r){return nF.distinctUntilChanged(function(n,i){return r?r(n[e],i[e]):n[e]===i[e]})}ru.distinctUntilKeyChanged=iF;var nu={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.throwIfEmpty=void 0;var oF=Ht,aF=K,uF=J;function sF(e){return e===void 0&&(e=cF),aF.operate(function(r,n){var i=!1;r.subscribe(uF.createOperatorSubscriber(n,function(o){i=!0,n.next(o)},function(){return i?n.complete():n.error(e())}))})}Wr.throwIfEmpty=sF;function cF(){return new oF.EmptyError}Object.defineProperty(nu,"__esModule",{value:!0});nu.elementAt=void 0;var Yp=Pa,lF=xt,fF=Wr,hF=Br,dF=zr;function vF(e,r){if(e<0)throw new Yp.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(i){return i.pipe(lF.filter(function(o,a){return a===e}),dF.take(1),n?hF.defaultIfEmpty(r):fF.throwIfEmpty(function(){return new Yp.ArgumentOutOfRangeError}))}}nu.elementAt=vF;var iu={},_F=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},pF=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(iu,"__esModule",{value:!0});iu.endWith=void 0;var yF=jn,mF=Ti;function bF(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(n){return yF.concat(n,mF.of.apply(void 0,pF([],_F(e))))}}iu.endWith=bF;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.every=void 0;var gF=K,OF=J;function wF(e,r){return gF.operate(function(n,i){var o=0;n.subscribe(OF.createOperatorSubscriber(i,function(a){e.call(r,a,o++,n)||(i.next(!1),i.complete())},function(){i.next(!0),i.complete()}))})}ou.every=wF;var au={},Ui={},Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.exhaustMap=void 0;var EF=kt,Kp=re,SF=K,Zp=J;function Qg(e,r){return r?function(n){return n.pipe(Qg(function(i,o){return Kp.innerFrom(e(i,o)).pipe(EF.map(function(a,u){return r(i,a,o,u)}))}))}:SF.operate(function(n,i){var o=0,a=null,u=!1;n.subscribe(Zp.createOperatorSubscriber(i,function(s){a||(a=Zp.createOperatorSubscriber(i,void 0,function(){a=null,u&&i.complete()}),Kp.innerFrom(e(s,o++)).subscribe(a))},function(){u=!0,!a&&i.complete()}))})}Fi.exhaustMap=Qg;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.exhaustAll=void 0;var TF=Fi,PF=De;function CF(){return TF.exhaustMap(PF.identity)}Ui.exhaustAll=CF;Object.defineProperty(au,"__esModule",{value:!0});au.exhaust=void 0;var IF=Ui;au.exhaust=IF.exhaustAll;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.expand=void 0;var AF=K,RF=Ai;function jF(e,r,n){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,AF.operate(function(i,o){return RF.mergeInternals(i,o,e,r,void 0,!0,n)})}uu.expand=jF;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.finalize=void 0;var MF=K;function NF(e){return MF.operate(function(r,n){try{r.subscribe(n)}finally{n.add(e)}})}su.finalize=NF;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createFind=Ar.find=void 0;var kF=K,xF=J;function $F(e,r){return kF.operate(Jg(e,r,"value"))}Ar.find=$F;function Jg(e,r,n){var i=n==="index";return function(o,a){var u=0;o.subscribe(xF.createOperatorSubscriber(a,function(s){var l=u++;e.call(r,s,l,o)&&(a.next(i?l:s),a.complete())},function(){a.next(i?-1:void 0),a.complete()}))}}Ar.createFind=Jg;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.findIndex=void 0;var DF=K,LF=Ar;function UF(e,r){return DF.operate(LF.createFind(e,r,"index"))}cu.findIndex=UF;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.first=void 0;var FF=Ht,BF=xt,zF=zr,WF=Br,VF=Wr,HF=De;function qF(e,r){var n=arguments.length>=2;return function(i){return i.pipe(e?BF.filter(function(o,a){return e(o,a,i)}):HF.identity,zF.take(1),n?WF.defaultIfEmpty(r):VF.throwIfEmpty(function(){return new FF.EmptyError}))}}lu.first=qF;var fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.groupBy=void 0;var GF=he,YF=re,KF=Ae,ZF=K,Xp=J;function XF(e,r,n,i){return ZF.operate(function(o,a){var u;!r||typeof r=="function"?u=r:(n=r.duration,u=r.element,i=r.connector);var s=new Map,l=function(m){s.forEach(m),m(a)},c=function(m){return l(function(O){return O.error(m)})},f=0,h=!1,d=new Xp.OperatorSubscriber(a,function(m){try{var O=e(m),T=s.get(O);if(!T){s.set(O,T=i?i():new KF.Subject);var b=p(O,T);if(a.next(b),n){var P=Xp.createOperatorSubscriber(T,function(){T.complete(),P==null||P.unsubscribe()},void 0,void 0,function(){return s.delete(O)});d.add(YF.innerFrom(n(b)).subscribe(P))}}T.next(u?u(m):m)}catch(C){c(C)}},function(){return l(function(m){return m.complete()})},c,function(){return s.clear()},function(){return h=!0,f===0});o.subscribe(d);function p(m,O){var T=new GF.Observable(function(b){f++;var P=O.subscribe(b);return function(){P.unsubscribe(),--f===0&&h&&d.unsubscribe()}});return T.key=m,T}})}fu.groupBy=XF;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.isEmpty=void 0;var QF=K,JF=J;function e4(){return QF.operate(function(e,r){e.subscribe(JF.createOperatorSubscriber(r,function(){r.next(!1),r.complete()},function(){r.next(!0),r.complete()}))})}hu.isEmpty=e4;var du={},Bi={},t4=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.takeLast=void 0;var r4=At,n4=K,i4=J;function o4(e){return e<=0?function(){return r4.EMPTY}:n4.operate(function(r,n){var i=[];r.subscribe(i4.createOperatorSubscriber(n,function(o){i.push(o),e<i.length&&i.shift()},function(){var o,a;try{for(var u=t4(i),s=u.next();!s.done;s=u.next()){var l=s.value;n.next(l)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}n.complete()},void 0,function(){i=null}))})}Bi.takeLast=o4;Object.defineProperty(du,"__esModule",{value:!0});du.last=void 0;var a4=Ht,u4=xt,s4=Bi,c4=Wr,l4=Br,f4=De;function h4(e,r){var n=arguments.length>=2;return function(i){return i.pipe(e?u4.filter(function(o,a){return e(o,a,i)}):f4.identity,s4.takeLast(1),n?l4.defaultIfEmpty(r):c4.throwIfEmpty(function(){return new a4.EmptyError}))}}du.last=h4;var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.materialize=void 0;var gh=Kc,d4=K,v4=J;function _4(){return d4.operate(function(e,r){e.subscribe(v4.createOperatorSubscriber(r,function(n){r.next(gh.Notification.createNext(n))},function(){r.next(gh.Notification.createComplete()),r.complete()},function(n){r.next(gh.Notification.createError(n)),r.complete()}))})}vu.materialize=_4;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.max=void 0;var p4=_r,y4=fe;function m4(e){return p4.reduce(y4.isFunction(e)?function(r,n){return e(r,n)>0?r:n}:function(r,n){return r>n?r:n})}_u.max=m4;var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.flatMap=void 0;var b4=mt;pu.flatMap=b4.mergeMap;var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.mergeMapTo=void 0;var Qp=mt,g4=fe;function O4(e,r,n){return n===void 0&&(n=1/0),g4.isFunction(r)?Qp.mergeMap(function(){return e},r,n):(typeof r=="number"&&(n=r),Qp.mergeMap(function(){return e},n))}yu.mergeMapTo=O4;var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.mergeScan=void 0;var w4=K,E4=Ai;function S4(e,r,n){return n===void 0&&(n=1/0),w4.operate(function(i,o){var a=r;return E4.mergeInternals(i,o,function(u,s){return e(a,u,s)},n,function(u){a=u},!1,void 0,function(){return a=null})})}mu.mergeScan=S4;var bu={},gu={},T4=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},P4=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(gu,"__esModule",{value:!0});gu.merge=void 0;var C4=K,I4=Yt,A4=Fr,Jp=Ne,R4=Mt;function j4(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Jp.popScheduler(e),i=Jp.popNumber(e,1/0);return e=I4.argsOrArgArray(e),C4.operate(function(o,a){A4.mergeAll(i)(R4.from(P4([o],T4(e)),n)).subscribe(a)})}gu.merge=j4;var M4=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},N4=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(bu,"__esModule",{value:!0});bu.mergeWith=void 0;var k4=gu;function x4(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return k4.merge.apply(void 0,N4([],M4(e)))}bu.mergeWith=x4;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.min=void 0;var $4=_r,D4=fe;function L4(e){return $4.reduce(D4.isFunction(e)?function(r,n){return e(r,n)<0?r:n}:function(r,n){return r<n?r:n})}Ou.min=L4;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.multicast=void 0;var U4=An,ey=fe,F4=kn;function B4(e,r){var n=ey.isFunction(e)?e:function(){return e};return ey.isFunction(r)?F4.connect(r,{connector:n}):function(i){return new U4.ConnectableObservable(i,n)}}xn.multicast=B4;var En={},z4=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},W4=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(En,"__esModule",{value:!0});En.onErrorResumeNext=En.onErrorResumeNextWith=void 0;var V4=Yt,H4=Na;function e0(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=V4.argsOrArgArray(e);return function(i){return H4.onErrorResumeNext.apply(void 0,W4([i],z4(n)))}}En.onErrorResumeNextWith=e0;En.onErrorResumeNext=e0;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.pairwise=void 0;var q4=K,G4=J;function Y4(){return q4.operate(function(e,r){var n,i=!1;e.subscribe(G4.createOperatorSubscriber(r,function(o){var a=n;n=o,i&&r.next([a,o]),i=!0}))})}wu.pairwise=Y4;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.pluck=void 0;var K4=kt;function Z4(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return K4.map(function(i){for(var o=i,a=0;a<n;a++){var u=o==null?void 0:o[e[a]];if(typeof u<"u")o=u;else return}return o})}Eu.pluck=Z4;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.publish=void 0;var X4=Ae,Q4=xn,J4=kn;function e3(e){return e?function(r){return J4.connect(e)(r)}:function(r){return Q4.multicast(new X4.Subject)(r)}}Su.publish=e3;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.publishBehavior=void 0;var t3=_a,r3=An;function n3(e){return function(r){var n=new t3.BehaviorSubject(e);return new r3.ConnectableObservable(r,function(){return n})}}Tu.publishBehavior=n3;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.publishLast=void 0;var i3=Si,o3=An;function a3(){return function(e){var r=new i3.AsyncSubject;return new o3.ConnectableObservable(e,function(){return r})}}Pu.publishLast=a3;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.publishReplay=void 0;var u3=Ei,s3=xn,ty=fe;function c3(e,r,n,i){n&&!ty.isFunction(n)&&(i=n);var o=ty.isFunction(n)?n:void 0;return function(a){return s3.multicast(new u3.ReplaySubject(e,r,i),o)(a)}}Cu.publishReplay=c3;var zi={},l3=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},f3=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(zi,"__esModule",{value:!0});zi.raceWith=void 0;var h3=wn,d3=K,v3=De;function _3(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?d3.operate(function(n,i){h3.raceInit(f3([n],l3(e)))(i)}):v3.identity}zi.raceWith=_3;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.repeat=void 0;var p3=At,y3=K,ry=J,m3=re,b3=Gt;function g3(e){var r,n=1/0,i;return e!=null&&(typeof e=="object"?(r=e.count,n=r===void 0?1/0:r,i=e.delay):n=e),n<=0?function(){return p3.EMPTY}:y3.operate(function(o,a){var u=0,s,l=function(){if(s==null||s.unsubscribe(),s=null,i!=null){var f=typeof i=="number"?b3.timer(i):m3.innerFrom(i(u)),h=ry.createOperatorSubscriber(a,function(){h.unsubscribe(),c()});f.subscribe(h)}else c()},c=function(){var f=!1;s=o.subscribe(ry.createOperatorSubscriber(a,void 0,function(){++u<n?s?l():f=!0:a.complete()})),f&&l()};c()})}Iu.repeat=g3;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.repeatWhen=void 0;var O3=re,w3=Ae,E3=K,ny=J;function S3(e){return E3.operate(function(r,n){var i,o=!1,a,u=!1,s=!1,l=function(){return s&&u&&(n.complete(),!0)},c=function(){return a||(a=new w3.Subject,O3.innerFrom(e(a)).subscribe(ny.createOperatorSubscriber(n,function(){i?f():o=!0},function(){u=!0,l()}))),a},f=function(){s=!1,i=r.subscribe(ny.createOperatorSubscriber(n,void 0,function(){s=!0,!l()&&c().next()})),o&&(i.unsubscribe(),i=null,o=!1,f())};f()})}Au.repeatWhen=S3;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.retry=void 0;var T3=K,iy=J,P3=De,C3=Gt,I3=re;function A3(e){e===void 0&&(e=1/0);var r;e&&typeof e=="object"?r=e:r={count:e};var n=r.count,i=n===void 0?1/0:n,o=r.delay,a=r.resetOnSuccess,u=a===void 0?!1:a;return i<=0?P3.identity:T3.operate(function(s,l){var c=0,f,h=function(){var d=!1;f=s.subscribe(iy.createOperatorSubscriber(l,function(p){u&&(c=0),l.next(p)},void 0,function(p){if(c++<i){var m=function(){f?(f.unsubscribe(),f=null,h()):d=!0};if(o!=null){var O=typeof o=="number"?C3.timer(o):I3.innerFrom(o(p,c)),T=iy.createOperatorSubscriber(l,function(){T.unsubscribe(),m()},function(){l.complete()});O.subscribe(T)}else m()}else l.error(p)})),d&&(f.unsubscribe(),f=null,h())};h()})}Ru.retry=A3;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.retryWhen=void 0;var R3=re,j3=Ae,M3=K,oy=J;function N3(e){return M3.operate(function(r,n){var i,o=!1,a,u=function(){i=r.subscribe(oy.createOperatorSubscriber(n,void 0,void 0,function(s){a||(a=new j3.Subject,R3.innerFrom(e(a)).subscribe(oy.createOperatorSubscriber(n,function(){return i?u():o=!0}))),a&&a.next(s)})),o&&(i.unsubscribe(),i=null,o=!1,u())};u()})}ju.retryWhen=N3;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.sample=void 0;var k3=re,x3=K,$3=$e,ay=J;function D3(e){return x3.operate(function(r,n){var i=!1,o=null;r.subscribe(ay.createOperatorSubscriber(n,function(a){i=!0,o=a})),k3.innerFrom(e).subscribe(ay.createOperatorSubscriber(n,function(){if(i){i=!1;var a=o;o=null,n.next(a)}},$3.noop))})}Wi.sample=D3;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.sampleTime=void 0;var L3=ot,U3=Wi,F3=Ma;function B3(e,r){return r===void 0&&(r=L3.asyncScheduler),U3.sample(F3.interval(e,r))}Mu.sampleTime=B3;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.scan=void 0;var z3=K,W3=Va;function V3(e,r){return z3.operate(W3.scanInternals(e,r,arguments.length>=2,!0))}Nu.scan=V3;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.sequenceEqual=void 0;var H3=K,q3=J,G3=re;function Y3(e,r){return r===void 0&&(r=function(n,i){return n===i}),H3.operate(function(n,i){var o=uy(),a=uy(),u=function(l){i.next(l),i.complete()},s=function(l,c){var f=q3.createOperatorSubscriber(i,function(h){var d=c.buffer,p=c.complete;d.length===0?p?u(!1):l.buffer.push(h):!r(h,d.shift())&&u(!1)},function(){l.complete=!0;var h=c.complete,d=c.buffer;h&&u(d.length===0),f==null||f.unsubscribe()});return f};n.subscribe(s(o,a)),G3.innerFrom(e).subscribe(s(a,o))})}ku.sequenceEqual=Y3;function uy(){return{buffer:[],complete:!1}}var Vi={},K3=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},Z3=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.share=void 0;var t0=re,X3=Ae,r0=Oi,Q3=K;function J3(e){e===void 0&&(e={});var r=e.connector,n=r===void 0?function(){return new X3.Subject}:r,i=e.resetOnError,o=i===void 0?!0:i,a=e.resetOnComplete,u=a===void 0?!0:a,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var f,h,d,p=0,m=!1,O=!1,T=function(){h==null||h.unsubscribe(),h=void 0},b=function(){T(),f=d=void 0,m=O=!1},P=function(){var C=f;b(),C==null||C.unsubscribe()};return Q3.operate(function(C,E){p++,!O&&!m&&T();var w=d=d??n();E.add(function(){p--,p===0&&!O&&!m&&(h=Oh(P,l))}),w.subscribe(E),!f&&p>0&&(f=new r0.SafeSubscriber({next:function(A){return w.next(A)},error:function(A){O=!0,T(),h=Oh(b,o,A),w.error(A)},complete:function(){m=!0,T(),h=Oh(b,u),w.complete()}}),t0.innerFrom(C).subscribe(f))})(c)}}Vi.share=J3;function Oh(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(r===!0){e();return}if(r!==!1){var o=new r0.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return t0.innerFrom(r.apply(void 0,Z3([],K3(n)))).subscribe(o)}}var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.shareReplay=void 0;var e8=Ei,t8=Vi;function r8(e,r,n){var i,o,a,u,s=!1;return e&&typeof e=="object"?(i=e.bufferSize,u=i===void 0?1/0:i,o=e.windowTime,r=o===void 0?1/0:o,a=e.refCount,s=a===void 0?!1:a,n=e.scheduler):u=e??1/0,t8.share({connector:function(){return new e8.ReplaySubject(u,r,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}xu.shareReplay=r8;var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.single=void 0;var n8=Ht,i8=Ia,o8=Ca,a8=K,u8=J;function s8(e){return a8.operate(function(r,n){var i=!1,o,a=!1,u=0;r.subscribe(u8.createOperatorSubscriber(n,function(s){a=!0,(!e||e(s,u++,r))&&(i&&n.error(new i8.SequenceError("Too many matching values")),i=!0,o=s)},function(){i?(n.next(o),n.complete()):n.error(a?new o8.NotFoundError("No matching values"):new n8.EmptyError)}))})}$u.single=s8;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.skip=void 0;var c8=xt;function l8(e){return c8.filter(function(r,n){return e<=n})}Du.skip=l8;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.skipLast=void 0;var f8=De,h8=K,d8=J;function v8(e){return e<=0?f8.identity:h8.operate(function(r,n){var i=new Array(e),o=0;return r.subscribe(d8.createOperatorSubscriber(n,function(a){var u=o++;if(u<e)i[u]=a;else{var s=u%e,l=i[s];i[s]=a,n.next(l)}})),function(){i=null}})}Lu.skipLast=v8;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.skipUntil=void 0;var _8=K,sy=J,p8=re,y8=$e;function m8(e){return _8.operate(function(r,n){var i=!1,o=sy.createOperatorSubscriber(n,function(){o==null||o.unsubscribe(),i=!0},y8.noop);p8.innerFrom(e).subscribe(o),r.subscribe(sy.createOperatorSubscriber(n,function(a){return i&&n.next(a)}))})}Uu.skipUntil=m8;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.skipWhile=void 0;var b8=K,g8=J;function O8(e){return b8.operate(function(r,n){var i=!1,o=0;r.subscribe(g8.createOperatorSubscriber(n,function(a){return(i||(i=!e(a,o++)))&&n.next(a)}))})}Fu.skipWhile=O8;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.startWith=void 0;var cy=jn,w8=Ne,E8=K;function S8(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=w8.popScheduler(e);return E8.operate(function(i,o){(n?cy.concat(e,i,n):cy.concat(e,i)).subscribe(o)})}Bu.startWith=S8;var zu={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.switchMap=void 0;var T8=re,P8=K,ly=J;function C8(e,r){return P8.operate(function(n,i){var o=null,a=0,u=!1,s=function(){return u&&!o&&i.complete()};n.subscribe(ly.createOperatorSubscriber(i,function(l){o==null||o.unsubscribe();var c=0,f=a++;T8.innerFrom(e(l,f)).subscribe(o=ly.createOperatorSubscriber(i,function(h){return i.next(r?r(l,h,f,c++):h)},function(){o=null,s()}))},function(){u=!0,s()}))})}Vr.switchMap=C8;Object.defineProperty(zu,"__esModule",{value:!0});zu.switchAll=void 0;var I8=Vr,A8=De;function R8(){return I8.switchMap(A8.identity)}zu.switchAll=R8;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.switchMapTo=void 0;var fy=Vr,j8=fe;function M8(e,r){return j8.isFunction(r)?fy.switchMap(function(){return e},r):fy.switchMap(function(){return e})}Wu.switchMapTo=M8;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.switchScan=void 0;var N8=Vr,k8=K;function x8(e,r){return k8.operate(function(n,i){var o=r;return N8.switchMap(function(a,u){return e(o,a,u)},function(a,u){return o=u,u})(n).subscribe(i),function(){o=null}})}Vu.switchScan=x8;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.takeUntil=void 0;var $8=K,D8=J,L8=re,U8=$e;function F8(e){return $8.operate(function(r,n){L8.innerFrom(e).subscribe(D8.createOperatorSubscriber(n,function(){return n.complete()},U8.noop)),!n.closed&&r.subscribe(n)})}Hu.takeUntil=F8;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.takeWhile=void 0;var B8=K,z8=J;function W8(e,r){return r===void 0&&(r=!1),B8.operate(function(n,i){var o=0;n.subscribe(z8.createOperatorSubscriber(i,function(a){var u=e(a,o++);(u||r)&&i.next(a),!u&&i.complete()}))})}qu.takeWhile=W8;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.tap=void 0;var V8=fe,H8=K,q8=J,G8=De;function Y8(e,r,n){var i=V8.isFunction(e)||r||n?{next:e,error:r,complete:n}:e;return i?H8.operate(function(o,a){var u;(u=i.subscribe)===null||u===void 0||u.call(i);var s=!0;o.subscribe(q8.createOperatorSubscriber(a,function(l){var c;(c=i.next)===null||c===void 0||c.call(i,l),a.next(l)},function(){var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),a.complete()},function(l){var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),a.error(l)},function(){var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):G8.identity}Gu.tap=Y8;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.throttle=void 0;var K8=K,hy=J,Z8=re;function X8(e,r){return K8.operate(function(n,i){var o=r??{},a=o.leading,u=a===void 0?!0:a,s=o.trailing,l=s===void 0?!1:s,c=!1,f=null,h=null,d=!1,p=function(){h==null||h.unsubscribe(),h=null,l&&(T(),d&&i.complete())},m=function(){h=null,d&&i.complete()},O=function(b){return h=Z8.innerFrom(e(b)).subscribe(hy.createOperatorSubscriber(i,p,m))},T=function(){if(c){c=!1;var b=f;f=null,i.next(b),!d&&O(b)}};n.subscribe(hy.createOperatorSubscriber(i,function(b){c=!0,f=b,!(h&&!h.closed)&&(u?T():O(b))},function(){d=!0,!(l&&c&&h&&!h.closed)&&i.complete()}))})}Hi.throttle=X8;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.throttleTime=void 0;var Q8=ot,J8=Hi,e6=Gt;function t6(e,r,n){r===void 0&&(r=Q8.asyncScheduler);var i=e6.timer(e,r);return J8.throttle(function(){return i},n)}Yu.throttleTime=t6;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.TimeInterval=Sn.timeInterval=void 0;var r6=ot,n6=K,i6=J;function o6(e){return e===void 0&&(e=r6.asyncScheduler),n6.operate(function(r,n){var i=e.now();r.subscribe(i6.createOperatorSubscriber(n,function(o){var a=e.now(),u=a-i;i=a,n.next(new n0(o,u))}))})}Sn.timeInterval=o6;var n0=function(){function e(r,n){this.value=r,this.interval=n}return e}();Sn.TimeInterval=n0;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.timeoutWith=void 0;var a6=ot,u6=Ii,s6=Qo;function c6(e,r,n){var i,o,a;if(n=n??a6.async,u6.isValidDate(e)?i=e:typeof e=="number"&&(o=e),r)a=function(){return r};else throw new TypeError("No observable provided to switch to");if(i==null&&o==null)throw new TypeError("No timeout provided.");return s6.timeout({first:i,each:o,scheduler:n,with:a})}Ku.timeoutWith=c6;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.timestamp=void 0;var l6=Bc,f6=kt;function h6(e){return e===void 0&&(e=l6.dateTimestampProvider),f6.map(function(r){return{value:r,timestamp:e.now()}})}Zu.timestamp=h6;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.window=void 0;var dy=Ae,d6=K,vy=J,v6=$e,_6=re;function p6(e){return d6.operate(function(r,n){var i=new dy.Subject;n.next(i.asObservable());var o=function(a){i.error(a),n.error(a)};return r.subscribe(vy.createOperatorSubscriber(n,function(a){return i==null?void 0:i.next(a)},function(){i.complete(),n.complete()},o)),_6.innerFrom(e).subscribe(vy.createOperatorSubscriber(n,function(){i.complete(),n.next(i=new dy.Subject)},v6.noop,o)),function(){i==null||i.unsubscribe(),i=null}})}Xu.window=p6;var Qu={},y6=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.windowCount=void 0;var _y=Ae,m6=K,b6=J;function g6(e,r){r===void 0&&(r=0);var n=r>0?r:e;return m6.operate(function(i,o){var a=[new _y.Subject],u=0;o.next(a[0].asObservable()),i.subscribe(b6.createOperatorSubscriber(o,function(s){var l,c;try{for(var f=y6(a),h=f.next();!h.done;h=f.next()){var d=h.value;d.next(s)}}catch(O){l={error:O}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}var p=u-e+1;if(p>=0&&p%n===0&&a.shift().complete(),++u%n===0){var m=new _y.Subject;a.push(m),o.next(m.asObservable())}},function(){for(;a.length>0;)a.shift().complete();o.complete()},function(s){for(;a.length>0;)a.shift().error(s);o.error(s)},function(){a=null}))})}Qu.windowCount=g6;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.windowTime=void 0;var O6=Ae,w6=ot,E6=xe,S6=K,T6=J,P6=jt,C6=Ne,py=Nt;function I6(e){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(r=C6.popScheduler(i))!==null&&r!==void 0?r:w6.asyncScheduler,u=(n=i[0])!==null&&n!==void 0?n:null,s=i[1]||1/0;return S6.operate(function(l,c){var f=[],h=!1,d=function(T){var b=T.window,P=T.subs;b.complete(),P.unsubscribe(),P6.arrRemove(f,T),h&&p()},p=function(){if(f){var T=new E6.Subscription;c.add(T);var b=new O6.Subject,P={window:b,subs:T,seen:0};f.push(P),c.next(b.asObservable()),py.executeSchedule(T,a,function(){return d(P)},e)}};u!==null&&u>=0?py.executeSchedule(c,a,p,u,!0):h=!0,p();var m=function(T){return f.slice().forEach(T)},O=function(T){m(function(b){var P=b.window;return T(P)}),T(c),c.unsubscribe()};return l.subscribe(T6.createOperatorSubscriber(c,function(T){m(function(b){b.window.next(T),s<=++b.seen&&d(b)})},function(){return O(function(T){return T.complete()})},function(T){return O(function(b){return b.error(T)})})),function(){f=null}})}Ju.windowTime=I6;var es={},A6=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(es,"__esModule",{value:!0});es.windowToggle=void 0;var R6=Ae,j6=xe,M6=K,yy=re,wh=J,my=$e,N6=jt;function k6(e,r){return M6.operate(function(n,i){var o=[],a=function(u){for(;0<o.length;)o.shift().error(u);i.error(u)};yy.innerFrom(e).subscribe(wh.createOperatorSubscriber(i,function(u){var s=new R6.Subject;o.push(s);var l=new j6.Subscription,c=function(){N6.arrRemove(o,s),s.complete(),l.unsubscribe()},f;try{f=yy.innerFrom(r(u))}catch(h){a(h);return}i.next(s.asObservable()),l.add(f.subscribe(wh.createOperatorSubscriber(i,c,my.noop,a)))},my.noop)),n.subscribe(wh.createOperatorSubscriber(i,function(u){var s,l,c=o.slice();try{for(var f=A6(c),h=f.next();!h.done;h=f.next()){var d=h.value;d.next(u)}}catch(p){s={error:p}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();i.complete()},a,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}es.windowToggle=k6;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.windowWhen=void 0;var x6=Ae,$6=K,by=J,D6=re;function L6(e){return $6.operate(function(r,n){var i,o,a=function(s){i.error(s),n.error(s)},u=function(){o==null||o.unsubscribe(),i==null||i.complete(),i=new x6.Subject,n.next(i.asObservable());var s;try{s=D6.innerFrom(e())}catch(l){a(l);return}s.subscribe(o=by.createOperatorSubscriber(n,u,u,a))};u(),r.subscribe(by.createOperatorSubscriber(n,function(s){return i.next(s)},function(){i.complete(),n.complete()},a,function(){o==null||o.unsubscribe(),i=null}))})}ts.windowWhen=L6;var rs={},gy=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},Oy=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(rs,"__esModule",{value:!0});rs.withLatestFrom=void 0;var U6=K,wy=J,F6=re,B6=De,z6=$e,W6=Ne;function V6(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=W6.popResultSelector(e);return U6.operate(function(i,o){for(var a=e.length,u=new Array(a),s=e.map(function(){return!1}),l=!1,c=function(h){F6.innerFrom(e[h]).subscribe(wy.createOperatorSubscriber(o,function(d){u[h]=d,!l&&!s[h]&&(s[h]=!0,(l=s.every(B6.identity))&&(s=null))},z6.noop))},f=0;f<a;f++)c(f);i.subscribe(wy.createOperatorSubscriber(o,function(h){if(l){var d=Oy([h],gy(u));o.next(n?n.apply(void 0,Oy([],gy(d))):d)}}))})}rs.withLatestFrom=V6;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.zipAll=void 0;var H6=Ri,q6=Wa;function G6(e){return q6.joinAllInternals(H6.zip,e)}ns.zipAll=G6;var is={},os={},Y6=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},K6=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(os,"__esModule",{value:!0});os.zip=void 0;var Z6=Ri,X6=K;function Q6(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return X6.operate(function(n,i){Z6.zip.apply(void 0,K6([n],Y6(e))).subscribe(i)})}os.zip=Q6;var J6=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},eB=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(is,"__esModule",{value:!0});is.zipWith=void 0;var tB=os;function rB(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return tB.zip.apply(void 0,eB([],J6(e)))}is.zipWith=rB;(function(e){var r=v&&v.__createBinding||(Object.create?function(Fn,Bn,Xt,Kr){Kr===void 0&&(Kr=Xt),Object.defineProperty(Fn,Kr,{enumerable:!0,get:function(){return Bn[Xt]}})}:function(Fn,Bn,Xt,Kr){Kr===void 0&&(Kr=Xt),Fn[Kr]=Bn[Xt]}),n=v&&v.__exportStar||function(Fn,Bn){for(var Xt in Fn)Xt!=="default"&&!Object.prototype.hasOwnProperty.call(Bn,Xt)&&r(Bn,Fn,Xt)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var i=he;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return i.Observable}});var o=An;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var a=In;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return a.observable}});var u=Fc;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var s=Ae;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=_a;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var c=Ei;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}});var f=Si;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return f.AsyncSubject}});var h=Cg;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var d=ot;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return d.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return d.asyncScheduler}});var p=Rg;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return p.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return p.queueScheduler}});var m=jg;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return m.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return m.animationFrameScheduler}});var O=fi;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return O.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return O.VirtualAction}});var T=pa;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return T.Scheduler}});var b=xe;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return b.Subscription}});var P=Oi;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return P.Subscriber}});var C=Kc;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return C.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return C.NotificationKind}});var E=vr;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return E.pipe}});var w=$e;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return w.noop}});var A=De;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return A.identity}});var j=el;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return j.isObservable}});var N=tl;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return N.lastValueFrom}});var z=rl;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return z.firstValueFrom}});var B=Pa;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return B.ArgumentOutOfRangeError}});var G=Ht;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return G.EmptyError}});var H=Ca;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return H.NotFoundError}});var X=va;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return X.ObjectUnsubscribedError}});var R=Ia;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var $=Qo;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return $.TimeoutError}});var k=ha;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return k.UnsubscriptionError}});var F=nl;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return F.bindCallback}});var U=il;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return U.bindNodeCallback}});var Y=Ir;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return Y.combineLatest}});var Z=jn;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return Z.concat}});var ee=ol;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return ee.connectable}});var W=Nn;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return W.defer}});var ae=At;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ae.empty}});var M=al;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return M.forkJoin}});var L=Mt;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return L.from}});var q=ul;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return q.fromEvent}});var Q=sl;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return Q.fromEventPattern}});var ne=cl;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return ne.generate}});var Se=ll;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Se.iif}});var Je=Ma;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Je.interval}});var Kt=fl;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Kt.merge}});var br=yd;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return br.never}});var $t=Ti;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return $t.of}});var Zt=Na;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Zt.onErrorResumeNext}});var Qi=hl;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Qi.pairs}});var Ji=dl;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Ji.partition}});var Gr=wn;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Gr.race}});var eo=vl;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return eo.range}});var to=Ta;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return to.throwError}});var Un=Gt;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Un.timer}});var gr=_l;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return gr.using}});var et=Ri;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return et.zip}});var Yr=ya;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Yr.scheduled}});var ro=At;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return ro.EMPTY}});var ft=yd;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return ft.NEVER}}),n(Yg,e);var no=xr;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return no.config}});var g=ji;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return g.audit}});var _=xa;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return _.auditTime}});var y=$a;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return y.buffer}});var S=Da;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return S.bufferCount}});var I=La;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return I.bufferTime}});var x=Ua;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return x.bufferToggle}});var D=Fa;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return D.bufferWhen}});var ue=Ba;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return ue.catchError}});var be=za;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return be.combineAll}});var _e=Mi;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return _e.combineLatestAll}});var ge=Ha;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return ge.combineLatestWith}});var le=Mn;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return le.concatAll}});var lf=ki;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return lf.concatMap}});var ff=Ga;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return ff.concatMapTo}});var hf=Ya;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return hf.concatWith}});var df=kn;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return df.connect}});var vf=Za;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return vf.count}});var _f=Xa;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return _f.debounce}});var pf=Qa;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return pf.debounceTime}});var yf=Br;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return yf.defaultIfEmpty}});var mf=Ja;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return mf.delay}});var bf=xi;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return bf.delayWhen}});var gf=eu;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return gf.dematerialize}});var Of=tu;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Of.distinct}});var wf=Li;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return wf.distinctUntilChanged}});var Ef=ru;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Ef.distinctUntilKeyChanged}});var Sf=nu;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Sf.elementAt}});var Tf=iu;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Tf.endWith}});var Pf=ou;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Pf.every}});var Cf=au;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Cf.exhaust}});var If=Ui;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return If.exhaustAll}});var Af=Fi;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Af.exhaustMap}});var Rf=uu;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return Rf.expand}});var jf=xt;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return jf.filter}});var Mf=su;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Mf.finalize}});var Nf=Ar;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Nf.find}});var kf=cu;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return kf.findIndex}});var xf=lu;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return xf.first}});var $f=fu;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return $f.groupBy}});var Df=$i;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Df.ignoreElements}});var Lf=hu;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Lf.isEmpty}});var Uf=du;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Uf.last}});var Ff=kt;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Ff.map}});var Bf=Di;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Bf.mapTo}});var zf=vu;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return zf.materialize}});var Wf=_u;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Wf.max}});var Vf=Fr;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Vf.mergeAll}});var Hf=pu;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Hf.flatMap}});var qf=mt;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return qf.mergeMap}});var Gf=yu;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Gf.mergeMapTo}});var Yf=mu;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return Yf.mergeScan}});var Y1=bu;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Y1.mergeWith}});var K1=Ou;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return K1.min}});var Z1=xn;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Z1.multicast}});var X1=Lr;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return X1.observeOn}});var Q1=En;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Q1.onErrorResumeNextWith}});var J1=wu;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return J1.pairwise}});var eO=Eu;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return eO.pluck}});var tO=Su;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return tO.publish}});var rO=Tu;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return rO.publishBehavior}});var nO=Pu;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return nO.publishLast}});var iO=Cu;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return iO.publishReplay}});var oO=zi;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return oO.raceWith}});var aO=_r;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return aO.reduce}});var uO=Iu;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return uO.repeat}});var sO=Au;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return sO.repeatWhen}});var cO=Ru;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return cO.retry}});var lO=ju;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return lO.retryWhen}});var fO=wi;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return fO.refCount}});var hO=Wi;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return hO.sample}});var dO=Mu;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return dO.sampleTime}});var vO=Nu;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return vO.scan}});var _O=ku;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return _O.sequenceEqual}});var pO=Vi;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return pO.share}});var yO=xu;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return yO.shareReplay}});var mO=$u;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return mO.single}});var bO=Du;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return bO.skip}});var gO=Lu;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return gO.skipLast}});var OO=Uu;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return OO.skipUntil}});var wO=Fu;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return wO.skipWhile}});var EO=Bu;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return EO.startWith}});var SO=Ur;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return SO.subscribeOn}});var TO=zu;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return TO.switchAll}});var PO=Vr;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return PO.switchMap}});var CO=Wu;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return CO.switchMapTo}});var IO=Vu;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return IO.switchScan}});var AO=zr;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return AO.take}});var RO=Bi;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return RO.takeLast}});var jO=Hu;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return jO.takeUntil}});var MO=qu;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return MO.takeWhile}});var NO=Gu;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return NO.tap}});var kO=Hi;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return kO.throttle}});var xO=Yu;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return xO.throttleTime}});var $O=Wr;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return $O.throwIfEmpty}});var DO=Sn;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return DO.timeInterval}});var LO=Qo;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return LO.timeout}});var UO=Ku;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return UO.timeoutWith}});var FO=Zu;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return FO.timestamp}});var BO=Ni;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return BO.toArray}});var zO=Xu;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return zO.window}});var WO=Qu;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return WO.windowCount}});var VO=Ju;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return VO.windowTime}});var HO=es;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return HO.windowToggle}});var qO=ts;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return qO.windowWhen}});var GO=rs;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return GO.withLatestFrom}});var YO=ns;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return YO.zipAll}});var KO=is;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return KO.zipWith}})})(fa);var yl={},ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.partition=void 0;var nB=ka,Ey=xt;function iB(e,r){return function(n){return[Ey.filter(e,r)(n),Ey.filter(nB.not(e,r))(n)]}}ml.partition=iB;var bl={},oB=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},aB=v&&v.__spreadArray||function(e,r){for(var n=0,i=r.length,o=e.length;n<i;n++,o++)e[o]=r[n];return e};Object.defineProperty(bl,"__esModule",{value:!0});bl.race=void 0;var uB=Yt,sB=zi;function cB(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sB.raceWith.apply(void 0,aB([],oB(uB.argsOrArgArray(e))))}bl.race=cB;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var r=ji;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return r.audit}});var n=xa;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return n.auditTime}});var i=$a;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return i.buffer}});var o=Da;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return o.bufferCount}});var a=La;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return a.bufferTime}});var u=Ua;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}});var s=Fa;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return s.bufferWhen}});var l=Ba;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return l.catchError}});var c=za;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return c.combineAll}});var f=Mi;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return f.combineLatestAll}});var h=qa;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return h.combineLatest}});var d=Ha;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return d.combineLatestWith}});var p=Ka;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return p.concat}});var m=Mn;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return m.concatAll}});var O=ki;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return O.concatMap}});var T=Ga;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return T.concatMapTo}});var b=Ya;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return b.concatWith}});var P=kn;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return P.connect}});var C=Za;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return C.count}});var E=Xa;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return E.debounce}});var w=Qa;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return w.debounceTime}});var A=Br;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return A.defaultIfEmpty}});var j=Ja;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return j.delay}});var N=xi;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return N.delayWhen}});var z=eu;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return z.dematerialize}});var B=tu;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return B.distinct}});var G=Li;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return G.distinctUntilChanged}});var H=ru;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return H.distinctUntilKeyChanged}});var X=nu;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return X.elementAt}});var R=iu;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return R.endWith}});var $=ou;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return $.every}});var k=au;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return k.exhaust}});var F=Ui;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return F.exhaustAll}});var U=Fi;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return U.exhaustMap}});var Y=uu;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return Y.expand}});var Z=xt;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Z.filter}});var ee=su;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return ee.finalize}});var W=Ar;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return W.find}});var ae=cu;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ae.findIndex}});var M=lu;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return M.first}});var L=fu;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return L.groupBy}});var q=$i;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return q.ignoreElements}});var Q=hu;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Q.isEmpty}});var ne=du;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return ne.last}});var Se=kt;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Se.map}});var Je=Di;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Je.mapTo}});var Kt=vu;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return Kt.materialize}});var br=_u;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return br.max}});var $t=gu;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return $t.merge}});var Zt=Fr;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Zt.mergeAll}});var Qi=pu;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Qi.flatMap}});var Ji=mt;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return Ji.mergeMap}});var Gr=yu;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Gr.mergeMapTo}});var eo=mu;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return eo.mergeScan}});var to=bu;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return to.mergeWith}});var Un=Ou;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Un.min}});var gr=xn;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return gr.multicast}});var et=Lr;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return et.observeOn}});var Yr=En;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Yr.onErrorResumeNext}});var ro=wu;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return ro.pairwise}});var ft=ml;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return ft.partition}});var no=Eu;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return no.pluck}});var g=Su;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return g.publish}});var _=Tu;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return _.publishBehavior}});var y=Pu;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return y.publishLast}});var S=Cu;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return S.publishReplay}});var I=bl;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return I.race}});var x=zi;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return x.raceWith}});var D=_r;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return D.reduce}});var ue=Iu;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return ue.repeat}});var be=Au;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return be.repeatWhen}});var _e=Ru;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return _e.retry}});var ge=ju;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return ge.retryWhen}});var le=wi;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return le.refCount}});var lf=Wi;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return lf.sample}});var ff=Mu;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return ff.sampleTime}});var hf=Nu;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return hf.scan}});var df=ku;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return df.sequenceEqual}});var vf=Vi;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return vf.share}});var _f=xu;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return _f.shareReplay}});var pf=$u;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return pf.single}});var yf=Du;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return yf.skip}});var mf=Lu;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return mf.skipLast}});var bf=Uu;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return bf.skipUntil}});var gf=Fu;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return gf.skipWhile}});var Of=Bu;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Of.startWith}});var wf=Ur;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return wf.subscribeOn}});var Ef=zu;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return Ef.switchAll}});var Sf=Vr;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Sf.switchMap}});var Tf=Wu;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Tf.switchMapTo}});var Pf=Vu;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Pf.switchScan}});var Cf=zr;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Cf.take}});var If=Bi;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return If.takeLast}});var Af=Hu;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Af.takeUntil}});var Rf=qu;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Rf.takeWhile}});var jf=Gu;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return jf.tap}});var Mf=Hi;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Mf.throttle}});var Nf=Yu;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Nf.throttleTime}});var kf=Wr;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return kf.throwIfEmpty}});var xf=Sn;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return xf.timeInterval}});var $f=Qo;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return $f.timeout}});var Df=Ku;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Df.timeoutWith}});var Lf=Zu;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Lf.timestamp}});var Uf=Ni;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Uf.toArray}});var Ff=Xu;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Ff.window}});var Bf=Qu;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Bf.windowCount}});var zf=Ju;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return zf.windowTime}});var Wf=es;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Wf.windowToggle}});var Vf=ts;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Vf.windowWhen}});var Hf=rs;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Hf.withLatestFrom}});var qf=os;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return qf.zip}});var Gf=ns;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Gf.zipAll}});var Yf=is;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return Yf.zipWith}})})(yl);var qi={},ii=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},oi=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(qi,"__esModule",{value:!0});var lB=oe,un=fa,en=yl,go={READY:0,STREAMING:1,COMPLETED:2},fB=function(){function e(r,n){var i=r.pipe((0,en.publishReplay)(1),(0,en.refCount)());this._result=i,this._keys=i.pipe((0,en.mergeMap)(function(o){return(0,un.from)(o.keys())}),(0,en.publishReplay)(1),(0,en.refCount)()),this._records=void 0,this._controls=new i0,this._summary=new un.ReplaySubject,this._state=n||go.READY}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var r=this,n=this._result.pipe((0,en.mergeMap)(function(i){return new un.Observable(function(o){return r._startStreaming({result:i,recordsObserver:o})})}));return n.push=function(){return r._push()},n},e.prototype.consume=function(){var r=this;return this._result.pipe((0,en.mergeMap)(function(n){return new un.Observable(function(i){return r._startStreaming({result:n,summaryObserver:i})})}))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(r){var n=r===void 0?{}:r,i=n.result,o=n.recordsObserver,a=o===void 0?null:o,u=n.summaryObserver,s=u===void 0?null:u,l=[];return s&&l.push(this._summary.subscribe(s)),this._state<go.STREAMING?(this._state=go.STREAMING,this._setupRecordsStream(i),a?l.push(this._records.subscribe(a)):i._cancel(),l.push({unsubscribe:function(){i._cancel&&i._cancel()}})):a&&a.error((0,lB.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){l.forEach(function(c){return c.unsubscribe()})}},e.prototype._toObservable=function(){var r=this;function n(i){return new un.Observable(function(o){o.next(i),o.complete()})}return new un.Observable(function(i){r._result.subscribe({complete:function(){return i.complete()},next:function(o){return i.next(new e(n(o)),r._state)},error:function(o){return i.error(o)}})})},e.prototype._setupRecordsStream=function(r){var n=this;return this._records?this._records:(this._records=hB(r[Symbol.asyncIterator](),{complete:function(){return ii(n,void 0,void 0,function(){var i,o;return oi(this,function(a){switch(a.label){case 0:return this._state=go.COMPLETED,o=(i=this._summary).next,[4,r.summary()];case 1:return o.apply(i,[a.sent()]),this._summary.complete(),[2]}})})},error:function(i){n._state=go.COMPLETED,n._summary.error(i)}},this._controls),this._records)},e}();qi.default=fB;function hB(e,r,n){var i=this;n===void 0&&(n=new i0);var o=new un.Subject,a=function(s){return ii(i,void 0,void 0,function(){var l,c,f,h;return oi(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,3,4]),n.pushing=!0,[4,s];case 1:return l=d.sent(),c=l.done,f=l.value,c?(o.complete(),r.complete()):(o.next(f),n.paused||a(e.next()).catch(function(){})),[3,4];case 2:return h=d.sent(),o.error(h),r.error(h),[3,4];case 3:return n.pushing=!1,[7];case 4:return[2]}})})};function u(s){return ii(this,void 0,void 0,function(){return oi(this,function(l){switch(l.label){case 0:return[4,a(e.next(s))];case 1:return l.sent(),[2]}})})}return n.pusher=u,u(),o}var i0=function(){function e(r){r===void 0&&(r=function(){return ii(n,void 0,void 0,function(){return oi(this,function(i){return[2]})})});var n=this;this._paused=!1,this._pushing=!1,this._push=r}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(r){this._pushing=r},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return ii(this,void 0,void 0,function(){var r;return oi(this,function(n){switch(n.label){case 0:return r=this._paused,this._paused=!1,r&&!this._pushing?[4,this._push()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.push=function(){return ii(this,void 0,void 0,function(){return oi(this,function(r){switch(r.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,r.sent()]}})})},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(r){this._push=r},enumerable:!1,configurable:!0}),e}(),as={},o0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});var As=fa,dB=o0(qi);o0(oe);var vB=function(){function e(r){this._txc=r}return e.prototype.run=function(r,n){var i=this;return new dB.default(new As.Observable(function(o){try{o.next(i._txc.run(r,n)),o.complete()}catch(a){o.error(a)}return function(){}}))},e.prototype.commit=function(){var r=this;return new As.Observable(function(n){r._txc.commit().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},e.prototype.rollback=function(){var r=this;return new As.Observable(function(n){r._txc.rollback().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var r=this;return new As.Observable(function(n){r._txc.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},e}();as.default=vB;var gl={},a0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});a0(qi);a0(as);var _B=function(){function e(r){var n=r.run;this._run=n}return e.fromTransaction=function(r){return new e({run:r.run.bind(r)})},e.prototype.run=function(r,n){return this._run(r,n)},e}();gl.default=_B;var cv={};Object.defineProperty(cv,"__esModule",{value:!0});var dc=oe,Eh=fa,Sh=yl;dc.internal.logger.Logger;var pB=dc.error.SERVICE_UNAVAILABLE,Sy=30*1e3,Ty=1e3,Py=2,Cy=.2,yB=function(){function e(r){var n=r===void 0?{}:r,i=n.maxRetryTimeout,o=i===void 0?Sy:i,a=n.initialDelay,u=a===void 0?Ty:a,s=n.delayMultiplier,l=s===void 0?Py:s,c=n.delayJitter,f=c===void 0?Cy:c,h=n.logger,d=h===void 0?null:h;this._maxRetryTimeout=Rs(o,Sy),this._initialDelay=Rs(u,Ty),this._delayMultiplier=Rs(l,Py),this._delayJitter=Rs(f,Cy),this._logger=d}return e.prototype.retry=function(r){var n=this;return r.pipe((0,Sh.retryWhen)(function(i){var o=[],a=Date.now(),u=1,s=n._initialDelay;return i.pipe((0,Sh.mergeMap)(function(l){if(!(0,dc.isRetriableError)(l))return(0,Eh.throwError)(function(){return l});if(o.push(l),u>=2&&Date.now()-a>=n._maxRetryTimeout){var c=(0,dc.newError)("Failed after retried for ".concat(u," times in ").concat(n._maxRetryTimeout," ms. Make sure that your database is online and retry again."),pB);return c.seenErrors=o,(0,Eh.throwError)(function(){return c})}var f=n._computeNextDelay(s);return s=s*n._delayMultiplier,u++,n._logger&&n._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,Eh.of)(1).pipe((0,Sh.delay)(f))}))}))},e.prototype._computeNextDelay=function(r){var n=r*this._delayJitter;return r-n+2*n*Math.random()},e}();cv.default=yB;function Rs(e,r){return e||e===0?e:r}var Ol=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});var Gn=fa,js=yl,mB=Ol(qi),u0=oe,bB=Ol(as),gB=Ol(gl),OB=Ol(cv),s0=u0.internal.constants,Iy=s0.ACCESS_MODE_READ,Ay=s0.ACCESS_MODE_WRITE,Ms=u0.internal.txConfig.TxConfig,wB=function(){function e(r){var n=r===void 0?{}:r,i=n.session,o=n.config;this._session=i,this._retryLogic=EB(o)}return e.prototype.run=function(r,n,i){var o=this;return new mB.default(new Gn.Observable(function(a){try{a.next(o._session.run(r,n,i)),a.complete()}catch(u){a.error(u)}return function(){}}))},e.prototype.beginTransaction=function(r){return this._beginTransaction(this._session._mode,r)},e.prototype.readTransaction=function(r,n){return this._runTransaction(Iy,r,n)},e.prototype.writeTransaction=function(r,n){return this._runTransaction(Ay,r,n)},e.prototype.executeRead=function(r,n){return this._executeInTransaction(Iy,r,n)},e.prototype.executeWrite=function(r,n){return this._executeInTransaction(Ay,r,n)},e.prototype._executeInTransaction=function(r,n,i){var o=function(a){return new gB.default({run:a.run.bind(a)})};return this._runTransaction(r,n,i,o)},e.prototype.close=function(){var r=this;return new Gn.Observable(function(n){r._session.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(r,n){var i=this,o=Ms.empty();return n&&(o=new Ms(n)),new Gn.Observable(function(a){try{i._session._beginTransaction(r,o).then(function(u){a.next(new bB.default(u)),a.complete()}).catch(function(u){return a.error(u)})}catch(u){a.error(u)}return function(){}})},e.prototype._runTransaction=function(r,n,i,o){o===void 0&&(o=function(u){return u});var a=Ms.empty();return i&&(a=new Ms(i)),this._retryLogic.retry(this._beginTransaction(r,a).pipe((0,js.mergeMap)(function(u){return(0,Gn.defer)(function(){try{return n(o(u))}catch(s){return(0,Gn.throwError)(function(){return s})}}).pipe((0,js.catchError)(function(s){return u.rollback().pipe((0,js.concatWith)((0,Gn.throwError)(function(){return s})))}),(0,js.concatWith)(u.commit()))})))},e}();Lc.default=wB;function EB(e){var r=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new OB.default({maxRetryTimeout:r})}var SB=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),TB=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});lr.WRITE=lr.READ=lr.Driver=void 0;var wl=oe,PB=TB(Lc),Ry=wl.internal.constants.FETCH_ALL,CB=wl.driver.READ,c0=wl.driver.WRITE;lr.READ=CB;lr.WRITE=c0;var l0=function(e){SB(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.rxSession=function(n){var i=n===void 0?{}:n,o=i.defaultAccessMode,a=o===void 0?c0:o,u=i.bookmarks,s=i.database,l=s===void 0?"":s,c=i.fetchSize,f=i.impersonatedUser,h=i.bookmarkManager,d=i.notificationFilter;return new PB.default({session:this._newSession({defaultAccessMode:a,bookmarkOrBookmarks:u,database:l,impersonatedUser:f,reactive:!1,fetchSize:IB(c,this._config.fetchSize),bookmarkManager:h,notificationFilter:d}),config:this._config})},r}(wl.Driver);lr.Driver=l0;function IB(e,r){var n=parseInt(e,10);if(n>0||n===Ry)return n;if(n===0||n<0)throw new Error("The fetch size can only be a positive value or ".concat(Ry," for ALL. However fetchSize = ").concat(n));return r}lr.default=l0;var lv={};Object.defineProperty(lv,"__esModule",{value:!0});lv.default="5.7.0";var f0={},Rr={},El={};Object.defineProperty(El,"__esModule",{value:!0});var AB=function(){function e(){}return e.prototype.selectReader=function(r){throw new Error("Abstract function")},e.prototype.selectWriter=function(r){throw new Error("Abstract function")},e}();El.default=AB;var fv={},hv={};Object.defineProperty(hv,"__esModule",{value:!0});var RB=function(){function e(r){this._offset=r||0}return e.prototype.next=function(r){if(r===0)return-1;var n=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),n%r},e}();hv.default=RB;var jB=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),h0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fv,"__esModule",{value:!0});var jy=h0(hv),MB=h0(El),NB=function(e){jB(r,e);function r(n){var i=e.call(this)||this;return i._readersIndex=new jy.default,i._writersIndex=new jy.default,i._connectionPool=n,i}return r.prototype.selectReader=function(n){return this._select(n,this._readersIndex)},r.prototype.selectWriter=function(n){return this._select(n,this._writersIndex)},r.prototype._select=function(n,i){var o=n.length;if(o===0)return null;var a=i.next(o),u=a,s=null,l=Number.MAX_SAFE_INTEGER;do{var c=n[u],f=this._connectionPool.activeResourceCount(c);f<l&&(s=c,l=f),u===o-1?u=0:u++}while(u!==a);return s},r}(MB.default);fv.default=NB;var d0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.LeastConnectedLoadBalancingStrategy=Rr.LoadBalancingStrategy=void 0;var kB=d0(El);Rr.LoadBalancingStrategy=kB.default;var v0=d0(fv);Rr.LeastConnectedLoadBalancingStrategy=v0.default;Rr.default=v0.default;var dv={},vv={},Gi={},hi={},_v={},pr={},Sl={},Tl={};Tl.byteLength=DB;Tl.toByteArray=UB;Tl.fromByteArray=zB;var Ut=[],vt=[],xB=typeof Uint8Array<"u"?Uint8Array:Array,Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yn=0,$B=Th.length;Yn<$B;++Yn)Ut[Yn]=Th[Yn],vt[Th.charCodeAt(Yn)]=Yn;vt["-".charCodeAt(0)]=62;vt["_".charCodeAt(0)]=63;function _0(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=r);var i=n===r?0:4-n%4;return[n,i]}function DB(e){var r=_0(e),n=r[0],i=r[1];return(n+i)*3/4-i}function LB(e,r,n){return(r+n)*3/4-n}function UB(e){var r,n=_0(e),i=n[0],o=n[1],a=new xB(LB(e,i,o)),u=0,s=o>0?i-4:i,l;for(l=0;l<s;l+=4)r=vt[e.charCodeAt(l)]<<18|vt[e.charCodeAt(l+1)]<<12|vt[e.charCodeAt(l+2)]<<6|vt[e.charCodeAt(l+3)],a[u++]=r>>16&255,a[u++]=r>>8&255,a[u++]=r&255;return o===2&&(r=vt[e.charCodeAt(l)]<<2|vt[e.charCodeAt(l+1)]>>4,a[u++]=r&255),o===1&&(r=vt[e.charCodeAt(l)]<<10|vt[e.charCodeAt(l+1)]<<4|vt[e.charCodeAt(l+2)]>>2,a[u++]=r>>8&255,a[u++]=r&255),a}function FB(e){return Ut[e>>18&63]+Ut[e>>12&63]+Ut[e>>6&63]+Ut[e&63]}function BB(e,r,n){for(var i,o=[],a=r;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),o.push(FB(i));return o.join("")}function zB(e){for(var r,n=e.length,i=n%3,o=[],a=16383,u=0,s=n-i;u<s;u+=a)o.push(BB(e,u,u+a>s?s:u+a));return i===1?(r=e[n-1],o.push(Ut[r>>2]+Ut[r<<4&63]+"==")):i===2&&(r=(e[n-2]<<8)+e[n-1],o.push(Ut[r>>10]+Ut[r>>4&63]+Ut[r<<2&63]+"=")),o.join("")}var pv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */pv.read=function(e,r,n,i,o){var a,u,s=o*8-i-1,l=(1<<s)-1,c=l>>1,f=-7,h=n?o-1:0,d=n?-1:1,p=e[r+h];for(h+=d,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=a*256+e[r+h],h+=d,f-=8);for(u=a&(1<<-f)-1,a>>=-f,f+=i;f>0;u=u*256+e[r+h],h+=d,f-=8);if(a===0)a=1-c;else{if(a===l)return u?NaN:(p?-1:1)*(1/0);u=u+Math.pow(2,i),a=a-c}return(p?-1:1)*u*Math.pow(2,a-i)};pv.write=function(e,r,n,i,o,a){var u,s,l,c=a*8-o-1,f=(1<<c)-1,h=f>>1,d=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,m=i?1:-1,O=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-u))<1&&(u--,l*=2),u+h>=1?r+=d/l:r+=d*Math.pow(2,1-h),r*l>=2&&(u++,l/=2),u+h>=f?(s=0,u=f):u+h>=1?(s=(r*l-1)*Math.pow(2,o),u=u+h):(s=r*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;e[n+p]=s&255,p+=m,s/=256,o-=8);for(u=u<<o|s,c+=o;c>0;e[n+p]=u&255,p+=m,u/=256,c-=8);e[n+p-m]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=Tl,n=pv,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=P,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const g=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(g,_),g.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function u(g){if(g>o)throw new RangeError('The value "'+g+'" is invalid for option "size"');const _=new Uint8Array(g);return Object.setPrototypeOf(_,s.prototype),_}function s(g,_,y){if(typeof g=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(g)}return l(g,_,y)}s.poolSize=8192;function l(g,_,y){if(typeof g=="string")return d(g,_);if(ArrayBuffer.isView(g))return m(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(et(g,ArrayBuffer)||g&&et(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(et(g,SharedArrayBuffer)||g&&et(g.buffer,SharedArrayBuffer)))return O(g,_,y);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const S=g.valueOf&&g.valueOf();if(S!=null&&S!==g)return s.from(S,_,y);const I=T(g);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return s.from(g[Symbol.toPrimitive]("string"),_,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}s.from=function(g,_,y){return l(g,_,y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function f(g,_,y){return c(g),g<=0?u(g):_!==void 0?typeof y=="string"?u(g).fill(_,y):u(g).fill(_):u(g)}s.alloc=function(g,_,y){return f(g,_,y)};function h(g){return c(g),u(g<0?0:b(g)|0)}s.allocUnsafe=function(g){return h(g)},s.allocUnsafeSlow=function(g){return h(g)};function d(g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!s.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const y=C(g,_)|0;let S=u(y);const I=S.write(g,_);return I!==y&&(S=S.slice(0,I)),S}function p(g){const _=g.length<0?0:b(g.length)|0,y=u(_);for(let S=0;S<_;S+=1)y[S]=g[S]&255;return y}function m(g){if(et(g,Uint8Array)){const _=new Uint8Array(g);return O(_.buffer,_.byteOffset,_.byteLength)}return p(g)}function O(g,_,y){if(_<0||g.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<_+(y||0))throw new RangeError('"length" is outside of buffer bounds');let S;return _===void 0&&y===void 0?S=new Uint8Array(g):y===void 0?S=new Uint8Array(g,_):S=new Uint8Array(g,_,y),Object.setPrototypeOf(S,s.prototype),S}function T(g){if(s.isBuffer(g)){const _=b(g.length)|0,y=u(_);return y.length===0||g.copy(y,0,0,_),y}if(g.length!==void 0)return typeof g.length!="number"||Yr(g.length)?u(0):p(g);if(g.type==="Buffer"&&Array.isArray(g.data))return p(g.data)}function b(g){if(g>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return g|0}function P(g){return+g!=g&&(g=0),s.alloc(+g)}s.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==s.prototype},s.compare=function(_,y){if(et(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),et(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),!s.isBuffer(_)||!s.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===y)return 0;let S=_.length,I=y.length;for(let x=0,D=Math.min(S,I);x<D;++x)if(_[x]!==y[x]){S=_[x],I=y[x];break}return S<I?-1:I<S?1:0},s.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(_,y){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return s.alloc(0);let S;if(y===void 0)for(y=0,S=0;S<_.length;++S)y+=_[S].length;const I=s.allocUnsafe(y);let x=0;for(S=0;S<_.length;++S){let D=_[S];if(et(D,Uint8Array))x+D.length>I.length?(s.isBuffer(D)||(D=s.from(D)),D.copy(I,x)):Uint8Array.prototype.set.call(I,D,x);else if(s.isBuffer(D))D.copy(I,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=D.length}return I};function C(g,_){if(s.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||et(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const y=g.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&y===0)return 0;let I=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Gr(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Un(g).length;default:if(I)return S?-1:Gr(g).length;_=(""+_).toLowerCase(),I=!0}}s.byteLength=C;function E(g,_,y){let S=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,_>>>=0,y<=_))return"";for(g||(g="utf8");;)switch(g){case"hex":return Y(this,_,y);case"utf8":case"utf-8":return R(this,_,y);case"ascii":return F(this,_,y);case"latin1":case"binary":return U(this,_,y);case"base64":return X(this,_,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,_,y);default:if(S)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),S=!0}}s.prototype._isBuffer=!0;function w(g,_,y){const S=g[_];g[_]=g[y],g[y]=S}s.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<_;y+=2)w(this,y,y+1);return this},s.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<_;y+=4)w(this,y,y+3),w(this,y+1,y+2);return this},s.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<_;y+=8)w(this,y,y+7),w(this,y+1,y+6),w(this,y+2,y+5),w(this,y+3,y+4);return this},s.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?R(this,0,_):E.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(_){if(!s.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:s.compare(this,_)===0},s.prototype.inspect=function(){let _="";const y=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(_+=" ... "),"<Buffer "+_+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(_,y,S,I,x){if(et(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),!s.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(y===void 0&&(y=0),S===void 0&&(S=_?_.length:0),I===void 0&&(I=0),x===void 0&&(x=this.length),y<0||S>_.length||I<0||x>this.length)throw new RangeError("out of range index");if(I>=x&&y>=S)return 0;if(I>=x)return-1;if(y>=S)return 1;if(y>>>=0,S>>>=0,I>>>=0,x>>>=0,this===_)return 0;let D=x-I,ue=S-y;const be=Math.min(D,ue),_e=this.slice(I,x),ge=_.slice(y,S);for(let le=0;le<be;++le)if(_e[le]!==ge[le]){D=_e[le],ue=ge[le];break}return D<ue?-1:ue<D?1:0};function A(g,_,y,S,I){if(g.length===0)return-1;if(typeof y=="string"?(S=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,Yr(y)&&(y=I?0:g.length-1),y<0&&(y=g.length+y),y>=g.length){if(I)return-1;y=g.length-1}else if(y<0)if(I)y=0;else return-1;if(typeof _=="string"&&(_=s.from(_,S)),s.isBuffer(_))return _.length===0?-1:j(g,_,y,S,I);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(g,_,y):Uint8Array.prototype.lastIndexOf.call(g,_,y):j(g,[_],y,S,I);throw new TypeError("val must be string, number or Buffer")}function j(g,_,y,S,I){let x=1,D=g.length,ue=_.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(g.length<2||_.length<2)return-1;x=2,D/=2,ue/=2,y/=2}function be(ge,le){return x===1?ge[le]:ge.readUInt16BE(le*x)}let _e;if(I){let ge=-1;for(_e=y;_e<D;_e++)if(be(g,_e)===be(_,ge===-1?0:_e-ge)){if(ge===-1&&(ge=_e),_e-ge+1===ue)return ge*x}else ge!==-1&&(_e-=_e-ge),ge=-1}else for(y+ue>D&&(y=D-ue),_e=y;_e>=0;_e--){let ge=!0;for(let le=0;le<ue;le++)if(be(g,_e+le)!==be(_,le)){ge=!1;break}if(ge)return _e}return-1}s.prototype.includes=function(_,y,S){return this.indexOf(_,y,S)!==-1},s.prototype.indexOf=function(_,y,S){return A(this,_,y,S,!0)},s.prototype.lastIndexOf=function(_,y,S){return A(this,_,y,S,!1)};function N(g,_,y,S){y=Number(y)||0;const I=g.length-y;S?(S=Number(S),S>I&&(S=I)):S=I;const x=_.length;S>x/2&&(S=x/2);let D;for(D=0;D<S;++D){const ue=parseInt(_.substr(D*2,2),16);if(Yr(ue))return D;g[y+D]=ue}return D}function z(g,_,y,S){return gr(Gr(_,g.length-y),g,y,S)}function B(g,_,y,S){return gr(eo(_),g,y,S)}function G(g,_,y,S){return gr(Un(_),g,y,S)}function H(g,_,y,S){return gr(to(_,g.length-y),g,y,S)}s.prototype.write=function(_,y,S,I){if(y===void 0)I="utf8",S=this.length,y=0;else if(S===void 0&&typeof y=="string")I=y,S=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(S)?(S=S>>>0,I===void 0&&(I="utf8")):(I=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-y;if((S===void 0||S>x)&&(S=x),_.length>0&&(S<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let D=!1;for(;;)switch(I){case"hex":return N(this,_,y,S);case"utf8":case"utf-8":return z(this,_,y,S);case"ascii":case"latin1":case"binary":return B(this,_,y,S);case"base64":return G(this,_,y,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,_,y,S);default:if(D)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),D=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(g,_,y){return _===0&&y===g.length?r.fromByteArray(g):r.fromByteArray(g.slice(_,y))}function R(g,_,y){y=Math.min(g.length,y);const S=[];let I=_;for(;I<y;){const x=g[I];let D=null,ue=x>239?4:x>223?3:x>191?2:1;if(I+ue<=y){let be,_e,ge,le;switch(ue){case 1:x<128&&(D=x);break;case 2:be=g[I+1],(be&192)===128&&(le=(x&31)<<6|be&63,le>127&&(D=le));break;case 3:be=g[I+1],_e=g[I+2],(be&192)===128&&(_e&192)===128&&(le=(x&15)<<12|(be&63)<<6|_e&63,le>2047&&(le<55296||le>57343)&&(D=le));break;case 4:be=g[I+1],_e=g[I+2],ge=g[I+3],(be&192)===128&&(_e&192)===128&&(ge&192)===128&&(le=(x&15)<<18|(be&63)<<12|(_e&63)<<6|ge&63,le>65535&&le<1114112&&(D=le))}}D===null?(D=65533,ue=1):D>65535&&(D-=65536,S.push(D>>>10&1023|55296),D=56320|D&1023),S.push(D),I+=ue}return k(S)}const $=4096;function k(g){const _=g.length;if(_<=$)return String.fromCharCode.apply(String,g);let y="",S=0;for(;S<_;)y+=String.fromCharCode.apply(String,g.slice(S,S+=$));return y}function F(g,_,y){let S="";y=Math.min(g.length,y);for(let I=_;I<y;++I)S+=String.fromCharCode(g[I]&127);return S}function U(g,_,y){let S="";y=Math.min(g.length,y);for(let I=_;I<y;++I)S+=String.fromCharCode(g[I]);return S}function Y(g,_,y){const S=g.length;(!_||_<0)&&(_=0),(!y||y<0||y>S)&&(y=S);let I="";for(let x=_;x<y;++x)I+=ro[g[x]];return I}function Z(g,_,y){const S=g.slice(_,y);let I="";for(let x=0;x<S.length-1;x+=2)I+=String.fromCharCode(S[x]+S[x+1]*256);return I}s.prototype.slice=function(_,y){const S=this.length;_=~~_,y=y===void 0?S:~~y,_<0?(_+=S,_<0&&(_=0)):_>S&&(_=S),y<0?(y+=S,y<0&&(y=0)):y>S&&(y=S),y<_&&(y=_);const I=this.subarray(_,y);return Object.setPrototypeOf(I,s.prototype),I};function ee(g,_,y){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+_>y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(_,y,S){_=_>>>0,y=y>>>0,S||ee(_,y,this.length);let I=this[_],x=1,D=0;for(;++D<y&&(x*=256);)I+=this[_+D]*x;return I},s.prototype.readUintBE=s.prototype.readUIntBE=function(_,y,S){_=_>>>0,y=y>>>0,S||ee(_,y,this.length);let I=this[_+--y],x=1;for(;y>0&&(x*=256);)I+=this[_+--y]*x;return I},s.prototype.readUint8=s.prototype.readUInt8=function(_,y){return _=_>>>0,y||ee(_,1,this.length),this[_]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(_,y){return _=_>>>0,y||ee(_,2,this.length),this[_]|this[_+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(_,y){return _=_>>>0,y||ee(_,2,this.length),this[_]<<8|this[_+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},s.prototype.readBigUInt64LE=ft(function(_){_=_>>>0,$t(_,"offset");const y=this[_],S=this[_+7];(y===void 0||S===void 0)&&Zt(_,this.length-8);const I=y+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,x=this[++_]+this[++_]*2**8+this[++_]*2**16+S*2**24;return BigInt(I)+(BigInt(x)<<BigInt(32))}),s.prototype.readBigUInt64BE=ft(function(_){_=_>>>0,$t(_,"offset");const y=this[_],S=this[_+7];(y===void 0||S===void 0)&&Zt(_,this.length-8);const I=y*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],x=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+S;return(BigInt(I)<<BigInt(32))+BigInt(x)}),s.prototype.readIntLE=function(_,y,S){_=_>>>0,y=y>>>0,S||ee(_,y,this.length);let I=this[_],x=1,D=0;for(;++D<y&&(x*=256);)I+=this[_+D]*x;return x*=128,I>=x&&(I-=Math.pow(2,8*y)),I},s.prototype.readIntBE=function(_,y,S){_=_>>>0,y=y>>>0,S||ee(_,y,this.length);let I=y,x=1,D=this[_+--I];for(;I>0&&(x*=256);)D+=this[_+--I]*x;return x*=128,D>=x&&(D-=Math.pow(2,8*y)),D},s.prototype.readInt8=function(_,y){return _=_>>>0,y||ee(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},s.prototype.readInt16LE=function(_,y){_=_>>>0,y||ee(_,2,this.length);const S=this[_]|this[_+1]<<8;return S&32768?S|4294901760:S},s.prototype.readInt16BE=function(_,y){_=_>>>0,y||ee(_,2,this.length);const S=this[_+1]|this[_]<<8;return S&32768?S|4294901760:S},s.prototype.readInt32LE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},s.prototype.readInt32BE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},s.prototype.readBigInt64LE=ft(function(_){_=_>>>0,$t(_,"offset");const y=this[_],S=this[_+7];(y===void 0||S===void 0)&&Zt(_,this.length-8);const I=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(S<<24);return(BigInt(I)<<BigInt(32))+BigInt(y+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),s.prototype.readBigInt64BE=ft(function(_){_=_>>>0,$t(_,"offset");const y=this[_],S=this[_+7];(y===void 0||S===void 0)&&Zt(_,this.length-8);const I=(y<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(I)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+S)}),s.prototype.readFloatLE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),n.read(this,_,!0,23,4)},s.prototype.readFloatBE=function(_,y){return _=_>>>0,y||ee(_,4,this.length),n.read(this,_,!1,23,4)},s.prototype.readDoubleLE=function(_,y){return _=_>>>0,y||ee(_,8,this.length),n.read(this,_,!0,52,8)},s.prototype.readDoubleBE=function(_,y){return _=_>>>0,y||ee(_,8,this.length),n.read(this,_,!1,52,8)};function W(g,_,y,S,I,x){if(!s.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>I||_<x)throw new RangeError('"value" argument is out of bounds');if(y+S>g.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(_,y,S,I){if(_=+_,y=y>>>0,S=S>>>0,!I){const ue=Math.pow(2,8*S)-1;W(this,_,y,S,ue,0)}let x=1,D=0;for(this[y]=_&255;++D<S&&(x*=256);)this[y+D]=_/x&255;return y+S},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(_,y,S,I){if(_=+_,y=y>>>0,S=S>>>0,!I){const ue=Math.pow(2,8*S)-1;W(this,_,y,S,ue,0)}let x=S-1,D=1;for(this[y+x]=_&255;--x>=0&&(D*=256);)this[y+x]=_/D&255;return y+S},s.prototype.writeUint8=s.prototype.writeUInt8=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,1,255,0),this[y]=_&255,y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,2,65535,0),this[y]=_&255,this[y+1]=_>>>8,y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,2,65535,0),this[y]=_>>>8,this[y+1]=_&255,y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,4,4294967295,0),this[y+3]=_>>>24,this[y+2]=_>>>16,this[y+1]=_>>>8,this[y]=_&255,y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,4,4294967295,0),this[y]=_>>>24,this[y+1]=_>>>16,this[y+2]=_>>>8,this[y+3]=_&255,y+4};function ae(g,_,y,S,I){br(_,S,I,g,y,7);let x=Number(_&BigInt(4294967295));g[y++]=x,x=x>>8,g[y++]=x,x=x>>8,g[y++]=x,x=x>>8,g[y++]=x;let D=Number(_>>BigInt(32)&BigInt(4294967295));return g[y++]=D,D=D>>8,g[y++]=D,D=D>>8,g[y++]=D,D=D>>8,g[y++]=D,y}function M(g,_,y,S,I){br(_,S,I,g,y,7);let x=Number(_&BigInt(4294967295));g[y+7]=x,x=x>>8,g[y+6]=x,x=x>>8,g[y+5]=x,x=x>>8,g[y+4]=x;let D=Number(_>>BigInt(32)&BigInt(4294967295));return g[y+3]=D,D=D>>8,g[y+2]=D,D=D>>8,g[y+1]=D,D=D>>8,g[y]=D,y+8}s.prototype.writeBigUInt64LE=ft(function(_,y=0){return ae(this,_,y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ft(function(_,y=0){return M(this,_,y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(_,y,S,I){if(_=+_,y=y>>>0,!I){const be=Math.pow(2,8*S-1);W(this,_,y,S,be-1,-be)}let x=0,D=1,ue=0;for(this[y]=_&255;++x<S&&(D*=256);)_<0&&ue===0&&this[y+x-1]!==0&&(ue=1),this[y+x]=(_/D>>0)-ue&255;return y+S},s.prototype.writeIntBE=function(_,y,S,I){if(_=+_,y=y>>>0,!I){const be=Math.pow(2,8*S-1);W(this,_,y,S,be-1,-be)}let x=S-1,D=1,ue=0;for(this[y+x]=_&255;--x>=0&&(D*=256);)_<0&&ue===0&&this[y+x+1]!==0&&(ue=1),this[y+x]=(_/D>>0)-ue&255;return y+S},s.prototype.writeInt8=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,1,127,-128),_<0&&(_=255+_+1),this[y]=_&255,y+1},s.prototype.writeInt16LE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,2,32767,-32768),this[y]=_&255,this[y+1]=_>>>8,y+2},s.prototype.writeInt16BE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,2,32767,-32768),this[y]=_>>>8,this[y+1]=_&255,y+2},s.prototype.writeInt32LE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,4,2147483647,-2147483648),this[y]=_&255,this[y+1]=_>>>8,this[y+2]=_>>>16,this[y+3]=_>>>24,y+4},s.prototype.writeInt32BE=function(_,y,S){return _=+_,y=y>>>0,S||W(this,_,y,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[y]=_>>>24,this[y+1]=_>>>16,this[y+2]=_>>>8,this[y+3]=_&255,y+4},s.prototype.writeBigInt64LE=ft(function(_,y=0){return ae(this,_,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ft(function(_,y=0){return M(this,_,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L(g,_,y,S,I,x){if(y+S>g.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function q(g,_,y,S,I){return _=+_,y=y>>>0,I||L(g,_,y,4),n.write(g,_,y,S,23,4),y+4}s.prototype.writeFloatLE=function(_,y,S){return q(this,_,y,!0,S)},s.prototype.writeFloatBE=function(_,y,S){return q(this,_,y,!1,S)};function Q(g,_,y,S,I){return _=+_,y=y>>>0,I||L(g,_,y,8),n.write(g,_,y,S,52,8),y+8}s.prototype.writeDoubleLE=function(_,y,S){return Q(this,_,y,!0,S)},s.prototype.writeDoubleBE=function(_,y,S){return Q(this,_,y,!1,S)},s.prototype.copy=function(_,y,S,I){if(!s.isBuffer(_))throw new TypeError("argument should be a Buffer");if(S||(S=0),!I&&I!==0&&(I=this.length),y>=_.length&&(y=_.length),y||(y=0),I>0&&I<S&&(I=S),I===S||_.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),_.length-y<I-S&&(I=_.length-y+S);const x=I-S;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,S,I):Uint8Array.prototype.set.call(_,this.subarray(S,I),y),x},s.prototype.fill=function(_,y,S,I){if(typeof _=="string"){if(typeof y=="string"?(I=y,y=0,S=this.length):typeof S=="string"&&(I=S,S=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(_.length===1){const D=_.charCodeAt(0);(I==="utf8"&&D<128||I==="latin1")&&(_=D)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(y<0||this.length<y||this.length<S)throw new RangeError("Out of range index");if(S<=y)return this;y=y>>>0,S=S===void 0?this.length:S>>>0,_||(_=0);let x;if(typeof _=="number")for(x=y;x<S;++x)this[x]=_;else{const D=s.isBuffer(_)?_:s.from(_,I),ue=D.length;if(ue===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(x=0;x<S-y;++x)this[x+y]=D[x%ue]}return this};const ne={};function Se(g,_,y){ne[g]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(g,_){return`The "${g}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(g,_,y){let S=`The value of "${g}" is out of range.`,I=y;return Number.isInteger(y)&&Math.abs(y)>2**32?I=Je(String(y)):typeof y=="bigint"&&(I=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(I=Je(I)),I+="n"),S+=` It must be ${_}. Received ${I}`,S},RangeError);function Je(g){let _="",y=g.length;const S=g[0]==="-"?1:0;for(;y>=S+4;y-=3)_=`_${g.slice(y-3,y)}${_}`;return`${g.slice(0,y)}${_}`}function Kt(g,_,y){$t(_,"offset"),(g[_]===void 0||g[_+y]===void 0)&&Zt(_,g.length-(y+1))}function br(g,_,y,S,I,x){if(g>y||g<_){const D=typeof _=="bigint"?"n":"";let ue;throw x>3?_===0||_===BigInt(0)?ue=`>= 0${D} and < 2${D} ** ${(x+1)*8}${D}`:ue=`>= -(2${D} ** ${(x+1)*8-1}${D}) and < 2 ** ${(x+1)*8-1}${D}`:ue=`>= ${_}${D} and <= ${y}${D}`,new ne.ERR_OUT_OF_RANGE("value",ue,g)}Kt(S,I,x)}function $t(g,_){if(typeof g!="number")throw new ne.ERR_INVALID_ARG_TYPE(_,"number",g)}function Zt(g,_,y){throw Math.floor(g)!==g?($t(g,y),new ne.ERR_OUT_OF_RANGE(y||"offset","an integer",g)):_<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE(y||"offset",`>= ${y?1:0} and <= ${_}`,g)}const Qi=/[^+/0-9A-Za-z-_]/g;function Ji(g){if(g=g.split("=")[0],g=g.trim().replace(Qi,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Gr(g,_){_=_||1/0;let y;const S=g.length;let I=null;const x=[];for(let D=0;D<S;++D){if(y=g.charCodeAt(D),y>55295&&y<57344){if(!I){if(y>56319){(_-=3)>-1&&x.push(239,191,189);continue}else if(D+1===S){(_-=3)>-1&&x.push(239,191,189);continue}I=y;continue}if(y<56320){(_-=3)>-1&&x.push(239,191,189),I=y;continue}y=(I-55296<<10|y-56320)+65536}else I&&(_-=3)>-1&&x.push(239,191,189);if(I=null,y<128){if((_-=1)<0)break;x.push(y)}else if(y<2048){if((_-=2)<0)break;x.push(y>>6|192,y&63|128)}else if(y<65536){if((_-=3)<0)break;x.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((_-=4)<0)break;x.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return x}function eo(g){const _=[];for(let y=0;y<g.length;++y)_.push(g.charCodeAt(y)&255);return _}function to(g,_){let y,S,I;const x=[];for(let D=0;D<g.length&&!((_-=2)<0);++D)y=g.charCodeAt(D),S=y>>8,I=y%256,x.push(I),x.push(S);return x}function Un(g){return r.toByteArray(Ji(g))}function gr(g,_,y,S){let I;for(I=0;I<S&&!(I+y>=_.length||I>=g.length);++I)_[I+y]=g[I];return I}function et(g,_){return g instanceof _||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===_.name}function Yr(g){return g!==g}const ro=function(){const g="0123456789abcdef",_=new Array(256);for(let y=0;y<16;++y){const S=y*16;for(let I=0;I<16;++I)_[S+I]=g[y]+g[I]}return _}();function ft(g){return typeof BigInt>"u"?no:g}function no(){throw new Error("BigInt not supported")}})(Sl);var $n={},Pl={},WB=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Pl,"__esModule",{value:!0});var p0=function(){function e(r){this.position=0,this.length=r}return e.prototype.getUInt8=function(r){throw new Error("Not implemented")},e.prototype.getInt8=function(r){throw new Error("Not implemented")},e.prototype.getFloat64=function(r){throw new Error("Not implemented")},e.prototype.putUInt8=function(r,n){throw new Error("Not implemented")},e.prototype.putInt8=function(r,n){throw new Error("Not implemented")},e.prototype.putFloat64=function(r,n){throw new Error("Not implemented")},e.prototype.getInt16=function(r){return this.getInt8(r)<<8|this.getUInt8(r+1)},e.prototype.getUInt16=function(r){return this.getUInt8(r)<<8|this.getUInt8(r+1)},e.prototype.getInt32=function(r){return this.getInt8(r)<<24|this.getUInt8(r+1)<<16|this.getUInt8(r+2)<<8|this.getUInt8(r+3)},e.prototype.getUInt32=function(r){return this.getUInt8(r)<<24|this.getUInt8(r+1)<<16|this.getUInt8(r+2)<<8|this.getUInt8(r+3)},e.prototype.getInt64=function(r){return this.getInt8(r)<<56|this.getUInt8(r+1)<<48|this.getUInt8(r+2)<<40|this.getUInt8(r+3)<<32|this.getUInt8(r+4)<<24|this.getUInt8(r+5)<<16|this.getUInt8(r+6)<<8|this.getUInt8(r+7)},e.prototype.getSlice=function(r,n){return new VB(r,n,this)},e.prototype.putInt16=function(r,n){this.putInt8(r,n>>8),this.putUInt8(r+1,n&255)},e.prototype.putUInt16=function(r,n){this.putUInt8(r,n>>8&255),this.putUInt8(r+1,n&255)},e.prototype.putInt32=function(r,n){this.putInt8(r,n>>24),this.putUInt8(r+1,n>>16&255),this.putUInt8(r+2,n>>8&255),this.putUInt8(r+3,n&255)},e.prototype.putUInt32=function(r,n){this.putUInt8(r,n>>24&255),this.putUInt8(r+1,n>>16&255),this.putUInt8(r+2,n>>8&255),this.putUInt8(r+3,n&255)},e.prototype.putInt64=function(r,n){this.putInt8(r,n>>48),this.putUInt8(r+1,n>>42&255),this.putUInt8(r+2,n>>36&255),this.putUInt8(r+3,n>>30&255),this.putUInt8(r+4,n>>24&255),this.putUInt8(r+5,n>>16&255),this.putUInt8(r+6,n>>8&255),this.putUInt8(r+7,n&255)},e.prototype.putBytes=function(r,n){for(var i=0,o=n.remaining();i<o;i++)this.putUInt8(r+i,n.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.writeUInt8=function(r){this.putUInt8(this._updatePos(1),r)},e.prototype.writeInt8=function(r){this.putInt8(this._updatePos(1),r)},e.prototype.writeInt16=function(r){this.putInt16(this._updatePos(2),r)},e.prototype.writeInt32=function(r){this.putInt32(this._updatePos(4),r)},e.prototype.writeUInt32=function(r){this.putUInt32(this._updatePos(4),r)},e.prototype.writeInt64=function(r){this.putInt64(this._updatePos(8),r)},e.prototype.writeFloat64=function(r){this.putFloat64(this._updatePos(8),r)},e.prototype.writeBytes=function(r){this.putBytes(this._updatePos(r.remaining()),r)},e.prototype.readSlice=function(r){return this.getSlice(this._updatePos(r),r)},e.prototype._updatePos=function(r){var n=this.position;return this.position+=r,n},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},e.prototype.toHex=function(){for(var r="",n=0;n<this.length;n++){var i=this.getUInt8(n).toString(16);i.length===1&&(i="0"+i),r+=i,n!==this.length-1&&(r+=" ")}return r},e}();Pl.default=p0;var VB=function(e){WB(r,e);function r(n,i,o){var a=e.call(this,i)||this;return a._start=n,a._inner=o,a}return r.prototype.putUInt8=function(n,i){this._inner.putUInt8(this._start+n,i)},r.prototype.getUInt8=function(n){return this._inner.getUInt8(this._start+n)},r.prototype.putInt8=function(n,i){this._inner.putInt8(this._start+n,i)},r.prototype.putFloat64=function(n,i){this._inner.putFloat64(this._start+n,i)},r.prototype.getInt8=function(n){return this._inner.getInt8(this._start+n)},r.prototype.getFloat64=function(n){return this._inner.getFloat64(this._start+n)},r}(p0),HB=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($n,"__esModule",{value:!0});$n.BaseBuffer=void 0;var y0=HB(Pl);$n.BaseBuffer=y0.default;$n.default=y0.default;var qB=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),m0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});pr.alloc=void 0;var Ns=m0(Sl),GB=m0($n),b0=function(e){qB(r,e);function r(n){var i=this,o=KB(n);return i=e.call(this,o.length)||this,i._buffer=o,i}return r.prototype.getUInt8=function(n){return this._buffer.readUInt8(n)},r.prototype.getInt8=function(n){return this._buffer.readInt8(n)},r.prototype.getFloat64=function(n){return this._buffer.readDoubleBE(n)},r.prototype.putUInt8=function(n,i){this._buffer.writeUInt8(i,n)},r.prototype.putInt8=function(n,i){this._buffer.writeInt8(i,n)},r.prototype.putFloat64=function(n,i){this._buffer.writeDoubleBE(i,n)},r.prototype.putBytes=function(n,i){if(i instanceof r){var o=Math.min(i.length-i.position,this.length-n);i._buffer.copy(this._buffer,n,i.position,i.position+o),i.position+=o}else e.prototype.putBytes.call(this,n,i)},r.prototype.getSlice=function(n,i){return new r(this._buffer.slice(n,n+i))},r}(GB.default);pr.default=b0;function YB(e){return new b0(e)}pr.alloc=YB;function KB(e){return e instanceof Ns.default.Buffer?e:typeof e=="number"&&typeof Ns.default.Buffer.alloc=="function"?Ns.default.Buffer.alloc(e):new Ns.default.Buffer(e)}var ZB=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_v,"__esModule",{value:!0});var My=ZB(pr),Xn=oe,g0=Xn.internal.util,O0=g0.ENCRYPTION_OFF,XB=g0.ENCRYPTION_ON,Ny=1,QB=3,JB=function(){function e(r,n,i){n===void 0&&(n=c5),i===void 0&&(i=function(c){return new WebSocket(c)});var o=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=r,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null;var a=i5(r,n),u=a.scheme,s=a.error;if(s){this._error=s;return}this._ws=e5(u,r.address,i),this._ws.binaryType="arraybuffer";var l=this;this._ws.onclose=function(c){c&&!c.wasClean&&l._handleConnectionError(),l._open=!1},this._ws.onopen=function(){l._clearConnectionTimeout();var c=l._pending;l._pending=null;for(var f=0;f<c.length;f++)l.write(c[f])},this._ws.onmessage=function(c){if(o._resetTimeout(),l.onmessage){var f=new My.default(c.data);l.onmessage(f)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired){this._error=(0,Xn.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),this.onerror&&this.onerror(this._error);return}this._open&&!this._timedout&&(this._error=(0,Xn.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(r){if(this._pending!==null)this._pending.push(r);else if(r instanceof My.default)try{this._ws.send(r._buffer)}catch(n){if(this._ws.readyState!==Ny)this._handleConnectionError();else throw n}else throw(0,Xn.newError)("Don't know how to send buffer: "+r)},e.prototype.close=function(){var r=this;return new Promise(function(n,i){r._ws&&r._ws.readyState!==QB?(r._open=!1,r.stopReceiveTimeout(),r._clearConnectionTimeout(),r._ws.onclose=function(){return n()},r._ws.close()):n()})},e.prototype.setupReceiveTimeout=function(r){this._receiveTimeout=r},e.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var r=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){r._receiveTimeoutId=null,r._timedout=!0,r.stopReceiveTimeout(),r._error=(0,Xn.newError)("Connection lost. Server didn't respond in ".concat(r._receiveTimeout,"ms"),r._config.connectionErrorCode),r.close(),r.onerror&&r.onerror(r._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var r=this,n=this._config.connectionTimeout;if(n){var i=this._ws;return setTimeout(function(){i.readyState!==Ny&&(r._connectionTimeoutFired=!0,i.close())},n)}return null},e.prototype._clearConnectionTimeout=function(){var r=this._connectionTimeoutId;(r||r===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(r))},e}();_v.default=JB;function e5(e,r,n){var i=e+"://"+r.asHostPort();try{return n(i)}catch(a){if(t5(a,r)){var o=n5(e,r);return n(o)}else throw a}}function t5(e,r){return e.name==="SyntaxError"&&r5(r.asHostPort())}function r5(e){return e.charAt(0)==="["&&e.indexOf("]")!==-1}function n5(e,r){var n=r.host().replace(/:/g,"-"),i=n.replace("%","s"),o=i+".ipv6-literal.net";return"".concat(e,"://").concat(o,":").concat(r.port())}function i5(e,r){var n=o5(e),i=a5(e),o=e.trust,a=u5(r);if(s5(n,i,a),i)return{scheme:"ws",error:null};if(a)return{scheme:"wss",error:null};if(n){if(!o||o==="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES")return{scheme:"wss",error:null};var u=(0,Xn.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+O0+'"` in the driver configuration.');return{scheme:null,error:u}}return{scheme:"ws",error:null}}function o5(e){return e.encrypted===!0||e.encrypted===XB}function a5(e){return e.encrypted===!1||e.encrypted===O0}function u5(e){var r=typeof e=="function"?e():"";return r&&r.toLowerCase().indexOf("https")>=0}function s5(e,r,n){n===null||(e&&!n?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):r&&n&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}function c5(){return typeof window<"u"&&window.location?window.location.protocol:null}var yv={},l5=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(yv,"__esModule",{value:!0});var f5=oe,h5=f5.internal.resolver.BaseHostNameResolver,d5=function(e){l5(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.resolve=function(n){return this._resolveToItself(n)},r}(h5);yv.default=d5;var w0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});hi.HostNameResolver=hi.Channel=void 0;var v5=w0(_v),_5=w0(yv);hi.Channel=v5.default;hi.HostNameResolver=_5.default;var di={},mv={},p5=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(mv,"__esModule",{value:!0});var y5=$n,m5=pr,b5=function(e){p5(r,e);function r(n){for(var i=this,o=0,a=0;a<n.length;a++)o+=n[a].length;return i=e.call(this,o)||this,i._buffers=n,i}return r.prototype.getUInt8=function(n){for(var i=0;i<this._buffers.length;i++){var o=this._buffers[i];if(n>=o.length)n-=o.length;else return o.getUInt8(n)}},r.prototype.getInt8=function(n){for(var i=0;i<this._buffers.length;i++){var o=this._buffers[i];if(n>=o.length)n-=o.length;else return o.getInt8(n)}},r.prototype.getFloat64=function(n){for(var i=(0,m5.alloc)(8),o=0;o<8;o++)i.putUInt8(o,this.getUInt8(n+o));return i.getFloat64(0)},r}(y5.BaseBuffer);mv.default=b5;var g5=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),E0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(di,"__esModule",{value:!0});di.Dechunker=di.Chunker=void 0;var O5=E0(Pl),ky=pr,w5=E0(mv),ks=2,E5=0,S5=1400,T5=function(e){g5(r,e);function r(n,i){var o=e.call(this,0)||this;return o._bufferSize=i||S5,o._ch=n,o._buffer=(0,ky.alloc)(o._bufferSize),o._currentChunkStart=0,o._chunkOpen=!1,o}return r.prototype.putUInt8=function(n,i){this._ensure(1),this._buffer.writeUInt8(i)},r.prototype.putInt8=function(n,i){this._ensure(1),this._buffer.writeInt8(i)},r.prototype.putFloat64=function(n,i){this._ensure(8),this._buffer.writeFloat64(i)},r.prototype.putBytes=function(n,i){for(;i.remaining()>0;)this._ensure(1),this._buffer.remaining()>i.remaining()?this._buffer.writeBytes(i):this._buffer.writeBytes(i.readSlice(this._buffer.remaining()));return this},r.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var n=this._buffer;this._buffer=null,this._ch.write(n.getSlice(0,n.position)),this._buffer=(0,ky.alloc)(this._bufferSize),this._chunkOpen=!1}return this},r.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<ks&&this.flush(),this._buffer.writeInt16(E5)},r.prototype._ensure=function(n){var i=this._chunkOpen?n:n+ks;this._buffer.remaining()<i&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+ks,this._chunkOpen=!0)},r.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var n=this._buffer.position-(this._currentChunkStart+ks);this._buffer.putUInt16(this._currentChunkStart,n),this._chunkOpen=!1}},r}(O5.default);di.Chunker=T5;var P5=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(r){return r.remaining()>=2?this._onHeader(r.readUInt16()):(this._partialChunkHeader=r.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(r){return this._onHeader((this._partialChunkHeader|r.readUInt8())&65535)},e.prototype.IN_CHUNK=function(r){return this._chunkSize<=r.remaining()?(this._currentMessage.push(r.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=r.remaining(),this._currentMessage.push(r.readSlice(r.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(r){},e.prototype._onHeader=function(r){if(r===0){var n=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:n=this._currentMessage[0];break;default:n=new w5.default(this._currentMessage);break}return this._currentMessage=[],this.onmessage(n),this.AWAITING_CHUNK}else return this._chunkSize=r,this.IN_CHUNK},e.prototype.write=function(r){for(;r.hasRemaining();)this._state=this._state(r)},e}();di.Dechunker=P5;var bv={};Object.defineProperty(bv,"__esModule",{value:!0});var Cl=oe,S0=Cl.internal.util,C5=S0.ENCRYPTION_OFF,I5=S0.ENCRYPTION_ON,A5=Cl.error.SERVICE_UNAVAILABLE,xy=[null,void 0,!0,!1,I5,C5],$y=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],R5=function(){function e(r,n,i){this.address=r,this.encrypted=j5(n),this.trust=M5(n),this.trustedCertificates=N5(n),this.knownHostsPath=k5(n),this.connectionErrorCode=i||A5,this.connectionTimeout=n.connectionTimeout}return e}();bv.default=R5;function j5(e){var r=e.encrypted;if(xy.indexOf(r)===-1)throw(0,Cl.newError)("Illegal value of the encrypted setting ".concat(r,". Expected one of ").concat(xy));return r}function M5(e){var r=e.trust;if($y.indexOf(r)===-1)throw(0,Cl.newError)("Illegal value of the trust setting ".concat(r,". Expected one of ").concat($y));return r}function N5(e){return e.trustedCertificates||[]}function k5(e){return e.knownHosts||null}var gv={},T0={},md={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,r){var n=Sl,i=n.Buffer;function o(u,s){for(var l in u)s[l]=u[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=a);function a(u,s,l){return i(u,s,l)}a.prototype=Object.create(i.prototype),o(i,a),a.from=function(u,s,l){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,s,l)},a.alloc=function(u,s,l){if(typeof u!="number")throw new TypeError("Argument must be a number");var c=i(u);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(md,md.exports);var x5=md.exports,Ov=x5.Buffer,Dy=Ov.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $5(e){if(!e)return"utf8";for(var r;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(r)return;e=(""+e).toLowerCase(),r=!0}}function D5(e){var r=$5(e);if(typeof r!="string"&&(Ov.isEncoding===Dy||!Dy(e)))throw new Error("Unknown encoding: "+e);return r||e}T0.StringDecoder=us;function us(e){this.encoding=D5(e);var r;switch(this.encoding){case"utf16le":this.text=W5,this.end=V5,r=4;break;case"utf8":this.fillLast=F5,r=4;break;case"base64":this.text=H5,this.end=q5,r=3;break;default:this.write=G5,this.end=Y5;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ov.allocUnsafe(r)}us.prototype.write=function(e){if(e.length===0)return"";var r,n;if(this.lastNeed){if(r=this.fillLast(e),r===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?r?r+this.text(e,n):this.text(e,n):r||""};us.prototype.end=z5;us.prototype.text=B5;us.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ph(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function L5(e,r,n){var i=r.length-1;if(i<n)return 0;var o=Ph(r[i]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--i<n||o===-2?0:(o=Ph(r[i]),o>=0?(o>0&&(e.lastNeed=o-2),o):--i<n||o===-2?0:(o=Ph(r[i]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function U5(e,r,n){if((r[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&r.length>1){if((r[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&r.length>2&&(r[2]&192)!==128)return e.lastNeed=2,"�"}}function F5(e){var r=this.lastTotal-this.lastNeed,n=U5(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,r,0,e.length),this.lastNeed-=e.length}function B5(e,r){var n=L5(this,e,r);if(!this.lastNeed)return e.toString("utf8",r);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",r,i)}function z5(e){var r=e&&e.length?this.write(e):"";return this.lastNeed?r+"�":r}function W5(e,r){if((e.length-r)%2===0){var n=e.toString("utf16le",r);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",r,e.length-1)}function V5(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,n)}return r}function H5(e,r){var n=(e.length-r)%3;return n===0?e.toString("base64",r):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",r,e.length-n))}function q5(e){var r=e&&e.length?this.write(e):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function G5(e){return e.toString(this.encoding)}function Y5(e){return e&&e.length?this.write(e):""}var P0=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gv,"__esModule",{value:!0});var K5=P0(pr),Z5=oe,Ch=P0(Sl),X5=T0,Ly=new X5.StringDecoder("utf8");function Q5(e){return new K5.default(nz(e))}function J5(e,r){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return ez(e,r);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return tz(e,r);throw(0,Z5.newError)("Don't know how to decode strings from '".concat(e,"'"))}function ez(e,r){var n=e.position,i=n+r;return e.position=Math.min(i,e.length),e._buffer.toString("utf8",n,i)}function tz(e,r){return rz(e,r,function(n){return Ly.write(n._buffer)},function(){return Ly.end()})}function rz(e,r,n,i){var o=r,a=e.position;e._updatePos(Math.min(r,e.length-a));var u=e._buffers.reduce(function(s,l){if(o<=0)return s;if(a>=l.length)return a-=l.length,"";l._updatePos(a-l.position);var c=Math.min(l.length-a,o),f=l.readSlice(c);return l._updatePos(c),o=Math.max(o-f.length,0),a=0,s+n(f)},"");return u+i()}function nz(e){return typeof Ch.default.Buffer.from=="function"?Ch.default.Buffer.from(e,"utf8"):new Ch.default.Buffer(e,"utf8")}gv.default={encode:Q5,decode:J5};(function(e){var r=v&&v.__createBinding||(Object.create?function(s,l,c,f){f===void 0&&(f=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,f,h)}:function(s,l,c,f){f===void 0&&(f=c),s[f]=l[c]}),n=v&&v.__exportStar||function(s,l){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&r(l,s,c)},i=v&&v.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,n(hi,e),n(di,e);var o=bv;Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return i(o).default}});var a=pr;Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return a.alloc}});var u=gv;Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return i(u).default}})})(Gi);Object.defineProperty(vv,"__esModule",{value:!0});var iz=Gi,C0=oe,oz=1616949271;function Kn(e,r){return{major:e,minor:r}}function az(e){if(e.length>4)throw(0,C0.newError)("It should not have more than 4 versions of the protocol");var r=(0,iz.alloc)(5*4);return r.writeInt32(oz),e.forEach(function(n){if(n instanceof Array){var i=n[0],o=i.major,a=i.minor,u=n[1].minor,s=a-u;r.writeInt32(s<<16|a<<8|o)}else{var o=n.major,a=n.minor;r.writeInt32(a<<8|o)}}),r.reset(),r}function uz(e){var r=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(r[0]===72&&r[1]===84&&r[2]===84&&r[3]===80)throw(0,C0.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(r[3]+"."+r[2])}function sz(){return az([[Kn(5,2),Kn(5,0)],[Kn(4,4),Kn(4,2)],Kn(4,1),Kn(3,0)])}function cz(e){var r=this;return new Promise(function(n,i){var o=function(a){i(a)};e.onerror=o.bind(r),e._error&&o(e._error),e.onmessage=function(a){try{var u=uz(a);n({protocolVersion:u,consumeRemainingBuffer:function(s){a.hasRemaining()&&s(a.readSlice(a.remaining()))}})}catch(s){i(s)}},e.write(sz())})}vv.default=cz;var wv={},Il={},Be={},ve={},Al={},Ev=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),lz=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});lz(oe);var Rl=function(){function e(){}return e.ofRecord=function(r){return r===null?e.ofNull():new dz(r)},e.ofMessageResponse=function(r){return r===null?e.ofNull():new fz(r)},e.ofNull=function(){return new hz},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();Al.default=Rl;var fz=function(e){Ev(r,e);function r(n){var i=e.call(this)||this;return i._response=n,i}return Object.defineProperty(r.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),r}(Rl),hz=function(e){Ev(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),r}(Rl),dz=function(e){Ev(r,e);function r(n){var i=e.call(this)||this;return i._record=n,i}return Object.defineProperty(r.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),r}(Rl),Hr=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vz=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.ProcedureRouteObserver=ve.RouteObserver=ve.CompletedObserver=ve.FailedObserver=ve.ResetObserver=ve.LogoffObserver=ve.LoginObserver=ve.ResultStreamObserver=ve.StreamObserver=void 0;var nt=oe,I0=vz(Al),_z=nt.internal.constants.FETCH_ALL,Tn=nt.error.PROTOCOL_ERROR,Dn=function(){function e(){}return e.prototype.onNext=function(r){},e.prototype.onError=function(r){},e.prototype.onCompleted=function(r){},e}();ve.StreamObserver=Dn;var Sv=function(e){Hr(r,e);function r(n){var i=n===void 0?{}:n,o=i.reactive,a=o===void 0?!1:o,u=i.moreFunction,s=i.discardFunction,l=i.fetchSize,c=l===void 0?_z:l,f=i.beforeError,h=i.afterError,d=i.beforeKeys,p=i.afterKeys,m=i.beforeComplete,O=i.afterComplete,T=i.server,b=i.highRecordWatermark,P=b===void 0?Number.MAX_VALUE:b,C=i.lowRecordWatermark,E=C===void 0?Number.MAX_VALUE:C,w=e.call(this)||this;return w._fieldKeys=null,w._fieldLookup=null,w._head=null,w._queuedRecords=[],w._tail=null,w._error=null,w._observers=[],w._meta={},w._server=T,w._beforeError=f,w._afterError=h,w._beforeKeys=d,w._afterKeys=p,w._beforeComplete=m,w._afterComplete=O,w._queryId=null,w._moreFunction=u,w._discardFunction=s,w._discard=!1,w._fetchSize=c,w._lowRecordWatermark=E,w._highRecordWatermark=P,w._setState(a?wt.READY:wt.READY_STREAMING),w._setupAutoPull(),w._paused=!1,w}return r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},r.prototype.onNext=function(n){var i=new nt.Record(this._fieldKeys,n,this._fieldLookup);this._observers.some(function(o){return o.onNext})?this._observers.forEach(function(o){o.onNext&&o.onNext(i)}):(this._queuedRecords.push(i),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},r.prototype.onCompleted=function(n){this._state.onSuccess(this,n)},r.prototype.onError=function(n){this._state.onError(this,n)},r.prototype.cancel=function(){this._discard=!0},r.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(wt.STREAMING)},r.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(wt.SUCCEEDED)},r.prototype.subscribe=function(n){if(this._head&&n.onKeys&&n.onKeys(this._head),this._queuedRecords.length>0&&n.onNext)for(var i=0;i<this._queuedRecords.length;i++)n.onNext(this._queuedRecords[i]),this._queuedRecords.length-i-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===wt.READY&&this._handleStreaming());this._tail&&n.onCompleted&&n.onCompleted(this._tail),this._error&&n.onError(this._error),this._observers.push(n),this._state===wt.READY&&this._handleStreaming()},r.prototype._handleHasMore=function(n){this._setState(wt.READY),this._handleStreaming(),delete n.has_more},r.prototype._handlePullSuccess=function(n){var i=this,o=Object.assign(this._server?{server:this._server}:{},this._meta,n);if(![void 0,null,"r","w","rw","s"].includes(o.type)){this.onError((0,nt.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(o.type,"'"),Tn));return}this._setState(wt.SUCCEEDED);var a=null;this._beforeComplete&&(a=this._beforeComplete(o));var u=function(){i._tail=o,i._observers.some(function(s){return s.onCompleted})&&i._observers.forEach(function(s){s.onCompleted&&s.onCompleted(o)}),i._afterComplete&&i._afterComplete(o)};a?Promise.resolve(a).then(function(){return u()}):u()},r.prototype._handleRunSuccess=function(n,i){var o=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},n.fields&&n.fields.length>0){this._fieldKeys=n.fields;for(var a=0;a<n.fields.length;a++)this._fieldLookup[n.fields[a]]=a;delete n.fields}n.qid!==null&&n.qid!==void 0&&(this._queryId=n.qid,delete n.qid),this._storeMetadataForCompletion(n);var u=null;this._beforeKeys&&(u=this._beforeKeys(this._fieldKeys));var s=function(){o._head=o._fieldKeys,o._observers.some(function(l){return l.onKeys})&&o._observers.forEach(function(l){l.onKeys&&l.onKeys(o._fieldKeys)}),o._afterKeys&&o._afterKeys(o._fieldKeys),i()};u?Promise.resolve(u).then(function(){return s()}):s()}},r.prototype._handleError=function(n){var i=this;this._setState(wt.FAILED),this._error=n;var o=null;this._beforeError&&(o=this._beforeError(n));var a=function(){i._observers.some(function(u){return u.onError})&&i._observers.forEach(function(u){u.onError&&u.onError(n)}),i._afterError&&i._afterError(n)};o?Promise.resolve(o).then(function(){return a()}):a()},r.prototype._handleStreaming=function(){this._head&&this._observers.some(function(n){return n.onNext||n.onCompleted})&&!this._paused&&(this._discard||this._autoPull)&&this._more()},r.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):this._moreFunction(this._queryId,this._fetchSize,this),this._setState(wt.STREAMING)},r.prototype._storeMetadataForCompletion=function(n){for(var i=Object.keys(n),o=i.length,a="";o--;)a=i[o],this._meta[a]=n[a]},r.prototype._setState=function(n){this._state=n},r.prototype._setupAutoPull=function(){this._autoPull=!0},r}(Dn);ve.ResultStreamObserver=Sv;var pz=function(e){Hr(r,e);function r(n){var i=n===void 0?{}:n,o=i.onError,a=i.onCompleted,u=e.call(this)||this;return u._onError=o,u._onCompleted=a,u}return r.prototype.onNext=function(n){this.onError((0,nt.newError)("Received RECORD when initializing "+nt.json.stringify(n)))},r.prototype.onError=function(n){this._onError&&this._onError(n)},r.prototype.onCompleted=function(n){this._onCompleted&&this._onCompleted(n)},r}(Dn);ve.LoginObserver=pz;var yz=function(e){Hr(r,e);function r(n){var i=n===void 0?{}:n,o=i.onError,a=i.onCompleted,u=e.call(this)||this;return u._onError=o,u._onCompleted=a,u}return r.prototype.onNext=function(n){this.onError((0,nt.newError)("Received RECORD when logging off "+nt.json.stringify(n)))},r.prototype.onError=function(n){this._onError&&this._onError(n)},r.prototype.onCompleted=function(n){this._onCompleted&&this._onCompleted(n)},r}(Dn);ve.LogoffObserver=yz;var mz=function(e){Hr(r,e);function r(n){var i=n===void 0?{}:n,o=i.onProtocolError,a=i.onError,u=i.onComplete,s=e.call(this)||this;return s._onProtocolError=o,s._onError=a,s._onComplete=u,s}return r.prototype.onNext=function(n){this.onError((0,nt.newError)("Received RECORD when resetting: received record is: "+nt.json.stringify(n),Tn))},r.prototype.onError=function(n){n.code===Tn&&this._onProtocolError&&this._onProtocolError(n.message),this._onError&&this._onError(n)},r.prototype.onCompleted=function(n){this._onComplete&&this._onComplete(n)},r}(Dn);ve.ResetObserver=mz;var bz=function(e){Hr(r,e);function r(n){var i=n.error,o=n.onError,a=e.call(this,{beforeError:o})||this;return a.onError(i),a}return r}(Sv);ve.FailedObserver=bz;var gz=function(e){Hr(r,e);function r(){var n=e.call(this)||this;return e.prototype.markCompleted.call(n),n}return r}(Sv);ve.CompletedObserver=gz;var Oz=function(e){Hr(r,e);function r(n){var i=n.resultObserver,o=n.onProtocolError,a=n.onError,u=n.onCompleted,s=e.call(this)||this;return s._resultObserver=i,s._onError=a,s._onCompleted=u,s._records=[],s._onProtocolError=o,i.subscribe(s),s}return r.prototype.onNext=function(n){this._records.push(n)},r.prototype.onError=function(n){n.code===Tn&&this._onProtocolError&&this._onProtocolError(n.message),this._onError&&this._onError(n)},r.prototype.onCompleted=function(){if(this._records!==null&&this._records.length!==1){this.onError((0,nt.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+nt.json.stringify(this._records),Tn));return}this._onCompleted&&this._onCompleted(I0.default.ofRecord(this._records[0]))},r}(Dn);ve.ProcedureRouteObserver=Oz;var wz=function(e){Hr(r,e);function r(n){var i=n===void 0?{}:n,o=i.onProtocolError,a=i.onError,u=i.onCompleted,s=e.call(this)||this;return s._onProtocolError=o,s._onError=a,s._onCompleted=u,s}return r.prototype.onNext=function(n){this.onError((0,nt.newError)("Received RECORD when resetting: received record is: "+nt.json.stringify(n),Tn))},r.prototype.onError=function(n){n.code===Tn&&this._onProtocolError&&this._onProtocolError(n.message),this._onError&&this._onError(n)},r.prototype.onCompleted=function(n){this._onCompleted&&this._onCompleted(I0.default.ofMessageResponse(n))},r}(Dn);ve.RouteObserver=wz;var wt={READY_STREAMING:{onSuccess:function(e,r){e._handleRunSuccess(r,function(){e._setState(wt.STREAMING)})},onError:function(e,r){e._handleError(r)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,r){e._handleRunSuccess(r,function(){return e._handleStreaming()})},onError:function(e,r){e._handleError(r)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,r){r.has_more?e._handleHasMore(r):e._handlePullSuccess(r)},onError:function(e,r){e._handleError(r)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}};Object.defineProperty(Be,"__esModule",{value:!0});Be.assertNotificationFilterIsEmpty=Be.assertImpersonatedUserIsEmpty=Be.assertTxConfigIsEmpty=Be.assertDatabaseIsEmpty=void 0;var Jo=oe;function Ez(e,r,n){if(r===void 0&&(r=function(){}),e&&!e.isEmpty()){var i=(0,Jo.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw r(i.message),n.onError(i),i}}Be.assertTxConfigIsEmpty=Ez;function Sz(e,r,n){if(r===void 0&&(r=function(){}),e){var i=(0,Jo.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw r(i.message),n.onError(i),i}}Be.assertDatabaseIsEmpty=Sz;function Tz(e,r,n){if(r===void 0&&(r=function(){}),e){var i=(0,Jo.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw r(i.message),n.onError(i),i}}Be.assertImpersonatedUserIsEmpty=Tz;function Pz(e,r,n){if(r===void 0&&(r=function(){}),e!==void 0){var i=(0,Jo.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(Jo.json.stringify(e),"."));throw r(i.message),n.onError(i),i}}Be.assertNotificationFilterIsEmpty=Pz;var Ye={},Pn={},jl={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.identity=void 0;function Cz(e){return e}ss.identity=Cz;var Iz=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),Az=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Rz=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Iz(r,e,n);return Az(r,e),r};Object.defineProperty(jl,"__esModule",{value:!0});jl.functional=void 0;jl.functional=Rz(ss);var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.verifyStructSize=jr.Structure=void 0;var A0=oe,jz=A0.error.PROTOCOL_ERROR,R0=function(){function e(r,n){this.signature=r,this.fields=n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var r="",n=0;n<this.fields.length;n++)n>0&&(r+=", "),r+=this.fields[n];return"Structure("+this.signature+", ["+r+"])"},e}();jr.Structure=R0;function Mz(e,r,n){if(r!==n)throw(0,A0.newError)("Wrong struct size for ".concat(e,", expected ").concat(r," but was ").concat(n),jz)}jr.verifyStructSize=Mz;jr.default=R0;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Unpacker=Pn.Packer=void 0;var jo=Gi,j0=jl,M0=jr,Me=oe,Nz=Me.error.PROTOCOL_ERROR,N0=128,k0=144,x0=160,$0=176,D0=192,L0=193,U0=194,F0=195,B0=200,z0=201,W0=202,V0=203,H0=208,q0=209,G0=210,Y0=212,K0=213,Z0=214,X0=204,Q0=205,J0=206,e1=216,t1=217,r1=218,n1=220,i1=221,kz=function(){function e(r){this._ch=r,this._byteArraysSupported=!0}return e.prototype.packable=function(r,n){var i=this;n===void 0&&(n=j0.functional.identity);try{r=n(r)}catch(u){return function(){throw u}}if(r===null)return function(){return i._ch.writeUInt8(D0)};if(r===!0)return function(){return i._ch.writeUInt8(F0)};if(r===!1)return function(){return i._ch.writeUInt8(U0)};if(typeof r=="number")return function(){return i.packFloat(r)};if(typeof r=="string")return function(){return i.packString(r)};if(typeof r=="bigint")return function(){return i.packInteger((0,Me.int)(r))};if((0,Me.isInt)(r))return function(){return i.packInteger(r)};if(r instanceof Int8Array)return function(){return i.packBytes(r)};if(r instanceof Array)return function(){i.packListHeader(r.length);for(var u=0;u<r.length;u++)i.packable(r[u]===void 0?null:r[u],n)()};if($z(r))return this.packableIterable(r,n);if(r instanceof M0.Structure){for(var o=[],a=0;a<r.fields.length;a++)o[a]=this.packable(r.fields[a],n);return function(){return i.packStruct(r.signature,o)}}else return typeof r=="object"?function(){for(var u=Object.keys(r),s=0,l=0;l<u.length;l++)r[u[l]]!==void 0&&s++;i.packMapHeader(s);for(var l=0;l<u.length;l++){var c=u[l];r[c]!==void 0&&(i.packString(c),i.packable(r[c],n)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(r))},e.prototype.packableIterable=function(r,n){try{var i=Array.from(r);return this.packable(i,n)}catch(o){throw(0,Me.newError)("Cannot pack given iterable, ".concat(o.message,": ").concat(r))}},e.prototype.packStruct=function(r,n){n=n||[],this.packStructHeader(n.length,r);for(var i=0;i<n.length;i++)n[i]()},e.prototype.packInteger=function(r){var n=r.high,i=r.low;r.greaterThanOrEqual(-16)&&r.lessThan(128)?this._ch.writeInt8(i):r.greaterThanOrEqual(-128)&&r.lessThan(-16)?(this._ch.writeUInt8(B0),this._ch.writeInt8(i)):r.greaterThanOrEqual(-32768)&&r.lessThan(32768)?(this._ch.writeUInt8(z0),this._ch.writeInt16(i)):r.greaterThanOrEqual(-2147483648)&&r.lessThan(2147483648)?(this._ch.writeUInt8(W0),this._ch.writeInt32(i)):(this._ch.writeUInt8(V0),this._ch.writeInt32(n),this._ch.writeInt32(i))},e.prototype.packFloat=function(r){this._ch.writeUInt8(L0),this._ch.writeFloat64(r)},e.prototype.packString=function(r){var n=jo.utf8.encode(r),i=n.length;if(i<16)this._ch.writeUInt8(N0|i),this._ch.writeBytes(n);else if(i<256)this._ch.writeUInt8(H0),this._ch.writeUInt8(i),this._ch.writeBytes(n);else if(i<65536)this._ch.writeUInt8(q0),this._ch.writeUInt8(i/256>>0),this._ch.writeUInt8(i%256),this._ch.writeBytes(n);else if(i<4294967296)this._ch.writeUInt8(G0),this._ch.writeUInt8((i/16777216>>0)%256),this._ch.writeUInt8((i/65536>>0)%256),this._ch.writeUInt8((i/256>>0)%256),this._ch.writeUInt8(i%256),this._ch.writeBytes(n);else throw(0,Me.newError)("UTF-8 strings of size "+i+" are not supported")},e.prototype.packListHeader=function(r){if(r<16)this._ch.writeUInt8(k0|r);else if(r<256)this._ch.writeUInt8(Y0),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(K0),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(Z0),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,Me.newError)("Lists of size "+r+" are not supported")},e.prototype.packBytes=function(r){if(this._byteArraysSupported){this.packBytesHeader(r.length);for(var n=0;n<r.length;n++)this._ch.writeInt8(r[n])}else throw(0,Me.newError)("Byte arrays are not supported by the database this driver is connected to")},e.prototype.packBytesHeader=function(r){if(r<256)this._ch.writeUInt8(X0),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(Q0),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(J0),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,Me.newError)("Byte arrays of size "+r+" are not supported")},e.prototype.packMapHeader=function(r){if(r<16)this._ch.writeUInt8(x0|r);else if(r<256)this._ch.writeUInt8(e1),this._ch.writeUInt8(r);else if(r<65536)this._ch.writeUInt8(t1),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256);else if(r<4294967296)this._ch.writeUInt8(r1),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256);else throw(0,Me.newError)("Maps of size "+r+" are not supported")},e.prototype.packStructHeader=function(r,n){if(r<16)this._ch.writeUInt8($0|r),this._ch.writeUInt8(n);else if(r<256)this._ch.writeUInt8(n1),this._ch.writeUInt8(r),this._ch.writeUInt8(n);else if(r<65536)this._ch.writeUInt8(i1),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256);else throw(0,Me.newError)("Structures of size "+r+" are not supported")},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(r){return function(){throw(0,Me.newError)(r,Nz)}},e}();Pn.Packer=kz;var xz=function(){function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1),this._disableLosslessIntegers=r,this._useBigInt=n}return e.prototype.unpack=function(r,n){n===void 0&&(n=j0.functional.identity);var i=r.readUInt8(),o=i&240,a=i&15;if(i===D0)return null;var u=this._unpackBoolean(i);if(u!==null)return u;var s=this._unpackNumberOrInteger(i,r);if(s!==null){if((0,Me.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var l=this._unpackString(i,o,a,r);if(l!==null)return l;var c=this._unpackList(i,o,a,r,n);if(c!==null)return c;var f=this._unpackByteArray(i,r);if(f!==null)return f;var h=this._unpackMap(i,o,a,r,n);if(h!==null)return h;var d=this._unpackStruct(i,o,a,r,n);if(d!==null)return d;throw(0,Me.newError)("Unknown packed value with marker "+i.toString(16))},e.prototype.unpackInteger=function(r){var n=r.readUInt8(),i=this._unpackInteger(n,r);if(i==null)throw(0,Me.newError)("Unable to unpack integer value with marker "+n.toString(16));return i},e.prototype._unpackBoolean=function(r){return r===F0?!0:r===U0?!1:null},e.prototype._unpackNumberOrInteger=function(r,n){return r===L0?n.readFloat64():this._unpackInteger(r,n)},e.prototype._unpackInteger=function(r,n){if(r>=0&&r<128)return(0,Me.int)(r);if(r>=240&&r<256)return(0,Me.int)(r-256);if(r===B0)return(0,Me.int)(n.readInt8());if(r===z0)return(0,Me.int)(n.readInt16());if(r===W0){var i=n.readInt32();return(0,Me.int)(i)}else if(r===V0){var o=n.readInt32(),a=n.readInt32();return new Me.Integer(a,o)}else return null},e.prototype._unpackString=function(r,n,i,o){return n===N0?jo.utf8.decode(o,i):r===H0?jo.utf8.decode(o,o.readUInt8()):r===q0?jo.utf8.decode(o,o.readUInt16()):r===G0?jo.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(r,n,i,o,a){return n===k0?this._unpackListWithSize(i,o,a):r===Y0?this._unpackListWithSize(o.readUInt8(),o,a):r===K0?this._unpackListWithSize(o.readUInt16(),o,a):r===Z0?this._unpackListWithSize(o.readUInt32(),o,a):null},e.prototype._unpackListWithSize=function(r,n,i){for(var o=[],a=0;a<r;a++)o.push(this.unpack(n,i));return o},e.prototype._unpackByteArray=function(r,n){return r===X0?this._unpackByteArrayWithSize(n.readUInt8(),n):r===Q0?this._unpackByteArrayWithSize(n.readUInt16(),n):r===J0?this._unpackByteArrayWithSize(n.readUInt32(),n):null},e.prototype._unpackByteArrayWithSize=function(r,n){for(var i=new Int8Array(r),o=0;o<r;o++)i[o]=n.readInt8();return i},e.prototype._unpackMap=function(r,n,i,o,a){return n===x0?this._unpackMapWithSize(i,o,a):r===e1?this._unpackMapWithSize(o.readUInt8(),o,a):r===t1?this._unpackMapWithSize(o.readUInt16(),o,a):r===r1?this._unpackMapWithSize(o.readUInt32(),o,a):null},e.prototype._unpackMapWithSize=function(r,n,i){for(var o={},a=0;a<r;a++){var u=this.unpack(n,i);o[u]=this.unpack(n,i)}return o},e.prototype._unpackStruct=function(r,n,i,o,a){return n===$0?this._unpackStructWithSize(i,o,a):r===n1?this._unpackStructWithSize(o.readUInt8(),o,a):r===i1?this._unpackStructWithSize(o.readUInt16(),o,a):null},e.prototype._unpackStructWithSize=function(r,n,i){for(var o=n.readUInt8(),a=new M0.Structure(o,[]),u=0;u<r;u++)a.fields.push(this.unpack(n,i));return i(a)},e}();Pn.Unpacker=xz;function $z(e){return e==null?!1:typeof e[Symbol.iterator]=="function"}var vi={},o1=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dz=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),Lz=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Uz=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Dz(r,e,n);return Lz(r,e),r};Object.defineProperty(vi,"__esModule",{value:!0});vi.Unpacker=vi.Packer=void 0;var a1=Uz(Pn),Fz=function(e){o1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},r}(a1.Packer);vi.Packer=Fz;var Bz=function(e){o1(r,e);function r(n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),e.call(this,n,i)||this}return r}(a1.Unpacker);vi.Unpacker=Bz;var zz=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),Wz=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Tv=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&zz(r,e,n);return Wz(r,e),r};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.structure=Ye.v2=Ye.v1=void 0;var Vz=Tv(Pn);Ye.v1=Vz;var u1=Tv(vi);Ye.v2=u1;var Hz=Tv(jr);Ye.structure=Hz;Ye.default=u1;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.SIGNATURES=void 0;var qe=oe,s1=qe.internal.constants,qz=s1.ACCESS_MODE_READ,xs=s1.FETCH_ALL,Uy=qe.internal.util.assertString,c1=1,l1=15,bd=16,f1=63,Ks=1,h1=2,d1=17,v1=18,_1=19,gd=102,p1=106,y1=107,m1=47,b1=63,Gz="r",Mo=-1,Yz=Object.freeze({INIT:c1,RESET:l1,RUN:bd,PULL_ALL:f1,HELLO:Ks,GOODBYE:h1,BEGIN:d1,COMMIT:v1,ROLLBACK:_1,ROUTE:gd,LOGON:p1,LOGOFF:y1,DISCARD:m1,PULL:b1});lt.SIGNATURES=Yz;var Yi=function(){function e(r,n,i){this.signature=r,this.fields=n,this.toString=i}return e.init=function(r,n){return new e(c1,[r,n],function(){return"INIT ".concat(r," {...}")})},e.run=function(r,n){return new e(bd,[r,n],function(){return"RUN ".concat(r," ").concat(qe.json.stringify(n))})},e.pullAll=function(){return Kz},e.reset=function(){return Zz},e.hello=function(r,n,i,o){i===void 0&&(i=null),o===void 0&&(o=null);var a=Object.assign({user_agent:r},n);return i&&(a.routing=i),o&&(a.patch_bolt=o),new e(Ks,[a],function(){return"HELLO {user_agent: '".concat(r,"', ...}")})},e.hello5x1=function(r,n){n===void 0&&(n=null);var i={user_agent:r};return n&&(i.routing=n),new e(Ks,[i],function(){return"HELLO {user_agent: '".concat(r,"', ...}")})},e.hello5x2=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var o={user_agent:r};return n&&(n.minimumSeverityLevel&&(o.notifications_minimum_severity=n.minimumSeverityLevel),n.disabledCategories&&(o.notifications_disabled_categories=n.disabledCategories)),i&&(o.routing=i),new e(Ks,[o],function(){return"HELLO ".concat(qe.json.stringify(o))})},e.logon=function(r){return new e(p1,[r],function(){return"LOGON { ... }"})},e.logoff=function(){return new e(y1,[],function(){return"LOGOFF"})},e.begin=function(r){var n=r===void 0?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,u=n.mode,s=n.impersonatedUser,l=n.notificationFilter,c=Fy(i,o,a,u,s,l);return new e(d1,[c],function(){return"BEGIN ".concat(qe.json.stringify(c))})},e.commit=function(){return Xz},e.rollback=function(){return Qz},e.runWithMetadata=function(r,n,i){var o=i===void 0?{}:i,a=o.bookmarks,u=o.txConfig,s=o.database,l=o.mode,c=o.impersonatedUser,f=o.notificationFilter,h=Fy(a,u,s,l,c,f);return new e(bd,[r,n,h],function(){return"RUN ".concat(r," ").concat(qe.json.stringify(n)," ").concat(qe.json.stringify(h))})},e.goodbye=function(){return Jz},e.pull=function(r){var n=r===void 0?{}:r,i=n.stmtId,o=i===void 0?Mo:i,a=n.n,u=a===void 0?xs:a,s=By(o??Mo,u||xs);return new e(b1,[s],function(){return"PULL ".concat(qe.json.stringify(s))})},e.discard=function(r){var n=r===void 0?{}:r,i=n.stmtId,o=i===void 0?Mo:i,a=n.n,u=a===void 0?xs:a,s=By(o??Mo,u||xs);return new e(m1,[s],function(){return"DISCARD ".concat(qe.json.stringify(s))})},e.route=function(r,n,i){return r===void 0&&(r={}),n===void 0&&(n=[]),i===void 0&&(i=null),new e(gd,[r,n,i],function(){return"ROUTE ".concat(qe.json.stringify(r)," ").concat(qe.json.stringify(n)," ").concat(i)})},e.routeV4x4=function(r,n,i){r===void 0&&(r={}),n===void 0&&(n=[]),i===void 0&&(i={});var o={};return i.databaseName&&(o.db=i.databaseName),i.impersonatedUser&&(o.imp_user=i.impersonatedUser),new e(gd,[r,n,o],function(){return"ROUTE ".concat(qe.json.stringify(r)," ").concat(qe.json.stringify(n)," ").concat(qe.json.stringify(o))})},e}();lt.default=Yi;function Fy(e,r,n,i,o,a){var u={};return e.isEmpty()||(u.bookmarks=e.values()),r.timeout!==null&&(u.tx_timeout=r.timeout),r.metadata&&(u.tx_metadata=r.metadata),n&&(u.db=Uy(n,"database")),o&&(u.imp_user=Uy(o,"impersonatedUser")),i===qz&&(u.mode=Gz),a&&(a.minimumSeverityLevel&&(u.notifications_minimum_severity=a.minimumSeverityLevel),a.disabledCategories&&(u.notifications_disabled_categories=a.disabledCategories)),u}function By(e,r){var n={n:(0,qe.int)(r)};return e!==Mo&&(n.qid=(0,qe.int)(e)),n}var Kz=new Yi(f1,[],function(){return"PULL_ALL"}),Zz=new Yi(l1,[],function(){return"RESET"}),Xz=new Yi(v1,[],function(){return"COMMIT"}),Qz=new Yi(_1,[],function(){return"ROLLBACK"}),Jz=new Yi(h1,[],function(){return"GOODBYE"}),Ml={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.TypeTransformer=void 0;var eW=Ye,tW=oe,rW=tW.internal.objectUtil,nW=function(){function e(r){this._transformers=r,this._transformersPerSignature=new Map(r.map(function(n){return[n.signature,n]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(r){try{if(r instanceof eW.structure.Structure&&this._transformersPerSignature.has(r.signature)){var n=this._transformersPerSignature.get(r.signature).fromStructure;return n(r)}return r}catch(i){return rW.createBrokenObject(i)}},e.prototype.toStructure=function(r){var n=this._transformers.find(function(i){var o=i.isTypeInstance;return o(r)});return n!==void 0?n.toStructure(r):r},e}();ze.default=nW;var iW=function(){function e(r){var n=r.signature,i=r.fromStructure,o=r.toStructure,a=r.isTypeInstance;this.signature=n,this.isTypeInstance=a,this.fromStructure=i,this.toStructure=o,Object.freeze(this)}return e.prototype.extendsWith=function(r){var n=r.signature,i=r.fromStructure,o=r.toStructure,a=r.isTypeInstance;return new e({signature:n||this.signature,fromStructure:i||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:a||this.isTypeInstance})},e}();ze.TypeTransformer=iW;var Nl=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a};Object.defineProperty(Ml,"__esModule",{value:!0});var Fe=oe,kl=Ye,xl=ze,$l=Fe.error.PROTOCOL_ERROR,oW=78,aW=3,uW=82,sW=5,cW=114,lW=3,fW=80,hW=3;function dW(){return new xl.TypeTransformer({signature:oW,isTypeInstance:function(e){return e instanceof Fe.Node},toStructure:function(e){throw(0,Fe.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),$l)},fromStructure:function(e){kl.structure.verifyStructSize("Node",aW,e.size);var r=Nl(e.fields,3),n=r[0],i=r[1],o=r[2];return new Fe.Node(n,i,o)}})}function vW(){return new xl.TypeTransformer({signature:uW,isTypeInstance:function(e){return e instanceof Fe.Relationship},toStructure:function(e){throw(0,Fe.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),$l)},fromStructure:function(e){kl.structure.verifyStructSize("Relationship",sW,e.size);var r=Nl(e.fields,5),n=r[0],i=r[1],o=r[2],a=r[3],u=r[4];return new Fe.Relationship(n,i,o,a,u)}})}function _W(){return new xl.TypeTransformer({signature:cW,isTypeInstance:function(e){return e instanceof Fe.UnboundRelationship},toStructure:function(e){throw(0,Fe.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),$l)},fromStructure:function(e){kl.structure.verifyStructSize("UnboundRelationship",lW,e.size);var r=Nl(e.fields,3),n=r[0],i=r[1],o=r[2];return new Fe.UnboundRelationship(n,i,o)}})}function pW(){return new xl.TypeTransformer({signature:fW,isTypeInstance:function(e){return e instanceof Fe.Path},toStructure:function(e){throw(0,Fe.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),$l)},fromStructure:function(e){kl.structure.verifyStructSize("Path",hW,e.size);for(var r=Nl(e.fields,3),n=r[0],i=r[1],o=r[2],a=[],u=n[0],s=0;s<o.length;s+=2){var l=n[o[s+1]],c=(0,Fe.toNumber)(o[s]),f=void 0;c>0?(f=i[c-1],f instanceof Fe.UnboundRelationship&&(i[c-1]=f=f.bindTo(u,l))):(f=i[-c-1],f instanceof Fe.UnboundRelationship&&(i[-c-1]=f=f.bindTo(l,u))),a.push(new Fe.PathSegment(u,f,l)),u=l}return new Fe.Path(n[0],n[n.length-1],a)}})}Ml.default={createNodeTransformer:dW,createRelationshipTransformer:vW,createUnboundRelationshipTransformer:_W,createPathTransformer:pW};var yW=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),mW=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),bW=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&yW(r,e,n);return mW(r,e),r},g1=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Il,"__esModule",{value:!0});var Oo=Be,Ih=Ye,tn=bW(lt),wo=ve,_i=oe,gW=g1(Ml),OW=g1(ze),zy=_i.internal.bookmarks.Bookmarks,O1=_i.internal.constants,Wy=O1.ACCESS_MODE_WRITE,wW=O1.BOLT_PROTOCOL_V1;_i.internal.logger.Logger;var Vy=_i.internal.txConfig.TxConfig,EW=function(){function e(r,n,i,o,a,u){var s=i===void 0?{}:i,l=s.disableLosslessIntegers,c=s.useBigInt;o===void 0&&(o=function(){return null}),this._server=r||{},this._chunker=n,this._packer=this._createPacker(n),this._unpacker=this._createUnpacker(l,c),this._responseHandler=o(this),this._log=a,this._onProtocolError=u,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:l,useBigInt:c}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new OW.default(Object.values(gW.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return wW},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(r){return this._packer.packable(r,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(r){return this._unpacker.unpack(r,this.transformer.fromStructure)},e.prototype.transformMetadata=function(r){return r},e.prototype.initialize=function(r){var n=this,i=r===void 0?{}:r,o=i.userAgent,a=i.authToken,u=i.notificationFilter,s=i.onError,l=i.onComplete,c=new wo.LoginObserver({onError:function(f){return n._onLoginError(f,s)},onCompleted:function(f){return n._onLoginCompleted(f,l)}});return(0,Oo.assertNotificationFilterIsEmpty)(u,this._onProtocolError,c),this.write(tn.default.init(o,a),c,!0),c},e.prototype.logoff=function(r){var n=r===void 0?{}:r,i=n.onComplete,o=n.onError;n.flush;var a=new wo.LogoffObserver({onCompleted:i,onError:o}),u=(0,_i.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(u.message),a.onError(u),u},e.prototype.logon=function(r){var n=this,i=r===void 0?{}:r,o=i.authToken,a=i.onComplete,u=i.onError;i.flush;var s=new wo.LoginObserver({onCompleted:function(){return n._onLoginCompleted({},o,a)},onError:function(c){return n._onLoginError(c,u)}}),l=(0,_i.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(l.message),s.onError(l),l},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(r){var n=r===void 0?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,u=n.mode,s=n.impersonatedUser,l=n.notificationFilter,c=n.beforeError,f=n.afterError,h=n.beforeComplete,d=n.afterComplete;return this.run("BEGIN",i?i.asBeginTransactionParameters():{},{bookmarks:i,txConfig:o,database:a,mode:u,impersonatedUser:s,notificationFilter:l,beforeError:c,afterError:f,beforeComplete:h,afterComplete:d,flush:!1})},e.prototype.commitTransaction=function(r){var n=r===void 0?{}:r,i=n.beforeError,o=n.afterError,a=n.beforeComplete,u=n.afterComplete;return this.run("COMMIT",{},{bookmarks:zy.empty(),txConfig:Vy.empty(),mode:Wy,beforeError:i,afterError:o,beforeComplete:a,afterComplete:u})},e.prototype.rollbackTransaction=function(r){var n=r===void 0?{}:r,i=n.beforeError,o=n.afterError,a=n.beforeComplete,u=n.afterComplete;return this.run("ROLLBACK",{},{bookmarks:zy.empty(),txConfig:Vy.empty(),mode:Wy,beforeError:i,afterError:o,beforeComplete:a,afterComplete:u})},e.prototype.run=function(r,n,i){var o=i===void 0?{}:i;o.bookmarks;var a=o.txConfig,u=o.database;o.mode;var s=o.impersonatedUser,l=o.notificationFilter,c=o.beforeKeys,f=o.afterKeys,h=o.beforeError,d=o.afterError,p=o.beforeComplete,m=o.afterComplete,O=o.flush,T=O===void 0?!0:O,b=o.highRecordWatermark,P=b===void 0?Number.MAX_VALUE:b,C=o.lowRecordWatermark,E=C===void 0?Number.MAX_VALUE:C,w=new wo.ResultStreamObserver({server:this._server,beforeKeys:c,afterKeys:f,beforeError:h,afterError:d,beforeComplete:p,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:E});return(0,Oo.assertTxConfigIsEmpty)(a,this._onProtocolError,w),(0,Oo.assertDatabaseIsEmpty)(u,this._onProtocolError,w),(0,Oo.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,w),(0,Oo.assertNotificationFilterIsEmpty)(l,this._onProtocolError,w),this.write(tn.default.run(r,n),w,!1),this.write(tn.default.pullAll(),w,T),w},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(r){var n=r===void 0?{}:r,i=n.onError,o=n.onComplete,a=new wo.ResetObserver({onProtocolError:this._onProtocolError,onError:i,onComplete:o});return this.write(tn.default.reset(),a,!0),a},e.prototype._createPacker=function(r){return new Ih.v1.Packer(r)},e.prototype._createUnpacker=function(r,n){return new Ih.v1.Unpacker(r,n)},e.prototype.write=function(r,n,i){var o=this.queueObserverIfProtocolIsNotBroken(n);if(o){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(r)),this._lastMessageSignature=r.signature;var a=new Ih.structure.Structure(r.signature,r.fields);this.packable(a)(),this._chunker.messageBoundary(),i&&this._chunker.flush()}},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===tn.SIGNATURES.HELLO||this._lastMessageSignature===tn.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===tn.SIGNATURES.RESET},e.prototype.notifyFatalError=function(r){return this._fatalError=r,this._responseHandler._notifyErrorToObservers(r)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(r){return this.isBroken()?(this.notifyFatalErrorToObserver(r),!1):this._responseHandler._queueObserver(r)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(r){r&&r.onError&&r.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(r,n,i){if(this._initialized=!0,this._authToken=n,r){var o=r.server;this._server.version||(this._server.version=o)}i&&i(r)},e.prototype._onLoginError=function(r,n){this._onProtocolError(r.message),n&&n(r)},e}();Il.default=EW;var Dl={},Ll={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.epochSecondAndNanoToLocalDateTime=hr.nanoOfDayToLocalTime=hr.epochDayToDate=void 0;var _n=oe,qr=_n.internal.temporalUtil,SW=qr.DAYS_0000_TO_1970,Ah=qr.DAYS_PER_400_YEAR_CYCLE,Hy=qr.NANOS_PER_HOUR,qy=qr.NANOS_PER_MINUTE,Od=qr.NANOS_PER_SECOND,Gy=qr.SECONDS_PER_DAY,TW=qr.floorDiv,PW=qr.floorMod;function w1(e){e=(0,_n.int)(e);var r=e.add(SW).subtract(60),n=(0,_n.int)(0);if(r.lessThan(0)){var i=r.add(1).div(Ah).subtract(1);n=i.multiply(400),r=r.add(i.multiply(-Ah))}var o=r.multiply(400).add(591).div(Ah),a=r.subtract(o.multiply(365).add(o.div(4)).subtract(o.div(100)).add(o.div(400)));a.lessThan(0)&&(o=o.subtract(1),a=r.subtract(o.multiply(365).add(o.div(4)).subtract(o.div(100)).add(o.div(400)))),o=o.add(n);var u=a,s=u.multiply(5).add(2).div(153),l=s.add(2).modulo(12).add(1),c=u.subtract(s.multiply(306).add(5).div(10)).add(1);return o=o.add(s.div(10)),new _n.Date(o,l,c)}hr.epochDayToDate=w1;function E1(e){e=(0,_n.int)(e);var r=e.div(Hy);e=e.subtract(r.multiply(Hy));var n=e.div(qy);e=e.subtract(n.multiply(qy));var i=e.div(Od),o=e.subtract(i.multiply(Od));return new _n.LocalTime(r,n,i,o)}hr.nanoOfDayToLocalTime=E1;function CW(e,r){var n=TW(e,Gy),i=PW(e,Gy),o=i.multiply(Od).add(r),a=w1(n),u=E1(o);return new _n.LocalDateTime(a.year,a.month,a.day,u.hour,u.minute,u.second,u.nanosecond)}hr.epochSecondAndNanoToLocalDateTime=CW;var vc=v&&v.__assign||function(){return vc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},vc.apply(this,arguments)},yr=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},IW=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ll,"__esModule",{value:!0});var pe=oe,Ue=Ye,mr=ze,Ki=hr,AW=IW(Ml),Pv=pe.internal.temporalUtil,RW=Pv.dateToEpochDay,Cv=Pv.localDateTimeToEpochSecond,S1=Pv.localTimeToNanoOfDay,Yy=88,jW=3,Ky=89,MW=4,Zy=69,NW=4,Xy=116,kW=1,Qy=84,xW=2,Jy=68,$W=1,em=100,DW=2,tm=70,LW=3,rm=102,UW=3;function FW(){return new mr.TypeTransformer({signature:Yy,isTypeInstance:function(e){return(0,pe.isPoint)(e)&&(e.z===null||e.z===void 0)},toStructure:function(e){return new Ue.structure.Structure(Yy,[(0,pe.int)(e.srid),e.x,e.y])},fromStructure:function(e){Ue.structure.verifyStructSize("Point2D",jW,e.size);var r=yr(e.fields,3),n=r[0],i=r[1],o=r[2];return new pe.Point(n,i,o,void 0)}})}function BW(){return new mr.TypeTransformer({signature:Ky,isTypeInstance:function(e){return(0,pe.isPoint)(e)&&e.z!==null&&e.z!==void 0},toStructure:function(e){return new Ue.structure.Structure(Ky,[(0,pe.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){Ue.structure.verifyStructSize("Point3D",MW,e.size);var r=yr(e.fields,4),n=r[0],i=r[1],o=r[2],a=r[3];return new pe.Point(n,i,o,a)}})}function zW(){return new mr.TypeTransformer({signature:Zy,isTypeInstance:pe.isDuration,toStructure:function(e){var r=(0,pe.int)(e.months),n=(0,pe.int)(e.days),i=(0,pe.int)(e.seconds),o=(0,pe.int)(e.nanoseconds);return new Ue.structure.Structure(Zy,[r,n,i,o])},fromStructure:function(e){Ue.structure.verifyStructSize("Duration",NW,e.size);var r=yr(e.fields,4),n=r[0],i=r[1],o=r[2],a=r[3];return new pe.Duration(n,i,o,a)}})}function WW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:Xy,isTypeInstance:pe.isLocalTime,toStructure:function(i){var o=S1(i.hour,i.minute,i.second,i.nanosecond);return new Ue.structure.Structure(Xy,[o])},fromStructure:function(i){Ue.structure.verifyStructSize("LocalTime",kW,i.size);var o=yr(i.fields,1),a=o[0],u=(0,Ki.nanoOfDayToLocalTime)(a);return Zi(u,r,n)}})}function VW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:Qy,isTypeInstance:pe.isTime,toStructure:function(i){var o=S1(i.hour,i.minute,i.second,i.nanosecond),a=(0,pe.int)(i.timeZoneOffsetSeconds);return new Ue.structure.Structure(Qy,[o,a])},fromStructure:function(i){Ue.structure.verifyStructSize("Time",xW,i.size);var o=yr(i.fields,2),a=o[0],u=o[1],s=(0,Ki.nanoOfDayToLocalTime)(a),l=new pe.Time(s.hour,s.minute,s.second,s.nanosecond,u);return Zi(l,r,n)}})}function HW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:Jy,isTypeInstance:pe.isDate,toStructure:function(i){var o=RW(i.year,i.month,i.day);return new Ue.structure.Structure(Jy,[o])},fromStructure:function(i){Ue.structure.verifyStructSize("Date",$W,i.size);var o=yr(i.fields,1),a=o[0],u=(0,Ki.epochDayToDate)(a);return Zi(u,r,n)}})}function qW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:em,isTypeInstance:pe.isLocalDateTime,toStructure:function(i){var o=Cv(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond),a=(0,pe.int)(i.nanosecond);return new Ue.structure.Structure(em,[o,a])},fromStructure:function(i){Ue.structure.verifyStructSize("LocalDateTime",DW,i.size);var o=yr(i.fields,2),a=o[0],u=o[1],s=(0,Ki.epochSecondAndNanoToLocalDateTime)(a,u);return Zi(s,r,n)}})}function GW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:rm,isTypeInstance:function(i){return(0,pe.isDateTime)(i)&&i.timeZoneId!=null},toStructure:function(i){var o=Cv(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond),a=(0,pe.int)(i.nanosecond),u=i.timeZoneId;return new Ue.structure.Structure(rm,[o,a,u])},fromStructure:function(i){Ue.structure.verifyStructSize("DateTimeWithZoneId",UW,i.size);var o=yr(i.fields,3),a=o[0],u=o[1],s=o[2],l=(0,Ki.epochSecondAndNanoToLocalDateTime)(a,u),c=new pe.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,null,s);return Zi(c,r,n)}})}function YW(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new mr.TypeTransformer({signature:tm,isTypeInstance:function(i){return(0,pe.isDateTime)(i)&&i.timeZoneId==null},toStructure:function(i){var o=Cv(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond),a=(0,pe.int)(i.nanosecond),u=(0,pe.int)(i.timeZoneOffsetSeconds);return new Ue.structure.Structure(tm,[o,a,u])},fromStructure:function(i){Ue.structure.verifyStructSize("DateTimeWithZoneOffset",LW,i.size);var o=yr(i.fields,3),a=o[0],u=o[1],s=o[2],l=(0,Ki.epochSecondAndNanoToLocalDateTime)(a,u),c=new pe.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,s,null);return Zi(c,r,n)}})}function Zi(e,r,n){if(!r&&!n)return e;var i=function(s){return n?s.toBigInt():s.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)===!0){var u=e[a];o[a]=(0,pe.isInt)(u)?i(u):u}return Object.freeze(o),o}Ll.default=vc(vc({},AW.default),{createPoint2DTransformer:FW,createPoint3DTransformer:BW,createDurationTransformer:zW,createLocalTimeTransformer:WW,createTimeTransformer:VW,createDateTransformer:HW,createLocalDateTimeTransformer:qW,createDateTimeWithZoneIdTransformer:GW,createDateTimeWithOffsetTransformer:YW});var KW=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ul=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dl,"__esModule",{value:!0});var ZW=Ul(Il),nm=Ul(Ye),XW=oe,QW=Ul(Ll),JW=Ul(ze),eV=XW.internal.constants.BOLT_PROTOCOL_V2,tV=function(e){KW(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype._createPacker=function(n){return new nm.default.Packer(n)},r.prototype._createUnpacker=function(n,i){return new nm.default.Unpacker(n,i)},Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new JW.default(Object.values(QW.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return eV},enumerable:!1,configurable:!0}),r}(ZW.default);Dl.default=tV;var Fl={},Bl={},wd=v&&v.__assign||function(){return wd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wd.apply(this,arguments)},rV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bl,"__esModule",{value:!0});var nV=rV(Ll);Bl.default=wd({},nV.default);var iV=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),_c=v&&v.__assign||function(){return _c=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_c.apply(this,arguments)},zl=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fl,"__esModule",{value:!0});var oV=zl(Dl),rn=zl(lt),nn=Be,sn=ve,aV=zl(Bl),uV=zl(ze),Iv=oe;Iv.internal.bookmarks.Bookmarks;var sV=Iv.internal.constants.BOLT_PROTOCOL_V3,cV=Iv.internal.txConfig.TxConfig,T1="context",lV="CALL dbms.cluster.routing.getRoutingTable($".concat(T1,")"),fV=new sn.StreamObserver,hV=function(e){iV(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return sV},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new uV.default(Object.values(aV.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.transformMetadata=function(n){return"t_first"in n&&(n.result_available_after=n.t_first,delete n.t_first),"t_last"in n&&(n.result_consumed_after=n.t_last,delete n.t_last),n},r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f=new sn.LoginObserver({onError:function(h){return i._onLoginError(h,l)},onCompleted:function(h){return i._onLoginCompleted(h,u,c)}});return(0,nn.assertNotificationFilterIsEmpty)(s,this._onProtocolError,f),this.write(rn.default.hello(a,u),f,!0),f},r.prototype.prepareToClose=function(){this.write(rn.default.goodbye(),fV,!0)},r.prototype.beginTransaction=function(n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,u=i.database,s=i.impersonatedUser,l=i.notificationFilter,c=i.mode,f=i.beforeError,h=i.afterError,d=i.beforeComplete,p=i.afterComplete,m=new sn.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return m.prepareToHandleSingleResponse(),(0,nn.assertDatabaseIsEmpty)(u,this._onProtocolError,m),(0,nn.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,m),(0,nn.assertNotificationFilterIsEmpty)(l,this._onProtocolError,m),this.write(rn.default.begin({bookmarks:o,txConfig:a,mode:c}),m,!0),m},r.prototype.commitTransaction=function(n){var i=n===void 0?{}:n,o=i.beforeError,a=i.afterError,u=i.beforeComplete,s=i.afterComplete,l=new sn.ResultStreamObserver({server:this._server,beforeError:o,afterError:a,beforeComplete:u,afterComplete:s});return l.prepareToHandleSingleResponse(),this.write(rn.default.commit(),l,!0),l},r.prototype.rollbackTransaction=function(n){var i=n===void 0?{}:n,o=i.beforeError,a=i.afterError,u=i.beforeComplete,s=i.afterComplete,l=new sn.ResultStreamObserver({server:this._server,beforeError:o,afterError:a,beforeComplete:u,afterComplete:s});return l.prepareToHandleSingleResponse(),this.write(rn.default.rollback(),l,!0),l},r.prototype.run=function(n,i,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.impersonatedUser,f=a.notificationFilter,h=a.mode,d=a.beforeKeys,p=a.afterKeys,m=a.beforeError,O=a.afterError,T=a.beforeComplete,b=a.afterComplete,P=a.flush,C=P===void 0?!0:P,E=a.highRecordWatermark,w=E===void 0?Number.MAX_VALUE:E,A=a.lowRecordWatermark,j=A===void 0?Number.MAX_VALUE:A,N=new sn.ResultStreamObserver({server:this._server,beforeKeys:d,afterKeys:p,beforeError:m,afterError:O,beforeComplete:T,afterComplete:b,highRecordWatermark:w,lowRecordWatermark:j});return(0,nn.assertDatabaseIsEmpty)(l,this._onProtocolError,N),(0,nn.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,N),(0,nn.assertNotificationFilterIsEmpty)(f,this._onProtocolError,N),this.write(rn.default.runWithMetadata(n,i,{bookmarks:u,txConfig:s,mode:h}),N,!1),this.write(rn.default.pullAll(),N,C),N},r.prototype.requestRoutingInformation=function(n){var i,o=n.routingContext,a=o===void 0?{}:o,u=n.sessionContext,s=u===void 0?{}:u,l=n.onError,c=n.onCompleted,f=this.run(lV,(i={},i[T1]=a,i),_c(_c({},s),{txConfig:cV.empty()}));return new sn.ProcedureRouteObserver({resultObserver:f,onProtocolError:this._onProtocolError,onError:l,onCompleted:c})},r}(oV.default);Fl.default=hV;var Wl={},Vl={},Ed=v&&v.__assign||function(){return Ed=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ed.apply(this,arguments)},dV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});var vV=dV(Bl);Vl.default=Ed({},vV.default);var _V=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),pc=v&&v.__assign||function(){return pc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pc.apply(this,arguments)},Hl=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wl,"__esModule",{value:!0});var pV=Hl(Fl),Eo=Hl(lt),$s=Be,Rh=ve,yV=Hl(Vl),mV=Hl(ze),Av=oe;Av.internal.bookmarks.Bookmarks;var P1=Av.internal.constants,bV=P1.BOLT_PROTOCOL_V4_0,gV=P1.FETCH_ALL,OV=Av.internal.txConfig.TxConfig,C1="context",I1="database",wV="CALL dbms.routing.getRoutingTable($".concat(C1,", $").concat(I1,")"),EV=function(e){_V(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return bV},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new mV.default(Object.values(yV.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.beginTransaction=function(n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,u=i.database,s=i.impersonatedUser,l=i.notificationFilter,c=i.mode,f=i.beforeError,h=i.afterError,d=i.beforeComplete,p=i.afterComplete,m=new Rh.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return m.prepareToHandleSingleResponse(),(0,$s.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,m),(0,$s.assertNotificationFilterIsEmpty)(l,this._onProtocolError,m),this.write(Eo.default.begin({bookmarks:o,txConfig:a,database:u,mode:c}),m,!0),m},r.prototype.run=function(n,i,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.impersonatedUser,f=a.notificationFilter,h=a.mode,d=a.beforeKeys,p=a.afterKeys,m=a.beforeError,O=a.afterError,T=a.beforeComplete,b=a.afterComplete,P=a.flush,C=P===void 0?!0:P,E=a.reactive,w=E===void 0?!1:E,A=a.fetchSize,j=A===void 0?gV:A,N=a.highRecordWatermark,z=N===void 0?Number.MAX_VALUE:N,B=a.lowRecordWatermark,G=B===void 0?Number.MAX_VALUE:B,H=new Rh.ResultStreamObserver({server:this._server,reactive:w,fetchSize:j,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:m,afterError:O,beforeComplete:T,afterComplete:b,highRecordWatermark:z,lowRecordWatermark:G});(0,$s.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,H),(0,$s.assertNotificationFilterIsEmpty)(f,this._onProtocolError,H);var X=w;return this.write(Eo.default.runWithMetadata(n,i,{bookmarks:u,txConfig:s,database:l,mode:h}),H,X&&C),w||this.write(Eo.default.pull({n:j}),H,C),H},r.prototype._requestMore=function(n,i,o){this.write(Eo.default.pull({stmtId:n,n:i}),o,!0)},r.prototype._requestDiscard=function(n,i){this.write(Eo.default.discard({stmtId:n}),i,!0)},r.prototype._noOp=function(){},r.prototype.requestRoutingInformation=function(n){var i,o=n.routingContext,a=o===void 0?{}:o,u=n.databaseName,s=u===void 0?null:u,l=n.sessionContext,c=l===void 0?{}:l,f=n.onError,h=n.onCompleted,d=this.run(wV,(i={},i[C1]=a,i[I1]=s,i),pc(pc({},c),{txConfig:OV.empty()}));return new Rh.ProcedureRouteObserver({resultObserver:d,onProtocolError:this._onProtocolError,onError:f,onCompleted:h})},r}(pV.default);Wl.default=EV;var ql={},Gl={},Sd=v&&v.__assign||function(){return Sd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Sd.apply(this,arguments)},SV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gl,"__esModule",{value:!0});var TV=SV(Vl);Gl.default=Sd({},TV.default);var PV=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yl=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});var CV=Yl(Wl),IV=Yl(lt),AV=ve,RV=oe,jV=Be,MV=Yl(Gl),NV=Yl(ze),kV=RV.internal.constants.BOLT_PROTOCOL_V4_1,xV=function(e){PV(r,e);function r(n,i,o,a,u,s,l){a===void 0&&(a=function(){return null});var c=e.call(this,n,i,o,a,u,s)||this;return c._serversideRouting=l,c}return Object.defineProperty(r.prototype,"version",{get:function(){return kV},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new NV.default(Object.values(MV.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f=new AV.LoginObserver({onError:function(h){return i._onLoginError(h,l)},onCompleted:function(h){return i._onLoginCompleted(h,u,c)}});return(0,jV.assertNotificationFilterIsEmpty)(s,this._onProtocolError,f),this.write(IV.default.hello(a,u,this._serversideRouting),f,!0),f},r}(CV.default);ql.default=xV;var Kl={},Zl={},Td=v&&v.__assign||function(){return Td=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Td.apply(this,arguments)},$V=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});var DV=$V(Gl);Zl.default=Td({},DV.default);var LV=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rv=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kl,"__esModule",{value:!0});var UV=Rv(ql),FV=oe,BV=Rv(Zl),zV=Rv(ze),WV=FV.internal.constants.BOLT_PROTOCOL_V4_2,VV=function(e){LV(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return WV},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new zV.default(Object.values(BV.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r}(UV.default);Kl.default=VV;var cs={},Xl={},Pd=v&&v.__assign||function(){return Pd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pd.apply(this,arguments)},HV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});var qV=HV(Zl);Xl.default=Pd({},qV.default);var ls={},fs={},Cd=v&&v.__assign||function(){return Cd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Cd.apply(this,arguments)},GV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});var YV=GV(Xl);fs.default=Cd({},YV.default);var A1=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},KV=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});var yc=Ye,yt=oe,R1=KV(fs),ZV=hr,XV=ss,ea=yt.internal.temporalUtil.localDateTimeToEpochSecond,im=73,QV=3,om=105,JV=3;function e7(e,r){var n=e.disableLosslessIntegers,i=e.useBigInt,o=R1.default.createDateTimeWithZoneIdTransformer(e);return o.extendsWith({signature:om,fromStructure:function(a){yc.structure.verifyStructSize("DateTimeWithZoneId",JV,a.size);var u=A1(a.fields,3),s=u[0],l=u[1],c=u[2],f=Id(c,s,l),h=new yt.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,(0,yt.int)(l),f.timeZoneOffsetSeconds,c);return j1(h,n,i)},toStructure:function(a){var u=ea(a.year,a.month,a.day,a.hour,a.minute,a.second,a.nanosecond),s=a.timeZoneOffsetSeconds!=null?a.timeZoneOffsetSeconds:t7(a.timeZoneId,u,a.nanosecond);a.timeZoneOffsetSeconds==null&&r.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var l=u.subtract(s),c=(0,yt.int)(a.nanosecond),f=a.timeZoneId;return new yc.structure.Structure(om,[l,c,f])}})}function t7(e,r,n){var i=Id(e,r,n),o=ea(i.year,i.month,i.day,i.hour,i.minute,i.second,n),a=o.subtract(r),u=r.subtract(a),s=Id(e,u,n),l=ea(s.year,s.month,s.day,s.hour,s.minute,s.second,n),c=l.subtract(u);return c}function Id(e,r,n){var i=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),o=(0,yt.int)(r).multiply(1e3).add((0,yt.int)(n).div(1e6)).toNumber(),a=i.formatToParts(o),u=a.reduce(function(l,c){return c.type==="era"?l.adjustEra=c.value.toUpperCase()==="B"?function(f){return f.subtract(1).negate()}:XV.identity:c.type!=="literal"&&(l[c.type]=(0,yt.int)(c.value)),l},{});u.year=u.adjustEra(u.year);var s=ea(u.year,u.month,u.day,u.hour,u.minute,u.second,u.nanosecond);return u.timeZoneOffsetSeconds=s.subtract(r),u.hour=u.hour.modulo(24),u}function r7(e){var r=e.disableLosslessIntegers,n=e.useBigInt,i=R1.default.createDateTimeWithOffsetTransformer(e);return i.extendsWith({signature:im,toStructure:function(o){var a=ea(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond),u=(0,yt.int)(o.nanosecond),s=(0,yt.int)(o.timeZoneOffsetSeconds),l=a.subtract(s);return new yc.structure.Structure(im,[l,u,s])},fromStructure:function(o){yc.structure.verifyStructSize("DateTimeWithZoneOffset",QV,o.size);var a=A1(o.fields,3),u=a[0],s=a[1],l=a[2],c=(0,yt.int)(u).add(l),f=(0,ZV.epochSecondAndNanoToLocalDateTime)(c,s),h=new yt.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,l,null);return j1(h,r,n)}})}function j1(e,r,n){if(!r&&!n)return e;var i=function(s){return n?s.toBigInt():s.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)===!0){var u=e[a];o[a]=(0,yt.isInt)(u)?i(u):u}return Object.freeze(o),o}ls.default={createDateTimeWithZoneIdTransformer:e7,createDateTimeWithOffsetTransformer:r7};var n7=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),mc=v&&v.__assign||function(){return mc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},mc.apply(this,arguments)},hs=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});var i7=hs(Kl),am=hs(lt),um=ve,o7=Be,sm=hs(Xl),a7=hs(ls),cm=hs(ze),M1=oe,u7=M1.internal.bookmarks.Bookmarks,s7=M1.internal.constants.BOLT_PROTOCOL_V4_3,c7=function(e){n7(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return s7},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new cm.default(Object.values(sm.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.requestRoutingInformation=function(n){var i=n.routingContext,o=i===void 0?{}:i,a=n.databaseName,u=a===void 0?null:a,s=n.sessionContext,l=s===void 0?{}:s,c=n.onError,f=n.onCompleted,h=new um.RouteObserver({onProtocolError:this._onProtocolError,onError:c,onCompleted:f}),d=l.bookmarks||u7.empty();return this.write(am.default.route(o,d.values(),u),h,!0),h},r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f=new um.LoginObserver({onError:function(h){return i._onLoginError(h,l)},onCompleted:function(h){return h.patch_bolt!==void 0&&i._applyPatches(h.patch_bolt),i._onLoginCompleted(h,u,c)}});return(0,o7.assertNotificationFilterIsEmpty)(s,this._onProtocolError,f),this.write(am.default.hello(a,u,this._serversideRouting,["utc"]),f,!0),f},r.prototype._applyPatches=function(n){n.includes("utc")&&this._applyUtcPatch()},r.prototype._applyUtcPatch=function(){var n=this;this._transformer=new cm.default(Object.values(mc(mc({},sm.default),a7.default)).map(function(i){return i(n._config,n._log)}))},r}(i7.default);cs.default=c7;var Ql={},l7=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),bc=v&&v.__assign||function(){return bc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},bc.apply(this,arguments)},ds=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});var f7=ds(cs),N1=oe,Ds=ds(lt),jh=ve,lm=Be,fm=ds(fs),h7=ds(ls),hm=ds(ze),k1=N1.internal.constants,d7=k1.BOLT_PROTOCOL_V4_4,v7=k1.FETCH_ALL,_7=N1.internal.bookmarks.Bookmarks,p7=function(e){l7(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return d7},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new hm.default(Object.values(fm.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.requestRoutingInformation=function(n){var i=n.routingContext,o=i===void 0?{}:i,a=n.databaseName,u=a===void 0?null:a,s=n.impersonatedUser,l=s===void 0?null:s,c=n.sessionContext,f=c===void 0?{}:c,h=n.onError,d=n.onCompleted,p=new jh.RouteObserver({onProtocolError:this._onProtocolError,onError:h,onCompleted:d}),m=f.bookmarks||_7.empty();return this.write(Ds.default.routeV4x4(o,m.values(),{databaseName:u,impersonatedUser:l}),p,!0),p},r.prototype.run=function(n,i,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.mode,f=a.impersonatedUser,h=a.notificationFilter,d=a.beforeKeys,p=a.afterKeys,m=a.beforeError,O=a.afterError,T=a.beforeComplete,b=a.afterComplete,P=a.flush,C=P===void 0?!0:P,E=a.reactive,w=E===void 0?!1:E,A=a.fetchSize,j=A===void 0?v7:A,N=a.highRecordWatermark,z=N===void 0?Number.MAX_VALUE:N,B=a.lowRecordWatermark,G=B===void 0?Number.MAX_VALUE:B,H=new jh.ResultStreamObserver({server:this._server,reactive:w,fetchSize:j,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:m,afterError:O,beforeComplete:T,afterComplete:b,highRecordWatermark:z,lowRecordWatermark:G});(0,lm.assertNotificationFilterIsEmpty)(h,this._onProtocolError,H);var X=w;return this.write(Ds.default.runWithMetadata(n,i,{bookmarks:u,txConfig:s,database:l,mode:c,impersonatedUser:f}),H,X&&C),w||this.write(Ds.default.pull({n:j}),H,C),H},r.prototype.beginTransaction=function(n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,u=i.database,s=i.mode,l=i.impersonatedUser,c=i.notificationFilter,f=i.beforeError,h=i.afterError,d=i.beforeComplete,p=i.afterComplete,m=new jh.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return m.prepareToHandleSingleResponse(),(0,lm.assertNotificationFilterIsEmpty)(c,this._onProtocolError,m),this.write(Ds.default.begin({bookmarks:o,txConfig:a,database:u,mode:s,impersonatedUser:l}),m,!0),m},r.prototype._applyUtcPatch=function(){var n=this;this._transformer=new hm.default(Object.values(bc(bc({},fm.default),h7.default)).map(function(i){return i(n._config,n._log)}))},r}(f7.default);Ql.default=p7;var Jl={},ef={},zo=v&&v.__assign||function(){return zo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},zo.apply(this,arguments)},jv=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},x1=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ef,"__esModule",{value:!0});var Mv=Ye,Nv=oe,tf=x1(fs),y7=x1(ls),m7=4,b7=8,g7=4;function O7(e){var r=tf.default.createNodeTransformer(e);return r.extendsWith({fromStructure:function(n){Mv.structure.verifyStructSize("Node",m7,n.size);var i=jv(n.fields,4),o=i[0],a=i[1],u=i[2],s=i[3];return new Nv.Node(o,a,u,s)}})}function w7(e){var r=tf.default.createRelationshipTransformer(e);return r.extendsWith({fromStructure:function(n){Mv.structure.verifyStructSize("Relationship",b7,n.size);var i=jv(n.fields,8),o=i[0],a=i[1],u=i[2],s=i[3],l=i[4],c=i[5],f=i[6],h=i[7];return new Nv.Relationship(o,a,u,s,l,c,f,h)}})}function E7(e){var r=tf.default.createUnboundRelationshipTransformer(e);return r.extendsWith({fromStructure:function(n){Mv.structure.verifyStructSize("UnboundRelationship",g7,n.size);var i=jv(n.fields,4),o=i[0],a=i[1],u=i[2],s=i[3];return new Nv.UnboundRelationship(o,a,u,s)}})}ef.default=zo(zo(zo({},tf.default),y7.default),{createNodeTransformer:O7,createRelationshipTransformer:w7,createUnboundRelationshipTransformer:E7});var S7=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),rf=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jl,"__esModule",{value:!0});var T7=rf(Ql),P7=Be,C7=rf(ef),I7=rf(ze),A7=rf(lt),R7=ve,j7=oe,M7=j7.internal.constants.BOLT_PROTOCOL_V5_0,N7=function(e){S7(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return M7},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new I7.default(Object.values(C7.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f=new R7.LoginObserver({onError:function(h){return i._onLoginError(h,l)},onCompleted:function(h){return i._onLoginCompleted(h,u,c)}});return(0,P7.assertNotificationFilterIsEmpty)(s,this._onProtocolError,f),this.write(A7.default.hello(a,u,this._serversideRouting),f,!0),f},r}(T7.default);Jl.default=N7;var nf={},of={},Ad=v&&v.__assign||function(){return Ad=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ad.apply(this,arguments)},k7=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(of,"__esModule",{value:!0});var x7=k7(ef);of.default=Ad({},x7.default);var $7=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),gc=v&&v.__assign||function(){return gc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},gc.apply(this,arguments)},af=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nf,"__esModule",{value:!0});var D7=af(Jl),L7=Be,U7=af(of),F7=af(ze),Mh=af(lt),Nh=ve,B7=oe,z7=B7.internal.constants.BOLT_PROTOCOL_V5_1,W7=function(e){$7(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return z7},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new F7.default(Object.values(U7.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f={},h=new Nh.LoginObserver({onError:function(d){return i._onLoginError(d,l)},onCompleted:function(d){return f.metadata=d,i._onLoginCompleted(d)}});return(0,L7.assertNotificationFilterIsEmpty)(s,this._onProtocolError,h),this.write(Mh.default.hello5x1(a,this._serversideRouting),h,!1),this.logon({authToken:u,onComplete:function(d){return c(gc(gc({},d),f.metadata))},onError:l,flush:!0})},r.prototype.logon=function(n){var i=this,o=n===void 0?{}:n,a=o.authToken,u=o.onComplete,s=o.onError,l=o.flush,c=new Nh.LoginObserver({onCompleted:function(){return i._onLoginCompleted(null,a,u)},onError:function(f){return i._onLoginError(f,s)}});return this.write(Mh.default.logon(a),c,l),c},r.prototype.logoff=function(n){var i=n===void 0?{}:n,o=i.onComplete,a=i.onError,u=i.flush,s=new Nh.LogoffObserver({onCompleted:o,onError:a});return this.write(Mh.default.logoff(),s,u),s},r}(D7.default);nf.default=W7;var kv={},xv={},Rd=v&&v.__assign||function(){return Rd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Rd.apply(this,arguments)},V7=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xv,"__esModule",{value:!0});var H7=V7(of);xv.default=Rd({},H7.default);var q7=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oc=v&&v.__assign||function(){return Oc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Oc.apply(this,arguments)},uf=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kv,"__esModule",{value:!0});var G7=uf(nf),Y7=uf(xv),K7=uf(ze),Ls=uf(lt),kh=ve,Z7=oe,$1=Z7.internal.constants,X7=$1.BOLT_PROTOCOL_V5_2,Q7=$1.FETCH_ALL,J7=function(e){q7(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"version",{get:function(){return X7},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transformer",{get:function(){var n=this;return this._transformer===void 0&&(this._transformer=new K7.default(Object.values(Y7.default).map(function(i){return i(n._config,n._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.initialize=function(n){var i=this,o=n===void 0?{}:n,a=o.userAgent,u=o.authToken,s=o.notificationFilter,l=o.onError,c=o.onComplete,f={},h=new kh.LoginObserver({onError:function(d){return i._onLoginError(d,l)},onCompleted:function(d){return f.metadata=d,i._onLoginCompleted(d)}});return this.write(Ls.default.hello5x2(a,s,this._serversideRouting),h,!1),this.logon({authToken:u,onComplete:function(d){return c(Oc(Oc({},d),f.metadata))},onError:l,flush:!0})},r.prototype.beginTransaction=function(n){var i=n===void 0?{}:n,o=i.bookmarks,a=i.txConfig,u=i.database,s=i.mode,l=i.impersonatedUser,c=i.notificationFilter,f=i.beforeError,h=i.afterError,d=i.beforeComplete,p=i.afterComplete,m=new kh.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return m.prepareToHandleSingleResponse(),this.write(Ls.default.begin({bookmarks:o,txConfig:a,database:u,mode:s,impersonatedUser:l,notificationFilter:c}),m,!0),m},r.prototype.run=function(n,i,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.mode,f=a.impersonatedUser,h=a.notificationFilter,d=a.beforeKeys,p=a.afterKeys,m=a.beforeError,O=a.afterError,T=a.beforeComplete,b=a.afterComplete,P=a.flush,C=P===void 0?!0:P,E=a.reactive,w=E===void 0?!1:E,A=a.fetchSize,j=A===void 0?Q7:A,N=a.highRecordWatermark,z=N===void 0?Number.MAX_VALUE:N,B=a.lowRecordWatermark,G=B===void 0?Number.MAX_VALUE:B,H=new kh.ResultStreamObserver({server:this._server,reactive:w,fetchSize:j,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:m,afterError:O,beforeComplete:T,afterComplete:b,highRecordWatermark:z,lowRecordWatermark:G}),X=w;return this.write(Ls.default.runWithMetadata(n,i,{bookmarks:u,txConfig:s,database:l,mode:c,impersonatedUser:f,notificationFilter:h}),H,X&&C),w||this.write(Ls.default.pull({n:j}),H,C),H},r}(G7.default);kv.default=J7;var $v={};Object.defineProperty($v,"__esModule",{value:!0});var on=oe,e9=112,t9=113,r9=126,n9=127;function or(){}function dm(e){return e}var i9={onNext:or,onCompleted:or,onError:or},o9=function(){function e(r){var n=r===void 0?{}:r,i=n.transformMetadata,o=n.log,a=n.observer;this._pendingObservers=[],this._log=o,this._transformMetadata=i||dm,this._observer=Object.assign({onPendingObserversChange:or,onError:or,onFailure:or,onErrorApplyTransformation:dm},a)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(r){var n=r.fields[0];switch(r.signature){case t9:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(on.json.stringify(r))),this._currentObserver.onNext(n);break;case e9:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(on.json.stringify(r)));try{var i=this._transformMetadata(n);this._currentObserver.onCompleted(i)}finally{this._updateCurrentObserver()}break;case n9:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(on.json.stringify(r)));try{var o=a9(n.code),a=(0,on.newError)(n.message,o);this._currentFailure=this._observer.onErrorApplyTransformation(a),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case r9:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(on.json.stringify(r)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,on.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,on.newError)("Unknown Bolt protocol message: "+r))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},e.prototype._queueObserver=function(r){return r=r||i9,r.onCompleted=r.onCompleted||or,r.onError=r.onError||or,r.onNext=r.onNext||or,this._currentObserver===void 0?this._currentObserver=r:this._pendingObservers.push(r),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},e.prototype._notifyErrorToObservers=function(r){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(r);this._pendingObservers.length>0;){var n=this._pendingObservers.shift();n&&n.onError&&n.onError(r)}},e.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e}();$v.default=o9;function a9(e){return e==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":e==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":e}var bt=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});var u9=oe,s9=bt(Il),c9=bt(Dl),l9=bt(Fl),f9=bt(Wl),h9=bt(ql),d9=bt(Kl),v9=bt(cs),_9=bt(Ql),p9=bt(Jl),y9=bt(nf),m9=bt(kv),b9=bt($v);function g9(e){var r=e===void 0?{}:e,n=r.version,i=r.chunker,o=r.dechunker,a=r.channel,u=r.disableLosslessIntegers,s=r.useBigInt,l=r.serversideRouting,c=r.server,f=r.log,h=r.observer,d=function(p){var m=new b9.default({transformMetadata:p.transformMetadata.bind(p),log:f,observer:h});return a.onerror=h.onError.bind(h),a.onmessage=function(O){return o.write(O)},o.onmessage=function(O){try{m.handleResponse(p.unpack(O))}catch(T){return h.onError(T)}},m};return O9(n,c,i,{disableLosslessIntegers:u,useBigInt:s},l,d,h.onProtocolError.bind(h),f)}wv.default=g9;function O9(e,r,n,i,o,a,u,s){switch(e){case 1:return new s9.default(r,n,i,a,s,u);case 2:return new c9.default(r,n,i,a,s,u);case 3:return new l9.default(r,n,i,a,s,u);case 4:return new f9.default(r,n,i,a,s,u);case 4.1:return new h9.default(r,n,i,a,s,u,o);case 4.2:return new d9.default(r,n,i,a,s,u,o);case 4.3:return new v9.default(r,n,i,a,s,u,o);case 4.4:return new _9.default(r,n,i,a,s,u,o);case 5:return new p9.default(r,n,i,a,s,u,o);case 5.1:return new y9.default(r,n,i,a,s,u,o);case 5.2:return new m9.default(r,n,i,a,s,u,o);default:throw(0,u9.newError)("Unknown Bolt protocol version: "+e)}}(function(e){var r=v&&v.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),n=v&&v.__exportStar||function(l,c){for(var f in l)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&r(c,l,f)},i=v&&v.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var o=i(vv),a=i(wv),u=i(cs),s=i(Al);n(ve,e),e.BoltProtocol=u.default,e.RawRoutingTable=s.default,e.default={handshake:o.default,create:a.default}})(dv);var Dv={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.DEFAULT_ACQUISITION_TIMEOUT=Mr.DEFAULT_MAX_SIZE=void 0;var Zs=100;Mr.DEFAULT_MAX_SIZE=Zs;var Xs=60*1e3;Mr.DEFAULT_ACQUISITION_TIMEOUT=Xs;var w9=function(){function e(r,n){this.maxSize=vm(r,Zs),this.acquisitionTimeout=vm(n,Xs)}return e.defaultConfig=function(){return new e(Zs,Xs)},e.fromDriverConfig=function(r){var n=_m(r.maxConnectionPoolSize),i=n?r.maxConnectionPoolSize:Zs,o=_m(r.connectionAcquisitionTimeout),a=o?r.connectionAcquisitionTimeout:Xs;return new e(i,a)},e}();Mr.default=w9;function vm(e,r){return e===0||e?e:r}function _m(e){return e===0||e}var Lv={},Us=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},Fs=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},E9=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lv,"__esModule",{value:!0});var S9=E9(Mr),jd=oe,T9=jd.internal.logger.Logger,P9=function(){function e(r){var n=r===void 0?{}:r,i=n.create,o=i===void 0?function(b,P){return Promise.resolve()}:i,a=n.destroy,u=a===void 0?function(b){return Promise.resolve()}:a,s=n.validate,l=s===void 0?function(b){return!0}:s,c=n.installIdleObserver,f=c===void 0?function(b,P){}:c,h=n.removeIdleObserver,d=h===void 0?function(b){}:h,p=n.config,m=p===void 0?S9.default.defaultConfig():p,O=n.log,T=O===void 0?T9.noOp():O;this._create=o,this._destroy=u,this._validate=l,this._installIdleObserver=f,this._removeIdleObserver=d,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=T,this._closed=!1}return e.prototype.acquire=function(r){var n=this,i=r.asKey(),o=this._acquireRequests,a=o[i];return a||(o[i]=[]),new Promise(function(u,s){var l=null,c=setTimeout(function(){var f=o[i];if(f&&(o[i]=f.filter(function(p){return p!==l})),!l.isCompleted()){var h=n.activeResourceCount(r),d=n.has(r)?n._pools[i].length:0;l.reject((0,jd.newError)("Connection acquisition timed out in ".concat(n._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(h,", Idle conn count = ").concat(d,".")))}},n._acquisitionTimeout);l=new I9(i,u,s,c,n._log),o[i].push(l),n._processPendingAcquireRequests(r)})},e.prototype.purge=function(r){return this._purgeKey(r.asKey())},e.prototype.close=function(){return Us(this,void 0,void 0,function(){var r=this;return Fs(this,function(n){switch(n.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(i){return r._purgeKey(i)}))];case 1:return[2,n.sent()]}})})},e.prototype.keepAll=function(r){var n=this,i=r.map(function(u){return u.asKey()}),o=Object.keys(this._pools),a=o.filter(function(u){return i.indexOf(u)===-1});return Promise.all(a.map(function(u){return n._purgeKey(u)}))},e.prototype.has=function(r){return r.asKey()in this._pools},e.prototype.activeResourceCount=function(r){return this._activeResourceCounts[r.asKey()]||0},e.prototype._getOrInitializePoolFor=function(r){var n=this._pools[r];return n||(n=new A9,this._pools[r]=n,this._pendingCreates[r]=0),n},e.prototype._acquire=function(r){return Us(this,void 0,void 0,function(){var n,i,o,a,u,s=this;return Fs(this,function(l){switch(l.label){case 0:if(this._closed)throw(0,jd.newError)("Pool is closed, it is no more able to serve requests.");n=r.asKey(),i=this._getOrInitializePoolFor(n),l.label=1;case 1:return i.length?(o=i.pop(),this._validate(o)?(this._removeIdleObserver&&this._removeIdleObserver(o),pm(n,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(o," acquired from the pool ").concat(n)),[2,{resource:o,pool:i}]):[3,2]):[3,5];case 2:return[4,this._destroy(o)];case 3:l.sent(),l.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&(a=this.activeResourceCount(r)+this._pendingCreates[n],a>=this._maxSize))return[2,{resource:null,pool:i}];this._pendingCreates[n]=this._pendingCreates[n]+1,l.label=6;case 6:return l.trys.push([6,,8,9]),[4,this._create(r,function(c,f){return s._release(c,f,i)})];case 7:return u=l.sent(),pm(n,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(u," created for the pool ").concat(n)),[3,9];case 8:return this._pendingCreates[n]=this._pendingCreates[n]-1,[7];case 9:return[2,{resource:u,pool:i}]}})})},e.prototype._release=function(r,n,i){return Us(this,void 0,void 0,function(){var o,a=this;return Fs(this,function(u){switch(u.label){case 0:return o=r.asKey(),i.isActive()?this._validate(n)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug("".concat(n," destroyed and can't be released to the pool ").concat(o," because it is not functional")),[4,this._destroy(n)]):[3,4];case 1:return u.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(n,{onError:function(s){a._log.debug("Idle connection ".concat(n," destroyed because of error: ").concat(s));var l=a._pools[o];l&&(a._pools[o]=l.filter(function(c){return c!==n})),a._destroy(n).catch(function(){})}}),i.push(n),this._log.isDebugEnabled()&&this._log.debug("".concat(n," released to the pool ").concat(o)),u.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug("".concat(n," destroyed and can't be released to the pool ").concat(o," because pool has been purged")),[4,this._destroy(n)];case 5:u.sent(),u.label=6;case 6:return C9(o,this._activeResourceCounts),this._processPendingAcquireRequests(r),[2]}})})},e.prototype._purgeKey=function(r){return Us(this,void 0,void 0,function(){var n,i,o;return Fs(this,function(a){switch(a.label){case 0:if(n=this._pools[r],i=[],!n)return[3,2];for(;n.length;)o=n.pop(),this._removeIdleObserver&&this._removeIdleObserver(o),i.push(this._destroy(o));return n.close(),delete this._pools[r],[4,Promise.all(i)];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(r){var n=this,i=r.asKey(),o=this._acquireRequests[i];if(o){var a=o.shift();a?this._acquire(r).catch(function(u){return a.reject(u),{resource:null}}).then(function(u){var s=u.resource,l=u.pool;s?a.isCompleted()?n._release(r,s,l):a.resolve(s):a.isCompleted()||(n._acquireRequests[i]||(n._acquireRequests[i]=[]),n._acquireRequests[i].unshift(a))}):delete this._acquireRequests[i]}},e}();function pm(e,r){var n=r[e]||0;r[e]=n+1}function C9(e,r){var n=r[e]||0,i=n-1;i>0?r[e]=i:delete r[e]}var I9=function(){function e(r,n,i,o,a){this._key=r,this._resolve=n,this._reject=i,this._timeoutId=o,this._log=a,this._completed=!1}return e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(r){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(r," acquired from the pool ").concat(this._key)),this._resolve(r))},e.prototype.reject=function(r){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(r))},e}(),A9=function(){function e(){this._active=!0,this._elements=[]}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1},e.prototype.filter=function(r){return this._elements=this._elements.filter(r),this},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._elements.pop()},e.prototype.push=function(r){return this._elements.push(r)},e}();Lv.default=P9;(function(e){var r=v&&v.__createBinding||(Object.create?function(s,l,c,f){f===void 0&&(f=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,f,h)}:function(s,l,c,f){f===void 0&&(f=c),s[f]=l[c]}),n=v&&v.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),i=v&&v.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&r(l,s,c);return n(l,s),l},o=v&&v.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var a=i(Mr);e.PoolConfig=a.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return a.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return a.DEFAULT_MAX_SIZE}});var u=o(Lv);e.Pool=u.default,e.default=u.default})(Dv);var D1={},sf={},R9=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(sf,"__esModule",{value:!0});var j9=oe,M9=function(e){R9(r,e);function r(n){var i=e.call(this)||this;return i._connection=n,i}return r.prototype.acquireConnection=function(n){var i=n===void 0?{}:n;i.accessMode,i.database,i.bookmarks;var o=this._connection;return this._connection=null,Promise.resolve(o)},r}(j9.ConnectionProvider);sf.default=M9;var vs={},cf={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var N9=function(){function e(r){this._errorHandler=r}return Object.defineProperty(e.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(r){throw new Error("not implemented")},enumerable:!1,configurable:!0}),e.prototype.isOpen=function(){throw new Error("not implemented")},e.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(e.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(r){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),e.prototype.connect=function(r,n){throw new Error("not implemented")},e.prototype.write=function(r,n,i){throw new Error("not implemented")},e.prototype.resetAndFlush=function(){throw new Error("not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("not implemented")},e.prototype.close=function(){throw new Error("not implemented")},e.prototype.handleAndTransformError=function(r,n){return this._errorHandler?this._errorHandler.handleAndTransformError(r,n):r},e}();_s.default=N9;var ps={},k9=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),x9=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},$9=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},L1=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});ps.createChannelConnection=void 0;var Bs=Gi,Wo=oe,D9=L1(_s),ym=L1(dv),L9=Wo.error.PROTOCOL_ERROR,U9=Wo.internal.logger.Logger,F9=0;function B9(e,r,n,i,o,a){o===void 0&&(o=null),a===void 0&&(a=function(l){return new Bs.Channel(l)});var u=new Bs.ChannelConfig(e,r,n.errorCode()),s=a(u);return ym.default.handshake(s).then(function(l){var c=l.protocolVersion,f=l.consumeRemainingBuffer,h=new Bs.Chunker(s),d=new Bs.Dechunker,p=function(O){return ym.default.create({version:c,channel:s,chunker:h,dechunker:d,disableLosslessIntegers:r.disableLosslessIntegers,useBigInt:r.useBigInt,serversideRouting:o,server:O.server,log:O.logger,observer:{onPendingObserversChange:O._handleOngoingRequestsNumberChange.bind(O),onError:O._handleFatalError.bind(O),onFailure:O._resetOnFailure.bind(O),onProtocolError:O._handleProtocolError.bind(O),onErrorApplyTransformation:function(T){return O.handleAndTransformError(T,O._address)}}})},m=new U1(s,n,e,i,r.disableLosslessIntegers,o,h,r.notificationFilter,p);return f(function(O){return d.write(O)}),m}).catch(function(l){return s.close().then(function(){throw l})})}ps.createChannelConnection=B9;var U1=function(e){k9(r,e);function r(n,i,o,a,u,s,l,c,f){u===void 0&&(u=!1),s===void 0&&(s=null);var h=e.call(this,i)||this;return h._reseting=!1,h._resetObservers=[],h._id=F9++,h._address=o,h._server={address:o.asHostPort()},h.creationTimestamp=Date.now(),h._disableLosslessIntegers=u,h._ch=n,h._chunker=l,h._log=z9(h,a),h._serversideRouting=s,h._notificationFilter=c,h._dbConnectionId=null,h._protocol=f(h),h._isBroken=!1,h._log.isDebugEnabled()&&h._log.debug("created towards ".concat(o)),h}return Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(n){this._dbConnectionId=n},enumerable:!1,configurable:!0}),r.prototype.connect=function(n,i){return this._initialize(n,i)},r.prototype._initialize=function(n,i){var o=this,a=this;return new Promise(function(u,s){o._protocol.initialize({userAgent:n,authToken:i,notificationFilter:o._notificationFilter,onError:function(l){return s(l)},onComplete:function(l){if(l){var c=l.server;(!o.version||c)&&(o.version=c);var f=l.connection_id;if(o.databaseId||(o.databaseId=f),l.hints){var h=l.hints["connection.recv_timeout_seconds"];if(h!=null){var d=(0,Wo.toNumber)(h);Number.isInteger(d)&&d>0?o._ch.setupReceiveTimeout(d*1e3):o._log.info("Server located at ".concat(o._address," supplied an invalid connection receive timeout value (").concat(d,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}u(a)}})})},r.prototype.protocol=function(){return this._protocol},Object.defineProperty(r.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._server.version},set:function(n){this._server.version=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),r.prototype._handleFatalError=function(n){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||n,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(Wo.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},r.prototype._queueObserver=function(n){return this._protocol.queueObserverIfProtocolIsNotBroken(n)},r.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},r.prototype.resetAndFlush=function(){var n=this;return new Promise(function(i,o){n._reset({onError:function(a){if(n._isBroken)o(a);else{var u=n._handleProtocolError("Received FAILURE as a response for RESET: "+a);o(u)}},onComplete:function(){i()}})})},r.prototype._resetOnFailure=function(){var n=this;this.isOpen()&&this._reset({onError:function(){n._protocol.resetFailure()},onComplete:function(){n._protocol.resetFailure()}})},r.prototype._reset=function(n){var i=this;if(this._reseting){this._protocol.isLastMessageReset()?this._resetObservers.push(n):this._protocol.reset({onError:function(a){n.onError(a)},onComplete:function(){n.onComplete()}});return}this._resetObservers.push(n),this._reseting=!0;var o=function(a){i._reseting=!1;var u=i._resetObservers;i._resetObservers=[],u.forEach(a)};this._protocol.reset({onError:function(a){o(function(u){return u.onError(a)})},onComplete:function(){o(function(a){return a.onComplete()})}})},r.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},r.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},r.prototype._handleOngoingRequestsNumberChange=function(n){n===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},r.prototype.close=function(){return x9(this,void 0,void 0,function(){return $9(this,function(n){switch(n.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return n.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},r.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},r.prototype._handleProtocolError=function(n){this._protocol.resetFailure(),this._updateCurrentObserver();var i=(0,Wo.newError)(n,L9);return this._handleFatalError(i),i},r}(D9.default);ps.default=U1;function z9(e,r){return new U9(r._level,function(n,i){return r._loggerFunction(n,"".concat(e," ").concat(i))})}var Uv={},W9=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),V9=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uv,"__esModule",{value:!0});var H9=V9(_s),q9=function(e){W9(r,e);function r(n,i){var o=e.call(this,i)||this;return i&&(o._originalErrorHandler=n._errorHandler,n._errorHandler=o._errorHandler),o._delegate=n,o}return Object.defineProperty(r.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(n){this._delegate.databaseId=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._delegate.version},set:function(n){this._delegate.version=n},enumerable:!1,configurable:!0}),r.prototype.isOpen=function(){return this._delegate.isOpen()},r.prototype.protocol=function(){return this._delegate.protocol()},r.prototype.connect=function(n,i){return this._delegate.connect(n,i)},r.prototype.write=function(n,i,o){return this._delegate.write(n,i,o)},r.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},r.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},r.prototype.close=function(){return this._delegate.close()},r.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},r}(H9.default);Uv.default=q9;var Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});var F1=oe,G9=F1.error.SERVICE_UNAVAILABLE,Y9=F1.error.SESSION_EXPIRED,K9=function(){function e(r,n,i,o){this._errorCode=r,this._handleUnavailability=n||xh,this._handleWriteFailure=i||xh,this._handleAuthorizationExpired=o||xh}return e.create=function(r){var n=r.errorCode,i=r.handleUnavailability,o=r.handleWriteFailure,a=r.handleAuthorizationExpired;return new e(n,i,o,a)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(r,n){return Z9(r)?this._handleAuthorizationExpired(r,n):X9(r)?this._handleUnavailability(r,n):Q9(r)?this._handleWriteFailure(r,n):r},e}();Fv.default=K9;function Z9(e){return e&&(e.code==="Neo.ClientError.Security.AuthorizationExpired"||e.code==="Neo.ClientError.Security.TokenExpired")}function X9(e){return e?e.code===Y9||e.code===G9||e.code==="Neo.TransientError.General.DatabaseUnavailable":!1}function Q9(e){return e?e.code==="Neo.ClientError.Cluster.NotALeader"||e.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase":!1}function xh(e){return e}(function(e){var r=v&&v.__createBinding||(Object.create?function(c,f,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(f,h);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,d,p)}:function(c,f,h,d){d===void 0&&(d=h),c[d]=f[h]}),n=v&&v.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),i=v&&v.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&r(f,c,h);return n(f,c),f},o=v&&v.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var a=o(_s);e.Connection=a.default;var u=i(ps);e.ChannelConnection=u.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return u.createChannelConnection}});var s=o(Uv);e.DelegateConnection=s.default;var l=o(Fv);e.ConnectionErrorHandler=l.default,e.default=a.default})(cf);var J9=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),eH=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),tH=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),rH=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&eH(r,e,n);return tH(r,e),r},mm=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},bm=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(vs,"__esModule",{value:!0});var gm=cf,Om=rH(Dv),Md=oe,nH=Md.error.SERVICE_UNAVAILABLE,iH=function(e){J9(r,e);function r(n,i){var o=n.id,a=n.config,u=n.log,s=n.userAgent,l=n.authToken;i===void 0&&(i=null);var c=e.call(this)||this;return c._id=o,c._config=a,c._log=u,c._userAgent=s,c._authToken=l,c._createChannelConnection=i||function(f){return(0,gm.createChannelConnection)(f,c._config,c._createConnectionErrorHandler(),c._log)},c._connectionPool=new Om.default({create:c._createConnection.bind(c),destroy:c._destroyConnection.bind(c),validate:c._validateConnection.bind(c),installIdleObserver:r._installIdleObserverOnConnection.bind(c),removeIdleObserver:r._removeIdleObserverOnConnection.bind(c),config:Om.PoolConfig.fromDriverConfig(a),log:c._log}),c._openConnections={},c}return r.prototype._createConnectionErrorHandler=function(){return new gm.ConnectionErrorHandler(nH)},r.prototype._createConnection=function(n,i){var o=this;return this._createChannelConnection(n).then(function(a){return a._release=function(){return i(n,a)},o._openConnections[a.id]=a,a.connect(o._userAgent,o._authToken).catch(function(u){throw o._destroyConnection(a),u})})},r.prototype._validateConnection=function(n){if(!n.isOpen())return!1;var i=this._config.maxConnectionLifetime,o=Date.now()-n.creationTimestamp;return o<=i},r.prototype._destroyConnection=function(n){return delete this._openConnections[n.id],n.close()},r.prototype._verifyConnectivityAndGetServerVersion=function(n){var i=n.address;return mm(this,void 0,void 0,function(){var o,a;return bm(this,function(u){switch(u.label){case 0:return[4,this._connectionPool.acquire(i)];case 1:o=u.sent(),a=new Md.ServerInfo(o.server,o.protocol().version),u.label=2;case 2:return u.trys.push([2,,5,7]),o.protocol().isLastMessageLogon()?[3,4]:[4,o.resetAndFlush()];case 3:u.sent(),u.label=4;case 4:return[3,7];case 5:return[4,o._release()];case 6:return u.sent(),[7];case 7:return[2,a]}})})},r.prototype.close=function(){return mm(this,void 0,void 0,function(){return bm(this,function(n){switch(n.label){case 0:return[4,this._connectionPool.close()];case 1:return n.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(i){return i.close()}))];case 2:return n.sent(),[2]}})})},r._installIdleObserverOnConnection=function(n,i){n._queueObserver(i)},r._removeIdleObserverOnConnection=function(n){n._updateCurrentObserver()},r}(Md.ConnectionProvider);vs.default=iH;var Bv={},oH=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),So=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},To=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},aH=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bv,"__esModule",{value:!0});var uH=aH(vs),$h=cf,B1=oe,zv=B1.internal.constants,sH=zv.BOLT_PROTOCOL_V3,cH=zv.BOLT_PROTOCOL_V4_0,lH=zv.BOLT_PROTOCOL_V4_4,fH=B1.error.SERVICE_UNAVAILABLE,hH=function(e){oH(r,e);function r(n){var i=n.id,o=n.config,a=n.log,u=n.address,s=n.userAgent,l=n.authToken,c=e.call(this,{id:i,config:o,log:a,userAgent:s,authToken:l})||this;return c._address=u,c}return r.prototype.acquireConnection=function(n){var i=this,o=n===void 0?{}:n;o.accessMode;var a=o.database;o.bookmarks;var u=$h.ConnectionErrorHandler.create({errorCode:fH,handleAuthorizationExpired:function(s,l){return i._handleAuthorizationExpired(s,l,a)}});return this._connectionPool.acquire(this._address).then(function(s){return new $h.DelegateConnection(s,u)})},r.prototype._handleAuthorizationExpired=function(n,i,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(i," for database '").concat(o,"' because of an error ").concat(n.code," '").concat(n.message,"'")),this._connectionPool.purge(i).catch(function(){}),n},r.prototype._hasProtocolVersion=function(n){return So(this,void 0,void 0,function(){var i,o;return To(this,function(a){switch(a.label){case 0:return[4,(0,$h.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return i=a.sent(),o=i.protocol()?i.protocol().version:null,[4,i.close()];case 2:return a.sent(),o?[2,n(o)]:[2,!1]}})})},r.prototype.supportsMultiDb=function(){return So(this,void 0,void 0,function(){return To(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=cH})];case 1:return[2,n.sent()]}})})},r.prototype.getNegotiatedProtocolVersion=function(){var n=this;return new Promise(function(i,o){n._hasProtocolVersion(i).catch(o)})},r.prototype.supportsTransactionConfig=function(){return So(this,void 0,void 0,function(){return To(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=sH})];case 1:return[2,n.sent()]}})})},r.prototype.supportsUserImpersonation=function(){return So(this,void 0,void 0,function(){return To(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=lH})];case 1:return[2,n.sent()]}})})},r.prototype.verifyConnectivityAndGetServerInfo=function(){return So(this,void 0,void 0,function(){return To(this,function(n){switch(n.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,n.sent()]}})})},r}(uH.default);Bv.default=hH;var Wv={},Cn={},Vv={},Xi={},Dh=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},Lh=v&&v.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var i=0,o=r.length,a;i<o;i++)(a||!(i in r))&&(a||(a=Array.prototype.slice.call(r,0,i)),a[i]=r[i]);return e.concat(a||Array.prototype.slice.call(r))};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.createValidRoutingTable=void 0;var pt=oe,z1=pt.internal.constants,dH=z1.ACCESS_MODE_WRITE,vH=z1.ACCESS_MODE_READ,Uh=pt.internal.serverAddress.ServerAddress,Hv=pt.error.PROTOCOL_ERROR,_H=1,W1=function(){function e(r){var n=r===void 0?{}:r,i=n.database,o=n.routers,a=n.readers,u=n.writers,s=n.expirationTime,l=n.ttl;this.database=i||null,this.databaseName=i||"default database",this.routers=o||[],this.readers=a||[],this.writers=u||[],this.expirationTime=s||(0,pt.int)(0),this.ttl=l}return e.fromRawRoutingTable=function(r,n,i){return V1(r,n,i)},e.prototype.forget=function(r){this.readers=zs(this.readers,r),this.writers=zs(this.writers,r)},e.prototype.forgetRouter=function(r){this.routers=zs(this.routers,r)},e.prototype.forgetWriter=function(r){this.writers=zs(this.writers,r)},e.prototype.isStaleFor=function(r){return this.expirationTime.lessThan(Date.now())||this.routers.length<_H||r===vH&&this.readers.length===0||r===dH&&this.writers.length===0},e.prototype.isExpiredFor=function(r){return this.expirationTime.add(r).lessThan(Date.now())},e.prototype.allServers=function(){return Lh(Lh(Lh([],Dh(this.routers),!1),Dh(this.readers),!1),Dh(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();Xi.default=W1;function zs(e,r){return e.filter(function(n){return n.asKey()!==r.asKey()})}function V1(e,r,n){var i=n.ttl,o=yH(n,r),a=pH(n,r),u=a.routers,s=a.readers,l=a.writers;return wm(u,"routers",r),wm(s,"readers",r),new W1({database:e||n.db,routers:u,readers:s,writers:l,expirationTime:o,ttl:i})}Xi.createValidRoutingTable=V1;function pH(e,r){try{var n=[],i=[],o=[];return e.servers.forEach(function(a){var u=a.role,s=a.addresses;u==="ROUTE"?n=Fh(s).map(function(l){return Uh.fromUrl(l)}):u==="WRITE"?o=Fh(s).map(function(l){return Uh.fromUrl(l)}):u==="READ"&&(i=Fh(s).map(function(l){return Uh.fromUrl(l)}))}),{routers:n,readers:i,writers:o}}catch(a){throw(0,pt.newError)("Unable to parse servers entry from router ".concat(r,` from addresses:
`).concat(pt.json.stringify(e.servers),`
Error message: `).concat(a.message),Hv)}}function yH(e,r){try{var n=(0,pt.int)(Date.now()),i=(0,pt.int)(e.ttl).multiply(1e3).add(n);return i.lessThan(n)?pt.Integer.MAX_VALUE:i}catch(o){throw(0,pt.newError)("Unable to parse TTL entry from router ".concat(r,` from raw routing table:
`).concat(pt.json.stringify(e),`
Error message: `).concat(o.message),Hv)}}function wm(e,r,n){if(e.length===0)throw(0,pt.newError)("Received no "+r+" from router "+n,Hv)}function Fh(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}var mH=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vv,"__esModule",{value:!0});var bH=mH(Xi),gH=function(){function e(r){this._routingContext=r}return e.prototype.lookupRoutingTableOnRouter=function(r,n,i,o){var a=this;return r._acquireConnection(function(u){return a._requestRawRoutingTable(u,r,n,i,o).then(function(s){return s.isNull?null:bH.default.fromRawRoutingTable(n,i,s)})})},e.prototype._requestRawRoutingTable=function(r,n,i,o,a){var u=this;return new Promise(function(s,l){r.protocol().requestRoutingInformation({routingContext:u._routingContext,databaseName:i,impersonatedUser:a,sessionContext:{bookmarks:n._lastBookmarks,mode:n._mode,database:n._database,afterComplete:n._onComplete},onCompleted:s,onError:l})})},e}();Vv.default=gH;var H1=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.RoutingTable=Cn.Rediscovery=void 0;var q1=H1(Vv);Cn.Rediscovery=q1.default;var OH=H1(Xi);Cn.RoutingTable=OH.default;Cn.default=q1.default;var wH=v&&v.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wc=v&&v.__assign||function(){return wc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wc.apply(this,arguments)},EH=v&&v.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,o)}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),SH=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),TH=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&EH(r,e,n);return SH(r,e),r},Ve=v&&v.__awaiter||function(e,r,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function s(f){try{c(i.next(f))}catch(h){u(h)}}function l(f){try{c(i.throw(f))}catch(h){u(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((i=i.apply(e,r||[])).next())})},He=v&&v.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],o=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Nd=v&&v.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},nr=v&&v.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],u;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a},G1=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wv,"__esModule",{value:!0});var tt=oe,Em=TH(Cn),PH=Gi,CH=G1(sf),IH=G1(vs),AH=Rr,an=cf,Bh=tt.error.SERVICE_UNAVAILABLE,Po=tt.error.SESSION_EXPIRED,RH=tt.internal.bookmarks.Bookmarks,ys=tt.internal.constants,Sm=ys.ACCESS_MODE_READ,zh=ys.ACCESS_MODE_WRITE,jH=ys.BOLT_PROTOCOL_V3,MH=ys.BOLT_PROTOCOL_V4_0,NH=ys.BOLT_PROTOCOL_V4_4,kH="Neo.ClientError.Procedure.ProcedureNotFound",xH="Neo.ClientError.Database.DatabaseNotFound",$H="Neo.ClientError.Transaction.InvalidBookmark",DH="Neo.ClientError.Transaction.InvalidBookmarkMixture",LH="Neo.ClientError.Security.AuthorizationExpired",UH="Neo.ClientError.Statement.ArgumentError",FH="Neo.ClientError.Request.Invalid",BH="Neo.ClientError.Statement.TypeError",zH="system",Ws=null,WH=(0,tt.int)(3e4),VH=function(e){wH(r,e);function r(n){var i=n.id,o=n.address,a=n.routingContext,u=n.hostNameResolver,s=n.config,l=n.log,c=n.userAgent,f=n.authToken,h=n.routingTablePurgeDelay,d=e.call(this,{id:i,config:s,log:l,userAgent:c,authToken:f},function(p){return(0,an.createChannelConnection)(p,d._config,d._createConnectionErrorHandler(),d._log,d._routingContext)})||this;return d._routingContext=wc(wc({},a),{address:o.toString()}),d._seedRouter=o,d._rediscovery=new Em.default(d._routingContext),d._loadBalancingStrategy=new AH.LeastConnectedLoadBalancingStrategy(d._connectionPool),d._hostNameResolver=u,d._dnsResolver=new PH.HostNameResolver,d._log=l,d._useSeedRouter=!0,d._routingTableRegistry=new HH(h?(0,tt.int)(h):WH),d}return r.prototype._createConnectionErrorHandler=function(){return new an.ConnectionErrorHandler(Po)},r.prototype._handleUnavailability=function(n,i,o){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(i," for database '").concat(o,"' because of an error ").concat(n.code," '").concat(n.message,"'")),this.forget(i,o||Ws),n},r.prototype._handleAuthorizationExpired=function(n,i,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(i," for database '").concat(o,"' because of an error ").concat(n.code," '").concat(n.message,"'")),this._connectionPool.purge(i).catch(function(){}),n},r.prototype._handleWriteFailure=function(n,i,o){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(i," for database '").concat(o,"' because of an error ").concat(n.code," '").concat(n.message,"'")),this.forgetWriter(i,o||Ws),(0,tt.newError)("No longer possible to write to server at "+i,Po,n)},r.prototype.acquireConnection=function(n){var i=n===void 0?{}:n,o=i.accessMode,a=i.database,u=i.bookmarks,s=i.impersonatedUser,l=i.onDatabaseNameResolved;return Ve(this,void 0,void 0,function(){var c,f,h,d,p,m,O,T,b=this;return He(this,function(P){switch(P.label){case 0:return h={database:a||Ws},d=new an.ConnectionErrorHandler(Po,function(C,E){return b._handleUnavailability(C,E,h.database)},function(C,E){return b._handleWriteFailure(C,E,h.database)},function(C,E){return b._handleAuthorizationExpired(C,E,h.database)}),[4,this._freshRoutingTable({accessMode:o,database:h.database,bookmarks:u,impersonatedUser:s,onDatabaseNameResolved:function(C){h.database=h.database||C,l&&l(C)}})];case 1:if(p=P.sent(),o===Sm)f=this._loadBalancingStrategy.selectReader(p.readers),c="read";else if(o===zh)f=this._loadBalancingStrategy.selectWriter(p.writers),c="write";else throw(0,tt.newError)("Illegal mode "+o);if(!f)throw(0,tt.newError)("Failed to obtain connection towards ".concat(c," server. Known routing table is: ").concat(p),Po);P.label=2;case 2:return P.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(f,c,p)];case 3:return m=P.sent(),[2,new an.DelegateConnection(m,d)];case 4:throw O=P.sent(),T=d.handleAndTransformError(O,f),T;case 5:return[2]}})})},r.prototype._hasProtocolVersion=function(n){return Ve(this,void 0,void 0,function(){var i,o,a,u,s,l;return He(this,function(c){switch(c.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:i=c.sent(),a=0,c.label=2;case 2:if(!(a<i.length))return[3,8];c.label=3;case 3:return c.trys.push([3,6,,7]),[4,(0,an.createChannelConnection)(i[a],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return u=c.sent(),s=u.protocol()?u.protocol().version:null,[4,u.close()];case 5:return c.sent(),s?[2,n(s)]:[2,!1];case 6:return l=c.sent(),o=l,[3,7];case 7:return a++,[3,2];case 8:if(o)throw o;return[2,!1]}})})},r.prototype.supportsMultiDb=function(){return Ve(this,void 0,void 0,function(){return He(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=MH})];case 1:return[2,n.sent()]}})})},r.prototype.supportsTransactionConfig=function(){return Ve(this,void 0,void 0,function(){return He(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=jH})];case 1:return[2,n.sent()]}})})},r.prototype.supportsUserImpersonation=function(){return Ve(this,void 0,void 0,function(){return He(this,function(n){switch(n.label){case 0:return[4,this._hasProtocolVersion(function(i){return i>=NH})];case 1:return[2,n.sent()]}})})},r.prototype.getNegotiatedProtocolVersion=function(){var n=this;return new Promise(function(i,o){n._hasProtocolVersion(i).catch(o)})},r.prototype.verifyConnectivityAndGetServerInfo=function(n){var i=n.database,o=n.accessMode;return Ve(this,void 0,void 0,function(){var a,u,s,l,c,f,h,d,p,m,O,T;return He(this,function(b){switch(b.label){case 0:return a={database:i||Ws},[4,this._freshRoutingTable({accessMode:o,database:a.database,onDatabaseNameResolved:function(P){a.database=a.database||P}})];case 1:u=b.sent(),s=o===zh?u.writers:u.readers,l=(0,tt.newError)("No servers available for database '".concat(a.database,"' with access mode '").concat(o,"'"),Bh),b.label=2;case 2:b.trys.push([2,9,10,11]),c=Nd(s),f=c.next(),b.label=3;case 3:if(f.done)return[3,8];h=f.value,b.label=4;case 4:return b.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:h})];case 5:return d=b.sent(),[2,d];case 6:return p=b.sent(),l=p,[3,7];case 7:return f=c.next(),[3,3];case 8:return[3,11];case 9:return m=b.sent(),O={error:m},[3,11];case 10:try{f&&!f.done&&(T=c.return)&&T.call(c)}finally{if(O)throw O.error}return[7];case 11:throw l}})})},r.prototype.forget=function(n,i){this._routingTableRegistry.apply(i,{applyWhenExists:function(o){return o.forget(n)}}),this._connectionPool.purge(n).catch(function(){})},r.prototype.forgetWriter=function(n,i){this._routingTableRegistry.apply(i,{applyWhenExists:function(o){return o.forgetWriter(n)}})},r.prototype._acquireConnectionToServer=function(n,i,o){return this._connectionPool.acquire(n)},r.prototype._freshRoutingTable=function(n){var i=n===void 0?{}:n,o=i.accessMode,a=i.database,u=i.bookmarks,s=i.impersonatedUser,l=i.onDatabaseNameResolved,c=this._routingTableRegistry.get(a,function(){return new Em.RoutingTable({database:a})});return c.isStaleFor(o)?(this._log.info('Routing table is stale for database: "'.concat(a,'" and access mode: "').concat(o,'": ').concat(c)),this._refreshRoutingTable(c,u,s,l)):c},r.prototype._refreshRoutingTable=function(n,i,o,a){var u=n.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(u,n,i,o,a):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(u,n,i,o,a)},r.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(n,i,o,a,u){return Ve(this,void 0,void 0,function(){var s,l,c,f,h,d,p;return He(this,function(m){switch(m.label){case 0:return s=[],[4,this._fetchRoutingTableUsingSeedRouter(s,this._seedRouter,i,o,a)];case 1:return l=nr.apply(void 0,[m.sent(),2]),c=l[0],f=l[1],c?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(n,i,o,a)];case 3:h=nr.apply(void 0,[m.sent(),2]),d=h[0],p=h[1],c=d,f=p||f,m.label=4;case 4:return[4,this._applyRoutingTableIfPossible(i,c,u,f)];case 5:return[2,m.sent()]}})})},r.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(n,i,o,a,u){return Ve(this,void 0,void 0,function(){var s,l,c,f;return He(this,function(h){switch(h.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(n,i,o,a)];case 1:return s=nr.apply(void 0,[h.sent(),2]),l=s[0],c=s[1],l?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(n,this._seedRouter,i,o,a)];case 2:f=nr.apply(void 0,[h.sent(),2]),l=f[0],c=f[1],h.label=3;case 3:return[4,this._applyRoutingTableIfPossible(i,l,u,c)];case 4:return[2,h.sent()]}})})},r.prototype._fetchRoutingTableUsingKnownRouters=function(n,i,o,a){return Ve(this,void 0,void 0,function(){var u,s,l,c;return He(this,function(f){switch(f.label){case 0:return[4,this._fetchRoutingTable(n,i,o,a)];case 1:return u=nr.apply(void 0,[f.sent(),2]),s=u[0],l=u[1],s?[2,[s,null]]:(c=n.length-1,r._forgetRouter(i,n,c),[2,[null,l]])}})})},r.prototype._fetchRoutingTableUsingSeedRouter=function(n,i,o,a,u){return Ve(this,void 0,void 0,function(){var s,l;return He(this,function(c){switch(c.label){case 0:return[4,this._resolveSeedRouter(i)];case 1:return s=c.sent(),l=s.filter(function(f){return n.indexOf(f)<0}),[4,this._fetchRoutingTable(l,o,a,u)];case 2:return[2,c.sent()]}})})},r.prototype._resolveSeedRouter=function(n){return Ve(this,void 0,void 0,function(){var i,o,a=this;return He(this,function(u){switch(u.label){case 0:return[4,this._hostNameResolver.resolve(n)];case 1:return i=u.sent(),[4,Promise.all(i.map(function(s){return a._dnsResolver.resolve(s)}))];case 2:return o=u.sent(),[2,[].concat.apply([],o)]}})})},r.prototype._fetchRoutingTable=function(n,i,o,a){return Ve(this,void 0,void 0,function(){var u=this;return He(this,function(s){return[2,n.reduce(function(l,c,f){return Ve(u,void 0,void 0,function(){var h,d,p,m,O,T,b;return He(this,function(P){switch(P.label){case 0:return[4,l];case 1:return h=nr.apply(void 0,[P.sent(),1]),d=h[0],d?[2,[d,null]]:(p=f-1,r._forgetRouter(i,n,p),[4,this._createSessionForRediscovery(c,o,a)]);case 2:if(m=nr.apply(void 0,[P.sent(),2]),O=m[0],T=m[1],!O)return[3,8];P.label=3;case 3:return P.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(O,i.database,c,a)];case 4:return[2,[P.sent(),null]];case 5:return b=P.sent(),[2,this._handleRediscoveryError(b,c)];case 6:return O.close(),[7];case 7:return[3,9];case 8:return[2,[null,T]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},r.prototype._createSessionForRediscovery=function(n,i,o){return Ve(this,void 0,void 0,function(){var a,u,s,l,c,f=this;return He(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this._connectionPool.acquire(n)];case 1:return a=h.sent(),u=an.ConnectionErrorHandler.create({errorCode:Po,handleAuthorizationExpired:function(d,p){return f._handleAuthorizationExpired(d,p)}}),s=new CH.default(new an.DelegateConnection(a,u)),l=a.protocol().version,l<4?[2,[new tt.Session({mode:zh,bookmarks:RH.empty(),connectionProvider:s}),null]]:[2,[new tt.Session({mode:Sm,database:zH,bookmarks:i,connectionProvider:s,impersonatedUser:o}),null]];case 2:return c=h.sent(),[2,this._handleRediscoveryError(c,n)];case 3:return[2]}})})},r.prototype._handleRediscoveryError=function(n,i){if(qH(n)||GH(n))throw n;if(n.code===kH)throw(0,tt.newError)("Server at ".concat(i.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),Bh,n);return this._log.warn("unable to fetch routing table because of an error ".concat(n)),[null,n]},r.prototype._applyRoutingTableIfPossible=function(n,i,o,a){return Ve(this,void 0,void 0,function(){return He(this,function(u){switch(u.label){case 0:if(!i)throw(0,tt.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(n),Bh,a);return i.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(i,o)];case 1:return u.sent(),[2,i]}})})},r.prototype._updateRoutingTable=function(n,i){return Ve(this,void 0,void 0,function(){return He(this,function(o){switch(o.label){case 0:return[4,this._connectionPool.keepAll(n.allServers())];case 1:return o.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(n),i(n.database),this._log.info("Updated routing table ".concat(n)),[2]}})})},r._forgetRouter=function(n,i,o){var a=i[o];n&&a&&n.forgetRouter(a)},r}(IH.default);Wv.default=VH;var HH=function(){function e(r){this._tables=new Map,this._routingTablePurgeDelay=r}return e.prototype.register=function(r){return this._tables.set(r.database,r),this},e.prototype.apply=function(r,n){var i=n===void 0?{}:n,o=i.applyWhenExists,a=i.applyWhenDontExists,u=a===void 0?function(){}:a;return this._tables.has(r)?o(this._tables.get(r)):typeof r=="string"||r===null?u():this._forEach(o),this},e.prototype.get=function(r,n){return this._tables.has(r)?this._tables.get(r):typeof n=="function"?n():n},e.prototype.removeExpired=function(){var r=this;return this._removeIf(function(n){return n.isExpiredFor(r._routingTablePurgeDelay)})},e.prototype._forEach=function(r){var n,i;try{for(var o=Nd(this._tables),a=o.next();!a.done;a=o.next()){var u=nr(a.value,2),s=u[1];r(s)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return this},e.prototype._remove=function(r){return this._tables.delete(r),this},e.prototype._removeIf=function(r){var n,i;try{for(var o=Nd(this._tables),a=o.next();!a.done;a=o.next()){var u=nr(a.value,2),s=u[0],l=u[1];r(l)&&this._remove(s)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return this},e}();function qH(e){return[xH,$H,DH,UH,FH,BH].includes(e.code)}function GH(e){return e.code.startsWith("Neo.ClientError.Security.")&&![LH].includes(e.code)}(function(e){var r=v&&v.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var n=sf;Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return r(n).default}});var i=vs;Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return r(i).default}});var o=Bv;Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return r(o).default}});var a=Wv;Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return r(a).default}})})(D1);(function(e){var r=v&&v.__createBinding||(Object.create?function(a,u,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(u,s);(!c||("get"in c?!u.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(a,l,c)}:function(a,u,s,l){l===void 0&&(l=s),a[l]=u[s]}),n=v&&v.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),i=v&&v.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&r(u,a,s);return n(u,a),u},o=v&&v.__exportStar||function(a,u){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&r(u,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=i(Rr),e.bolt=i(dv),e.buf=i($n),e.channel=i(Gi),e.packstream=i(Ye),e.pool=i(Dv),o(D1,e)})(f0);(function(e){var r=v&&v.__awaiter||function(X,R,$,k){function F(U){return U instanceof $?U:new $(function(Y){Y(U)})}return new($||($=Promise))(function(U,Y){function Z(ae){try{W(k.next(ae))}catch(M){Y(M)}}function ee(ae){try{W(k.throw(ae))}catch(M){Y(M)}}function W(ae){ae.done?U(ae.value):F(ae.value).then(Z,ee)}W((k=k.apply(X,R||[])).next())})},n=v&&v.__generator||function(X,R){var $={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},k,F,U,Y;return Y={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Z(W){return function(ae){return ee([W,ae])}}function ee(W){if(k)throw new TypeError("Generator is already executing.");for(;Y&&(Y=0,W[0]&&($=0)),$;)try{if(k=1,F&&(U=W[0]&2?F.return:W[0]?F.throw||((U=F.return)&&U.call(F),0):F.next)&&!(U=U.call(F,W[1])).done)return U;switch(F=0,U&&(W=[W[0]&2,U.value]),W[0]){case 0:case 1:U=W;break;case 4:return $.label++,{value:W[1],done:!1};case 5:$.label++,F=W[1],W=[0];continue;case 7:W=$.ops.pop(),$.trys.pop();continue;default:if(U=$.trys,!(U=U.length>0&&U[U.length-1])&&(W[0]===6||W[0]===2)){$=0;continue}if(W[0]===3&&(!U||W[1]>U[0]&&W[1]<U[3])){$.label=W[1];break}if(W[0]===6&&$.label<U[1]){$.label=U[1],U=W;break}if(U&&$.label<U[2]){$.label=U[2],$.ops.push(W);break}U[2]&&$.ops.pop(),$.trys.pop();continue}W=R.call(X,$)}catch(ae){W=[6,ae],F=0}finally{k=U=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}},i=v&&v.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(e,"__esModule",{value:!0}),e.PathSegment=e.Path=e.UnboundRelationship=e.Relationship=e.Node=e.Record=e.ServerInfo=e.Notification=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ResultSummary=e.RxResult=e.RxManagedTransaction=e.RxTransaction=e.RxSession=e.EagerResult=e.Result=e.ManagedTransaction=e.Transaction=e.Session=e.Driver=e.temporal=e.spatial=e.graph=e.error=e.routing=e.session=e.types=e.logging=e.auth=e.isRetryableError=e.Neo4jError=e.integer=e.isUnboundRelationship=e.isRelationship=e.isPathSegment=e.isPath=e.isNode=e.isDateTime=e.isLocalDateTime=e.isDate=e.isTime=e.isLocalTime=e.isDuration=e.isPoint=e.isInt=e.int=e.hasReachableServer=e.driver=void 0,e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationCategory=e.resultTransformers=e.bookmarkManager=e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=e.Integer=e.Point=void 0;var o=lr;Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return o.Driver}});var a=i(lv),u=oe;Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(e,"error",{enumerable:!0,get:function(){return u.error}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return u.Integer}}),Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return u.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return u.Point}}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return u.isNode}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return u.isPath}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return u.isPathSegment}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return u.isRelationship}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return u.isTime}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return u.isUnboundRelationship}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return u.Node}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return u.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return u.PathSegment}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return u.Relationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return u.UnboundRelationship}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return u.Record}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return u.ResultSummary}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return u.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return u.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return u.QueryStatistics}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return u.Notification}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return u.ServerInfo}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(e,"EagerResult",{enumerable:!0,get:function(){return u.EagerResult}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return u.auth}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return u.Session}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return u.Transaction}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return u.ManagedTransaction}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return u.bookmarkManager}}),Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return u.routing}}),Object.defineProperty(e,"resultTransformers",{enumerable:!0,get:function(){return u.resultTransformers}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return u.notificationCategory}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return u.notificationSeverityLevel}}),Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return u.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return u.notificationFilterMinimumSeverityLevel}});var s=f0,l=i(Lc);e.RxSession=l.default;var c=i(as);e.RxTransaction=c.default;var f=i(gl);e.RxManagedTransaction=f.default;var h=i(qi);e.RxResult=h.default;var d=u.internal.util,p=d.ENCRYPTION_ON,m=d.assertString,O=d.isEmptyObjectOrNull,T=u.internal.serverAddress.ServerAddress,b=u.internal.urlUtil;function P(X,R,$){$===void 0&&($={}),m(X,"Bolt URL");var k=b.parseDatabaseUrl(X),F=!1,U=!1,Y;switch(k.scheme){case"bolt":break;case"bolt+s":U=!0,Y="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":U=!0,Y="TRUST_ALL_CERTIFICATES";break;case"neo4j":F=!0;break;case"neo4j+s":U=!0,Y="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",F=!0;break;case"neo4j+ssc":U=!0,Y="TRUST_ALL_CERTIFICATES",F=!0;break;default:throw new Error("Unknown scheme: ".concat(k.scheme))}if(U){if("encrypted"in $||"trust"in $)throw new Error("Encryption/trust can only be configured either through URL or config, not both");$.encrypted=p,$.trust=Y}R=R||{},R.scheme=R.scheme||"none",$.userAgent=$.userAgent||E;var Z=T.fromUrl(k.hostAndPort),ee={address:Z,typename:F?"Routing":"Direct",routing:F};return new o.Driver(ee,$,W());function W(){if(F)return function(ae,M,L,q){return new s.RoutingConnectionProvider({id:ae,config:M,log:L,hostNameResolver:q,authToken:R,address:Z,userAgent:M.userAgent,routingContext:k.query})};if(!O(k.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(X,"'"));return function(ae,M,L){return new s.DirectConnectionProvider({id:ae,config:M,log:L,authToken:R,address:Z,userAgent:M.userAgent})}}}e.driver=P;function C(X,R){return r(this,void 0,void 0,function(){var $;return n(this,function(k){switch(k.label){case 0:$=P(X,{scheme:"none",principal:"",credentials:""},R),k.label=1;case 1:return k.trys.push([1,,3,5]),[4,$.getNegotiatedProtocolVersion()];case 2:return k.sent(),[2,!0];case 3:return[4,$.close()];case 4:return k.sent(),[7];case 5:return[2]}})})}e.hasReachableServer=C;var E="neo4j-javascript/"+a.default,w={console:function(X){return{level:X,logger:function(R,$){return console.log("".concat(v.Date.now()," ").concat(R.toUpperCase()," ").concat($))}}}};e.logging=w;var A={Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,PathSegment:u.PathSegment,Path:u.Path,Result:u.Result,EagerResult:u.EagerResult,ResultSummary:u.ResultSummary,Record:u.Record,Point:u.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Integer:u.Integer};e.types=A;var j={READ:o.READ,WRITE:o.WRITE};e.session=j;var N={toNumber:u.toNumber,toString:u.toString,inSafeRange:u.inSafeRange};e.integer=N;var z={isPoint:u.isPoint};e.spatial=z;var B={isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime};e.temporal=B;var G={isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship};e.graph=G;var H={driver:P,hasReachableServer:C,int:u.int,isInt:u.isInt,isPoint:u.isPoint,isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime,isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship,integer:N,Neo4jError:u.Neo4jError,isRetryableError:u.isRetryableError,auth:u.auth,logging:w,types:A,session:j,routing:u.routing,error:u.error,graph:G,spatial:z,temporal:B,Driver:o.Driver,Session:u.Session,Transaction:u.Transaction,ManagedTransaction:u.ManagedTransaction,Result:u.Result,EagerResult:u.EagerResult,RxSession:l.default,RxTransaction:c.default,RxManagedTransaction:f.default,RxResult:h.default,ResultSummary:u.ResultSummary,Plan:u.Plan,ProfiledPlan:u.ProfiledPlan,QueryStatistics:u.QueryStatistics,Notification:u.Notification,ServerInfo:u.ServerInfo,Record:u.Record,Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,Path:u.Path,PathSegment:u.PathSegment,Point:u.Point,Integer:u.Integer,Duration:u.Duration,LocalTime:u.LocalTime,Time:u.Time,Date:u.Date,LocalDateTime:u.LocalDateTime,DateTime:u.DateTime,bookmarkManager:u.bookmarkManager,resultTransformers:u.resultTransformers,notificationCategory:u.notificationCategory,notificationSeverityLevel:u.notificationSeverityLevel,notificationFilterDisabledCategory:u.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:u.notificationFilterMinimumSeverityLevel};e.default=H})(_b);const Wh=QO(_b);const YH={原因:"rgb(76, 142, 218)",方法:"rgb(86, 148, 128)",缺陷:"rgb(255, 196, 84)",设备:"rgb(241, 102, 103)"},KH={name:"graph",data(){return{nodeNum:0,linkNum:0,startNode:"",layoutType:"",current:null,endNode:"",close:!1,close1:!1,close2:!1,nodeName:"",pageNum:100,driver:null,myGraph:null,graphData:null,result:{},options:[{label:"cm",value:""},{label:"td",value:"td"},{label:"bu",value:"bu"},{label:"lr",value:"lr"},{label:"rl",value:"rl"},{label:"radialout",value:"radialout"},{label:"radialin",value:"radialin"}],pageOptions:[{label:"100/页",value:100},{label:"200/页",value:200},{label:"500/页",value:500},{label:"1000/页",value:1e3},{label:"2000/页",value:2e3},{label:"5000/页",value:5e3}],db:{uri:"neo4j://localhost",user:"neo4j",password:"@Mutong@1214"}}},watch:{layoutType(e,r){this.myGraph.dagMode(e)}},mounted(){const e=document.getElementById("graph"),r=kI()(e);this.myGraph=r,this.driver=Wh.driver(this.db.uri,Wh.auth.basic(this.db.user,this.db.password)),this.init(r),this.getStatistic()},methods:{async init(e){let r=await this.getCyperResult(100);if(!r)return;const n=Object.values(r.rel_info),i=Object.entries(r.node_info).map(o=>({id:o[0],labels:o[1].labels,attrs:o[1].attrs}));this.graphData={nodes:i,links:n},e.graphData({nodes:i,links:n}),e.nodeLabel(o=>o.attrs.name).dagMode("").dagLevelDistance(100).nodeRelSize(6).nodeAutoColorBy(o=>"#f0f").linkColor(()=>"rgba(255,255,255,0.4)").linkVisibility(!0).linkDirectionalParticles(1).linkDirectionalParticleWidth(1.4).onNodeClick(o=>{console.log("node",o),this.showNode(o),this.current=o,e.centerAt(o.x,o.y,1e3),e.zoom(8,2e3)}).nodeCanvasObject((o,a,u)=>{const s=o.attrs.name,l=2;a.font=`${l}px Sans-Serif`;const f=[a.measureText(s).width,l].map(h=>h+l*.2);a.beginPath(),a.arc(o.x,o.y,6,0,2*Math.PI),a.fillStyle=YH[o.labels],a.fill(),a.lineWidth=.2,a.strokeStyle="#fff",a.stroke(),a.textAlign="center",a.textBaseline="middle",a.fillStyle="#fff",a.fillText(s,o.x,o.y),o.__bckgDimensions=f}).nodePointerAreaPaint((o,a,u)=>{u.fillStyle=a;const s=o.__bckgDimensions;s&&u.fillRect(o.x-s[0]/2,o.y-s[1]/2,...s)})},async getCyperResult(e){const n=await this.driver.session().run("MATCH (n)-[r]-(m) RETURN * LIMIT $limit_items ",{limit_items:Wh.int(e)}),i={},o={};return n.records.map(a=>{i[a.get("n").properties.uid]={labels:a.get("n").labels.toString(),attrs:a.get("n").properties},i[a.get("m").properties.uid]={labels:a.get("m").labels.toString(),attrs:a.get("m").properties},o[a.get("r").toString()]={source:a.get("n").properties.uid,target:a.get("m").properties.uid}}),{node_info:i,rel_info:o}},canvasWraptitleText(e,r,n,i,o=60,a=20,u=1){if(!(typeof r!="string"||typeof n!="number"||typeof i!="number")){for(var s=r.split(""),l="",c=1,f=0;f<s.length;f++){var h=l+s[f],d=e.measureText(h),p=d.width;if(p>o&&f>0){if(c>=u){var m=h.split("");m.splice(-9);var O=m.join("");O+="...",e.fillText(O,n,i);return}e.fillText(l,n,i),l=s[f],i+=a,c+=1}else l=h}e.fillText(l,n,i)}},async searchNode(e,r){const n=this.driver.session();let i=e?":"+e:"";const o=await n.run("MATCH (n"+i+") RETURN n LIMIT "+r),a={},u={};o.records.map(c=>{a[c.get("n").properties.uid]={labels:c.get("n").labels.toString(),attrs:c.get("n").properties}});const s=Object.values(u),l=Object.entries(a).map(c=>({id:c[0],labels:c[1].labels,attrs:c[1].attrs}));this.myGraph.graphData({nodes:l,links:s})},async searchAllLink(e){const n=await this.driver.session().run("MATCH (n)-[r]->(m)-[p]->(x)-[t]->(y) RETURN * LIMIT "+e),i={},o={};n.records.map(s=>{i[s.get("n").properties.uid]={labels:s.get("n").labels.toString(),attrs:s.get("n").properties},i[s.get("m").properties.uid]={labels:s.get("m").labels.toString(),attrs:s.get("m").properties},i[s.get("x").properties.uid]={labels:s.get("x").labels.toString(),attrs:s.get("x").properties},i[s.get("y").properties.uid]={labels:s.get("y").labels.toString(),attrs:s.get("y").properties},o[s.get("r").toString()]={source:s.get("n").properties.uid,target:s.get("m").properties.uid},o[s.get("p").toString()]={source:s.get("m").properties.uid,target:s.get("x").properties.uid},o[s.get("t").toString()]={source:s.get("x").properties.uid,target:s.get("y").properties.uid}});const a=Object.values(o),u=Object.entries(i).map(s=>({id:s[0],labels:s[1].labels,attrs:s[1].attrs}));this.myGraph.graphData({nodes:u,links:a})},async fuzzySearchNode(e,r){const i=await this.driver.session().run("MATCH (n)  WHERE n.name CONTAINS '"+e+"'  RETURN n LIMIT "+r),o={},a={};i.records.map(l=>{o[l.get("n").properties.uid]={labels:l.get("n").labels.toString(),attrs:l.get("n").properties}});const u=Object.values(a),s=Object.entries(o).map(l=>({id:l[0],labels:l[1].labels,attrs:l[1].attrs}));this.myGraph.graphData({nodes:s,links:u})},async searchOneKindLink(e,r){const i=await this.driver.session().run("MATCH (n)-[r:"+e+"]-(m) RETURN *  LIMIT "+r),o={},a={};i.records.map(l=>{o[l.get("n").properties.uid]={labels:l.get("n").labels.toString(),attrs:l.get("n").properties},o[l.get("m").properties.uid]={labels:l.get("m").labels.toString(),attrs:l.get("m").properties},a[l.get("r").toString()]={source:l.get("n").properties.uid,target:l.get("m").properties.uid}});const u=Object.values(a),s=Object.entries(o).map(l=>({id:l[0],labels:l[1].labels,attrs:l[1].attrs}));this.myGraph.graphData({nodes:s,links:u})},async searchMajorLink(e,r){const i=await this.driver.session().run("MATCH (n)-[r]->(m)-[p]->(x)-[t]->(y) WHERE n.major CONTAINS '"+e+"' RETURN * LIMIT "+r),o={},a={};i.records.map(l=>{o[l.get("n").properties.uid]={labels:l.get("n").labels.toString(),attrs:l.get("n").properties},o[l.get("m").properties.uid]={labels:l.get("m").labels.toString(),attrs:l.get("m").properties},o[l.get("x").properties.uid]={labels:l.get("x").labels.toString(),attrs:l.get("x").properties},o[l.get("y").properties.uid]={labels:l.get("y").labels.toString(),attrs:l.get("y").properties},a[l.get("r").toString()]={source:l.get("n").properties.uid,target:l.get("m").properties.uid},a[l.get("p").toString()]={source:l.get("m").properties.uid,target:l.get("x").properties.uid},a[l.get("t").toString()]={source:l.get("x").properties.uid,target:l.get("y").properties.uid}});const u=Object.values(a),s=Object.entries(o).map(l=>({id:l[0],labels:l[1].labels,attrs:l[1].attrs}));this.myGraph.graphData({nodes:s,links:u})},async searchDeepLink(e,r,n){const o=await this.driver.session().run("MATCH (n)-[r]->(m) WHERE n.name CONTAINS '"+e+"' AND m.name CONTAINS '"+r+"' RETURN * LIMIT "+n),a={},u={};o.records.map(c=>{a[c.get("n").properties.uid]={labels:c.get("n").labels.toString(),attrs:c.get("n").properties},a[c.get("m").properties.uid]={labels:c.get("m").labels.toString(),attrs:c.get("m").properties},u[c.get("r").toString()]={source:c.get("n").properties.uid,target:c.get("m").properties.uid}});const s=Object.values(u),l=Object.entries(a).map(c=>({id:c[0],labels:c[1].labels,attrs:c[1].attrs}));this.myGraph.graphData({nodes:l,links:s})},showNode(e){ew({title:null,duration:1e4,message:ke("p",null,[ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"缺陷类型："),ke("span",{},e&&e.attrs.defect)]),ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"缺陷原因："),ke("span",{},e&&e.attrs.reason)]),ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"缺陷设备："),ke("span",{},e&&e.attrs.device)]),ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"解决方法："),ke("span",{},e&&e.attrs.method)]),ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"缺陷描述："),ke("span",{},e&&e.attrs.data)]),ke("ul",{class:"test-ul"},[ke("span",{class:"label"},"消缺说明："),ke("span",{},e&&e.attrs.solution)])])})},async getStatistic(){const e=this.driver.session(),r=await e.run("MATCH (n) RETURN count(*)"),n=await e.run("MATCH (n)-[r]-() RETURN count(distinct r)");try{console.log(r.records[0].get("count(*)").low,n.records[0].get("count(distinct r)").low),this.nodeNum=r.records[0].get("count(*)").low,this.linkNum=n.records[0].get("count(distinct r)").low}catch{}}}},Ln=e=>(tw("data-v-1df5b0c8"),e=e(),rw(),e),ZH=Ln(()=>je("h3",{id:"title"},"自动化设备缺陷知识库",-1)),XH={class:"search"},QH=Ln(()=>je("span",null,"节点名称：",-1)),JH={class:"search"},eq=Ln(()=>je("span",null,"首节点：",-1)),tq={class:"node-input"},rq=Ln(()=>je("span",null,"尾节点：",-1)),nq=Ln(()=>je("h6",null,"专业分类",-1)),iq={class:"major"},oq={class:"search"},aq=Ln(()=>je("div",null,"布局方式：",-1)),uq=Ln(()=>je("div",{id:"graph"},null,-1));function sq(e,r,n,i,o,a){const u=Zr("el-divider"),s=Zr("el-tag"),l=Zr("el-input"),c=Zr("el-button"),f=Zr("el-card"),h=Zr("el-option"),d=Zr("el-select");return io(),Kf(Zf,null,[ZH,je("div",{class:zn(["retract-btn",{retractReverse:o.close}]),onClick:r[0]||(r[0]=p=>o.close=!o.close)},null,2),Oe(f,{class:zn(["box-card",{closeCard:o.close}])},{default:Re(()=>[je("h6",null,"标签:("+qv(this.nodeNum)+"个)",1),Oe(u,{style:{borderTop:"1px dashed #07d6ff"}}),Oe(s,{class:"ml-2",onClick:r[1]||(r[1]=p=>a.searchNode("",o.pageNum))},{default:Re(()=>[Ze("全部")]),_:1}),Oe(s,{class:"ml-2",onClick:r[2]||(r[2]=p=>a.searchNode("原因",o.pageNum)),type:"success"},{default:Re(()=>[Ze("原因")]),_:1}),Oe(s,{class:"ml-2",onClick:r[3]||(r[3]=p=>a.searchNode("方法",o.pageNum)),type:"info"},{default:Re(()=>[Ze("方法")]),_:1}),Oe(s,{class:"ml-2",onClick:r[4]||(r[4]=p=>a.searchNode("缺陷",o.pageNum)),type:"warning"},{default:Re(()=>[Ze("缺陷")]),_:1}),Oe(s,{class:"ml-2",onClick:r[5]||(r[5]=p=>a.searchNode("设备",o.pageNum)),type:"danger"},{default:Re(()=>[Ze("设备")]),_:1}),je("div",XH,[QH,Oe(l,{modelValue:o.nodeName,"onUpdate:modelValue":r[6]||(r[6]=p=>o.nodeName=p),class:"w-50 m-2",placeholder:"请输入节点名称",size:"small"},null,8,["modelValue"]),Oe(c,{onClick:r[7]||(r[7]=p=>a.fuzzySearchNode(o.nodeName,o.pageNum)),type:"primary",size:"small",round:""},{default:Re(()=>[Ze("查询")]),_:1})])]),_:1},8,["class"]),je("div",{class:zn(["retract-btn1",{retractReverse:o.close1}]),onClick:r[8]||(r[8]=p=>o.close1=!o.close1)},null,2),Oe(f,{class:zn(["box-card1 box-card",{closeCard:o.close1}])},{default:Re(()=>[je("h6",null,"关联关系:("+qv(this.linkNum)+"个)",1),Oe(u,{style:{borderTop:"1px dashed #07d6ff"}}),Oe(s,{class:"ml-2",onClick:r[9]||(r[9]=p=>a.searchAllLink(5e3))},{default:Re(()=>[Ze("全部")]),_:1}),Oe(s,{class:"ml-2",onClick:r[10]||(r[10]=p=>a.searchOneKindLink("故障原因",o.pageNum)),type:"success"},{default:Re(()=>[Ze("故障原因")]),_:1}),Oe(s,{class:"ml-2",onClick:r[11]||(r[11]=p=>a.searchOneKindLink("缺陷设备",o.pageNum)),type:"info"},{default:Re(()=>[Ze("缺陷设备")]),_:1}),Oe(s,{class:"ml-2",onClick:r[12]||(r[12]=p=>a.searchOneKindLink("解决方案",o.pageNum)),type:"warning"},{default:Re(()=>[Ze("解决方案")]),_:1}),je("div",JH,[je("div",null,[je("div",null,[eq,Oe(l,{modelValue:o.startNode,"onUpdate:modelValue":r[13]||(r[13]=p=>o.startNode=p),class:"w-50 m-2",placeholder:"请输入节点名称",size:"small"},null,8,["modelValue"])]),je("div",tq,[rq,Oe(l,{modelValue:o.endNode,"onUpdate:modelValue":r[14]||(r[14]=p=>o.endNode=p),class:"w-50 m-2",placeholder:"请输入节点名称",size:"small"},null,8,["modelValue"])])]),Oe(c,{onClick:r[15]||(r[15]=p=>a.searchDeepLink(o.startNode,o.endNode,o.pageNum)),type:"primary",size:"small",round:""},{default:Re(()=>[Ze("查询")]),_:1})])]),_:1},8,["class"]),je("div",{class:zn(["retract-btn2",{retractReverse:o.close2}]),onClick:r[16]||(r[16]=p=>o.close2=!o.close2)},null,2),Oe(f,{class:zn(["box-card2 box-card",{closeCard:o.close2}])},{default:Re(()=>[nq,Oe(u,{style:{borderTop:"1px dashed #07d6ff"}}),je("div",iq,[Oe(s,{class:"ml-2",onClick:r[17]||(r[17]=p=>a.searchMajorLink("安防",o.pageNum)),type:"success"},{default:Re(()=>[Ze("安防")]),_:1}),Oe(s,{class:"ml-2",onClick:r[18]||(r[18]=p=>a.searchMajorLink("远动",o.pageNum)),type:"info"},{default:Re(()=>[Ze("远动")]),_:1}),Oe(s,{class:"ml-2",onClick:r[19]||(r[19]=p=>a.searchMajorLink("专网",o.pageNum)),type:"warning"},{default:Re(()=>[Ze("专网")]),_:1}),Oe(s,{class:"ml-2",onClick:r[20]||(r[20]=p=>a.searchMajorLink("PMU",o.pageNum)),type:"warning"},{default:Re(()=>[Ze("PMU")]),_:1})]),je("div",oq,[aq,Oe(d,{modelValue:o.layoutType,"onUpdate:modelValue":r[21]||(r[21]=p=>o.layoutType=p),class:"m-2",style:{width:"100px"},placeholder:"Select",size:"small"},{default:Re(()=>[(io(!0),Kf(Zf,null,Gv(o.options,p=>(io(),Yv(h,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),je("div",null,[Oe(d,{modelValue:o.pageNum,"onUpdate:modelValue":r[22]||(r[22]=p=>o.pageNum=p),class:"m-2",style:{width:"90px",marginLeft:"10px"},placeholder:"Select",size:"small"},{default:Re(()=>[(io(!0),Kf(Zf,null,Gv(o.pageOptions,p=>(io(),Yv(h,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["class"]),uq],64)}const fq=JO(KH,[["render",sq],["__scopeId","data-v-1df5b0c8"]]);export{fq as default};
